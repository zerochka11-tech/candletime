# ‚úÖ –£–ª—É—á—à–µ–Ω–∏–µ –ø—Ä–æ–≤–µ—Ä–∫–∏ –¥–æ—Å—Ç—É–ø–∞ –∞–¥–º–∏–Ω–æ–≤ - –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ

## üéØ –ü—Ä–æ–±–ª–µ–º–∞ (—Ä–µ—à–µ–Ω–Ω–∞—è)

**–î–æ:**
- ‚ö†Ô∏è –ö–ª–∏–µ–Ω—Ç—Å–∫–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –¥–æ—Å—Ç—É–ø–∞ –±–ª–æ–∫–∏—Ä–æ–≤–∞–ª–∞ UI
- ‚ö†Ô∏è –ü–æ–∫–∞–∑—ã–≤–∞–ª—Å—è —ç–∫—Ä–∞–Ω "–ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–æ—Å—Ç—É–ø–∞..." 
- ‚ö†Ô∏è –ó–∞–¥–µ—Ä–∂–∫–∞ 200-500ms –¥–æ –ø–æ–∫–∞–∑–∞ –∫–æ–Ω—Ç–µ–Ω—Ç–∞
- ‚ö†Ô∏è –ü–ª–æ—Ö–æ–π UX

**–ü–æ—Å–ª–µ:**
- ‚úÖ –°–µ—Ä–≤–µ—Ä–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –¥–æ—Å—Ç—É–ø–∞
- ‚úÖ –ú–≥–Ω–æ–≤–µ–Ω–Ω—ã–π —Ä–µ–¥–∏—Ä–µ–∫—Ç –¥–ª—è –Ω–µ–∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã—Ö
- ‚úÖ –ö–æ–Ω—Ç–µ–Ω—Ç –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è —Å—Ä–∞–∑—É –¥–ª—è –∞–¥–º–∏–Ω–æ–≤
- ‚úÖ –ù–µ—Ç –±–ª–æ–∫–∏—Ä—É—é—â–µ–≥–æ UI

---

## üìù –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è

### 1. –°–æ–∑–¥–∞–Ω Server Component `AdminGuard`
**–§–∞–π–ª:** `app/admin/components/AdminGuard.tsx`

- –ü—Ä–æ–≤–µ—Ä—è–µ—Ç –¥–æ—Å—Ç—É–ø –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ –î–û —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—ã
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç cookies –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è —Å–µ—Å—Å–∏–∏
- –†–µ–¥–∏—Ä–µ–∫—Ç–∏—Ç –Ω–µ–∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã—Ö –Ω–∞ `/auth/login`
- –†–µ–¥–∏—Ä–µ–∫—Ç–∏—Ç –Ω–µ-–∞–¥–º–∏–Ω–æ–≤ –Ω–∞ –≥–ª–∞–≤–Ω—É—é —Å—Ç—Ä–∞–Ω–∏—Ü—É

### 2. –û–±–Ω–æ–≤–ª–µ–Ω Layout –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª–∏
**–§–∞–π–ª:** `app/admin/articles/layout.tsx`

- –û–±–µ—Ä–Ω—É—Ç –≤ `AdminGuard` –¥–ª—è –∑–∞—â–∏—Ç—ã –≤—Å–µ—Ö –∞–¥–º–∏–Ω-—Å—Ç—Ä–∞–Ω–∏—Ü
- –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –¥–ª—è –≤—Å–µ—Ö –¥–æ—á–µ—Ä–Ω–∏—Ö —Å—Ç—Ä–∞–Ω–∏—Ü

### 3. –£–±—Ä–∞–Ω–∞ –∫–ª–∏–µ–Ω—Ç—Å–∫–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –∏–∑ —Å—Ç—Ä–∞–Ω–∏—Ü
**–§–∞–π–ª—ã:**
- `app/admin/articles/page.tsx`
- `app/admin/articles/[id]/page.tsx`

**–ò–∑–º–µ–Ω–µ–Ω–∏—è:**
- –£–¥–∞–ª–µ–Ω–∞ —Ñ—É–Ω–∫—Ü–∏—è `checkAccess()`
- –£–¥–∞–ª–µ–Ω–æ —Å–æ—Å—Ç–æ—è–Ω–∏–µ `isAdmin`
- –£–¥–∞–ª–µ–Ω –±–ª–æ–∫ "–ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–æ—Å—Ç—É–ø–∞..."
- –î–∞–Ω–Ω—ã–µ –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è —Å—Ä–∞–∑—É –±–µ–∑ –æ–∂–∏–¥–∞–Ω–∏—è –ø—Ä–æ–≤–µ—Ä–∫–∏

---

## üîç –ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç

### –ü–æ—Ä—è–¥–æ–∫ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è:

1. **–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∑–∞—Ö–æ–¥–∏—Ç –Ω–∞ `/admin/articles`**
2. **Server Component (AdminGuard) –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ:**
   - –ß–∏—Ç–∞–µ—Ç cookies —Å —Å–µ—Å—Å–∏–µ–π Supabase
   - –ü—Ä–æ–≤–µ—Ä—è–µ—Ç —Ç–æ–∫–µ–Ω –∏ –ø–æ–ª—É—á–∞–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
   - –ü—Ä–æ–≤–µ—Ä—è–µ—Ç email –≤ —Å–ø–∏—Å–∫–µ –∞–¥–º–∏–Ω–æ–≤
3. **–ï—Å–ª–∏ –Ω–µ –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω –∏–ª–∏ –Ω–µ –∞–¥–º–∏–Ω:**
   - –í—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è —Ä–µ–¥–∏—Ä–µ–∫—Ç (–Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ)
   - –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –ù–ï –≤–∏–¥–∏—Ç —Å—Ç—Ä–∞–Ω–∏—Ü—É
4. **–ï—Å–ª–∏ –∞–¥–º–∏–Ω:**
   - –ö–æ–Ω—Ç–µ–Ω—Ç —Ä–µ–Ω–¥–µ—Ä–∏—Ç—Å—è –∏ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è –∫–ª–∏–µ–Ω—Ç—É
   - –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤–∏–¥–∏—Ç —Å—Ç—Ä–∞–Ω–∏—Ü—É —Å—Ä–∞–∑—É

---

## üìä –†–µ–∑—É–ª—å—Ç–∞—Ç—ã

### –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å:
- **–î–æ:** Load time ~231ms + –ø—Ä–æ–≤–µ—Ä–∫–∞ –¥–æ—Å—Ç—É–ø–∞ ~200-500ms = **~400-700ms**
- **–ü–æ—Å–ª–µ:** –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ + Load time = **~231ms** (–Ω–µ—Ç –∑–∞–¥–µ—Ä–∂–∫–∏)

### UX:
- **–î–æ:** "–ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–æ—Å—Ç—É–ø–∞..." ‚Üí –∑–∞–¥–µ—Ä–∂–∫–∞ ‚Üí –∫–æ–Ω—Ç–µ–Ω—Ç
- **–ü–æ—Å–ª–µ:** –ú–≥–Ω–æ–≤–µ–Ω–Ω—ã–π –ø–æ–∫–∞–∑ –∫–æ–Ω—Ç–µ–Ω—Ç–∞ –∏–ª–∏ —Ä–µ–¥–∏—Ä–µ–∫—Ç

### –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å:
- ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ (–Ω–µ–ª—å–∑—è –æ–±–æ–π—Ç–∏)
- ‚úÖ –†–∞–Ω–Ω–∏–π —Ä–µ–¥–∏—Ä–µ–∫—Ç (–∑–∞—â–∏—Ç–∞ –æ—Ç –¥–æ—Å—Ç—É–ø–∞ –∫ –¥–∞–Ω–Ω—ã–º)

---

## ‚ö†Ô∏è –í–∞–∂–Ω—ã–µ –∑–∞–º–µ—á–∞–Ω–∏—è

1. **Cookies:** AdminGuard —á–∏—Ç–∞–µ—Ç cookies –Ω–∞–ø—Ä—è–º—É—é. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ Supabase cookies –¥–æ—Å—Ç—É–ø–Ω—ã –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ.

2. **Environment Variables:** `NEXT_PUBLIC_ADMIN_EMAILS` –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω –≤ Vercel.

3. **–°–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å:** –°—Ç–∞—Ä—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ `checkAdminAccess` –≤ `lib/admin.ts` –æ—Å—Ç–∞–ª–∏—Å—å –¥–ª—è –æ–±—Ä–∞—Ç–Ω–æ–π —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏ —Å –¥—Ä—É–≥–∏–º–∏ —á–∞—Å—Ç—è–º–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è (–Ω–∞–ø—Ä–∏–º–µ—Ä, `SiteHeader`).

---

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å–ª–µ–¥—É—é—â–∏–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏:

1. ‚úÖ **–ù–µ–∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å:**
   - –ü–µ—Ä–µ—Ö–æ–¥–∏—Ç –Ω–∞ `/admin/articles`
   - –î–æ–ª–∂–µ–Ω –±—ã—Ç—å —Ä–µ–¥–∏—Ä–µ–∫—Ç –Ω–∞ `/auth/login?redirect=/admin/articles`

2. ‚úÖ **–ê–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã–π –Ω–µ-–∞–¥–º–∏–Ω:**
   - –ü–µ—Ä–µ—Ö–æ–¥–∏—Ç –Ω–∞ `/admin/articles`
   - –î–æ–ª–∂–µ–Ω –±—ã—Ç—å —Ä–µ–¥–∏—Ä–µ–∫—Ç –Ω–∞ `/`

3. ‚úÖ **–ê–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã–π –∞–¥–º–∏–Ω:**
   - –ü–µ—Ä–µ—Ö–æ–¥–∏—Ç –Ω–∞ `/admin/articles`
   - –î–æ–ª–∂–µ–Ω –≤–∏–¥–µ—Ç—å –∫–æ–Ω—Ç–µ–Ω—Ç —Å—Ä–∞–∑—É (–±–µ–∑ "–ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–æ—Å—Ç—É–ø–∞...")

---

## üöÄ –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

1. **Middleware (–¥–ª—è –µ—â–µ –±–æ–ª—å—à–µ–π –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏):**
   - –ú–æ–∂–Ω–æ —Å–æ–∑–¥–∞—Ç—å Next.js middleware –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –Ω–∞ edge
   - –≠—Ç–æ –¥–∞—Å—Ç –µ—â–µ –±–æ–ª–µ–µ –±—ã—Å—Ç—Ä—É—é –ø—Ä–æ–≤–µ—Ä–∫—É

2. **–ö–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—Ä–æ–≤–µ—Ä–∫–∏:**
   - –ö–µ—à–∏—Ä–æ–≤–∞—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç –ø—Ä–æ–≤–µ—Ä–∫–∏ –≤ middleware (1-2 –º–∏–Ω—É—Ç—ã)
   - –£–º–µ–Ω—å—à–∏—Ç –Ω–∞–≥—Ä—É–∑–∫—É –Ω–∞ Supabase

3. **–õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ:**
   - –î–æ–±–∞–≤–∏—Ç—å –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–æ–ø—ã—Ç–æ–∫ –¥–æ—Å—Ç—É–ø–∞ –Ω–µ-–∞–¥–º–∏–Ω–æ–≤
   - –î–ª—è –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏

---

## üìù –§–∞–π–ª—ã –∏–∑–º–µ–Ω–µ–Ω—ã

- ‚úÖ `app/admin/components/AdminGuard.tsx` - —Å–æ–∑–¥–∞–Ω
- ‚úÖ `app/admin/articles/layout.tsx` - –æ–±–Ω–æ–≤–ª–µ–Ω
- ‚úÖ `app/admin/articles/page.tsx` - —É–ø—Ä–æ—â–µ–Ω
- ‚úÖ `app/admin/articles/[id]/page.tsx` - —É–ø—Ä–æ—â–µ–Ω

---

## ‚úÖ –ì–æ—Ç–æ–≤–æ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é!

–í—Å–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω—ã –∏ —Å–æ–±–∏—Ä–∞—é—Ç—Å—è –±–µ–∑ –æ—à–∏–±–æ–∫. –ú–æ–∂–Ω–æ –¥–µ–ø–ª–æ–∏—Ç—å!

