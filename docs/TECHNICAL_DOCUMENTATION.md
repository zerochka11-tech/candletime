# üìò –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è CandleTime

**–í–µ—Ä—Å–∏—è:** 2.0  
**–î–∞—Ç–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è:** 2025-01-27  
**–°—Ç–∞—Ç—É—Å –ø—Ä–æ–µ–∫—Ç–∞:** ‚úÖ Production (candletime.ru)

---

## üìã –°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ

1. [–û–±–∑–æ—Ä –ø—Ä–æ–µ–∫—Ç–∞](#–æ–±–∑–æ—Ä-–ø—Ä–æ–µ–∫—Ç–∞)
2. [–¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–π —Å—Ç–µ–∫](#—Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏–π-—Å—Ç–µ–∫)
3. [–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ —Å–∏—Å—Ç–µ–º—ã](#–∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞-—Å–∏—Å—Ç–µ–º—ã)
4. [–°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞](#—Å—Ç—Ä—É–∫—Ç—É—Ä–∞-–ø—Ä–æ–µ–∫—Ç–∞)
5. [–ú–∞—Ä—à—Ä—É—Ç—ã –∏ —Å—Ç—Ä–∞–Ω–∏—Ü—ã](#–º–∞—Ä—à—Ä—É—Ç—ã-–∏-—Å—Ç—Ä–∞–Ω–∏—Ü—ã)
6. [–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö](#–±–∞–∑–∞-–¥–∞–Ω–Ω—ã—Ö)
7. [API Endpoints](#api-endpoints)
8. [–ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –∏ –º–æ–¥—É–ª–∏](#–∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã-–∏-–º–æ–¥—É–ª–∏)
9. [–£—Ç–∏–ª–∏—Ç—ã –∏ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏](#—É—Ç–∏–ª–∏—Ç—ã-–∏-–±–∏–±–ª–∏–æ—Ç–µ–∫–∏)
10. [–ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è –∏ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è](#–∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è-–∏-–∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è)
11. [–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏](#–∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏)
12. [SEO –∏ –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ](#seo-–∏-–º–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ)
13. [–†–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ](#—Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ)
14. [–ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è](#–ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ-–æ–∫—Ä—É–∂–µ–Ω–∏—è)
15. [–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ](#—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ)
16. [–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å](#–ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å)
17. [–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å](#–±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å)
18. [–†–∞–∑—Ä–∞–±–æ—Ç–∫–∞ –∏ –ø–æ–¥–¥–µ—Ä–∂–∫–∞](#—Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞-–∏-–ø–æ–¥–¥–µ—Ä–∂–∫–∞)

---

## üéØ –û–±–∑–æ—Ä –ø—Ä–æ–µ–∫—Ç–∞

### –û–ø–∏—Å–∞–Ω–∏–µ

**CandleTime** ‚Äî –≤–µ–±-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –¥–ª—è –∑–∞–∂–∏–≥–∞–Ω–∏—è —Å–∏–º–≤–æ–ª–∏—á–µ—Å–∫–∏—Ö —Å–≤–µ—á–µ–π –æ–Ω–ª–∞–π–Ω. –ü–ª–∞—Ç—Ñ–æ—Ä–º–∞ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç —Å–ø–æ–∫–æ–π–Ω–æ–µ –º–µ—Å—Ç–æ –¥–ª—è –≤—ã—Ä–∞–∂–µ–Ω–∏—è —ç–º–æ—Ü–∏–π, –ø–æ–¥–¥–µ—Ä–∂–∫–∏ –∏ –ø–∞–º—è—Ç–∏ –±–µ–∑ —Å–æ—Ü–∏–∞–ª—å–Ω—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π (–ª–∞–π–∫–æ–≤, –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤, –ª–µ–Ω—Ç—ã).

**URL:** https://candletime.ru  
**–í–µ—Ä—Å–∏—è:** 0.1.0  
**–°—Ç–∞—Ç—É—Å:** Production

### –û—Å–Ω–æ–≤–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏

- ‚úÖ **–°–æ–∑–¥–∞–Ω–∏–µ —Å–∏–º–≤–æ–ª–∏—á–µ—Å–∫–∏—Ö —Å–≤–µ—á–µ–π** ‚Äî 5 —Ç–∏–ø–æ–≤ (—Å–ø–æ–∫–æ–π—Å—Ç–≤–∏–µ, –ø–æ–¥–¥–µ—Ä–∂–∫–∞, –ø–∞–º—è—Ç—å, –±–ª–∞–≥–æ–¥–∞—Ä–Ω–æ—Å—Ç—å, —Ñ–æ–∫—É—Å)
- ‚úÖ **–®–∞–±–ª–æ–Ω—ã —Å–≤–µ—á–µ–π** ‚Äî 12 –≥–æ—Ç–æ–≤—ã—Ö —à–∞–±–ª–æ–Ω–æ–≤ –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ —Å–æ–∑–¥–∞–Ω–∏—è
- ‚úÖ **–ü—É–±–ª–∏—á–Ω—ã–µ —Å—Å—ã–ª–∫–∏** ‚Äî –∫–∞–∂–¥–∞—è —Å–≤–µ—á–∞ –∏–º–µ–µ—Ç —É–Ω–∏–∫–∞–ª—å–Ω—É—é —Å—Å—ã–ª–∫—É –¥–ª—è —à–∞—Ä–∏–Ω–≥–∞
- ‚úÖ **–õ–∏—á–Ω—ã–π –∫–∞–±–∏–Ω–µ—Ç** ‚Äî –∏—Å—Ç–æ—Ä–∏—è –≤—Å–µ—Ö —Å–æ–∑–¥–∞–Ω–Ω—ã—Ö —Å–≤–µ—á–µ–π
- ‚úÖ **–ê–Ω–æ–Ω–∏–º–Ω–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ** ‚Äî –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –±–µ–∑ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏
- ‚úÖ **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –ø–æ–≥–∞—à–µ–Ω–∏–µ** ‚Äî —Å–≤–µ—á–∏ –≥–∞—Å–Ω—É—Ç –ø–æ –∏—Å—Ç–µ—á–µ–Ω–∏–∏ –≤—Ä–µ–º–µ–Ω–∏ (1 —á–∞—Å, 24 —á–∞—Å–∞, 7 –¥–Ω–µ–π)
- ‚úÖ **–†—É—á–Ω–æ–µ –ø–æ–≥–∞—à–µ–Ω–∏–µ** ‚Äî –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –ø–æ–≥–∞—Å–∏—Ç—å —Å–≤–µ—á—É –≤—Ä—É—á–Ω—É—é
- ‚úÖ **–ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–∞—è –∫–∞—Ä—Ç–∞** ‚Äî –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è —Å–≤–µ—á–µ–π –Ω–∞ –∫–∞—Ä—Ç–µ –º–∏—Ä–∞
- ‚úÖ **FAQ/–ë–ª–æ–≥ —Å–∏—Å—Ç–µ–º–∞** ‚Äî —Å–∏—Å—Ç–µ–º–∞ —Å—Ç–∞—Ç–µ–π —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π Markdown
- ‚úÖ **–ê–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å** ‚Äî —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å—Ç–∞—Ç—å—è–º–∏ –∏ –≥–µ–Ω–µ—Ä–∞—Ü–∏—è –∫–æ–Ω—Ç–µ–Ω—Ç–∞ —á–µ—Ä–µ–∑ AI

### –¶–µ–ª–µ–≤–∞—è –∞—É–¥–∏—Ç–æ—Ä–∏—è

1. **–õ—é–¥–∏, –ø—Ä–∞–∫—Ç–∏–∫—É—é—â–∏–µ –æ—Å–æ–∑–Ω–∞–Ω–Ω–æ—Å—Ç—å** (25-45 –ª–µ—Ç)
2. **IT-—Å–ø–µ—Ü–∏–∞–ª–∏—Å—Ç—ã** (22-40 –ª–µ—Ç) ‚Äî –µ—Å—Ç—å —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã–µ IT-—à–∞–±–ª–æ–Ω—ã
3. **–õ—é–¥–∏ –≤ –≤–∞–∂–Ω—ã–µ –º–æ–º–µ–Ω—Ç—ã –∂–∏–∑–Ω–∏** (18-60+ –ª–µ—Ç)
4. **–ú–∏–Ω–∏–º–∞–ª–∏—Å—Ç—ã** (25-50 –ª–µ—Ç)

---

## üõ† –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–π —Å—Ç–µ–∫

### Frontend

| –¢–µ—Ö–Ω–æ–ª–æ–≥–∏—è | –í–µ—Ä—Å–∏—è | –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ |
|------------|--------|------------|
| Next.js | 16.0.7 | React —Ñ—Ä–µ–π–º–≤–æ—Ä–∫ —Å App Router |
| React | 19.2.0 | UI –±–∏–±–ª–∏–æ—Ç–µ–∫–∞ |
| TypeScript | 5.x | –¢–∏–ø–∏–∑–∞—Ü–∏—è |
| Tailwind CSS | 3.4.14 | –£—Ç–∏–ª–∏—Ç–∞—Ä–Ω–∞—è —Å—Ç–∏–ª–∏–∑–∞—Ü–∏—è |
| @tailwindcss/typography | 0.5.19 | –°—Ç–∏–ª–∏ –¥–ª—è Markdown |
| next-intl | 4.5.8 | –ò–Ω—Ç–µ—Ä–Ω–∞—Ü–∏–æ–Ω–∞–ª–∏–∑–∞—Ü–∏—è (ru/en) |
| Framer Motion | 12.23.25 | –ê–Ω–∏–º–∞—Ü–∏–∏ (—É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω, –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –º–∏–Ω–∏–º–∞–ª—å–Ω–æ) |
| clsx | 2.1.1 | –£—Ç–∏–ª–∏—Ç–∞ –¥–ª—è –æ–±—ä–µ–¥–∏–Ω–µ–Ω–∏—è –∫–ª–∞—Å—Å–æ–≤ |
| tailwind-merge | 3.4.0 | –û–±—ä–µ–¥–∏–Ω–µ–Ω–∏–µ Tailwind –∫–ª–∞—Å—Å–æ–≤ |

### Backend & Database

| –¢–µ—Ö–Ω–æ–ª–æ–≥–∏—è | –í–µ—Ä—Å–∏—è | –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ |
|------------|--------|------------|
| Supabase | Latest | PostgreSQL –ë–î + Auth |
| @supabase/supabase-js | 2.86.2 | Supabase –∫–ª–∏–µ–Ω—Ç |
| PostgreSQL | - | –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö (—á–µ—Ä–µ–∑ Supabase) |

### –ö–∞—Ä—Ç—ã –∏ –≥–µ–æ–ª–æ–∫–∞—Ü–∏—è

| –¢–µ—Ö–Ω–æ–ª–æ–≥–∏—è | –í–µ—Ä—Å–∏—è | –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ |
|------------|--------|------------|
| Leaflet | 1.9.4 | –ë–∏–±–ª–∏–æ—Ç–µ–∫–∞ –∫–∞—Ä—Ç |
| React-Leaflet | 5.0.0 | React –æ–±–µ—Ä—Ç–∫–∞ –¥–ª—è Leaflet |
| Leaflet.markercluster | 1.5.3 | –ö–ª–∞—Å—Ç–µ—Ä–∏–∑–∞—Ü–∏—è –º–∞—Ä–∫–µ—Ä–æ–≤ |
| Nominatim (OSM) | - | –ì–µ–æ–∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏–µ –∞–¥—Ä–µ—Å–æ–≤ |

### SEO & –ú–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ

| –¢–µ—Ö–Ω–æ–ª–æ–≥–∏—è | –í–µ—Ä—Å–∏—è | –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ |
|------------|--------|------------|
| @vercel/og | 0.8.5 | –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–µ OG –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è |
| Schema.org | - | –°—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ (9 —Ç–∏–ø–æ–≤) |

### –ö–æ–Ω—Ç–µ–Ω—Ç

| –¢–µ—Ö–Ω–æ–ª–æ–≥–∏—è | –í–µ—Ä—Å–∏—è | –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ |
|------------|--------|------------|
| react-markdown | 10.1.0 | –†–µ–Ω–¥–µ—Ä–∏–Ω–≥ Markdown |
| remark-gfm | 4.0.1 | GitHub Flavored Markdown |
| rehype-raw | 7.0.0 | –ü–æ–¥–¥–µ—Ä–∂–∫–∞ HTML –≤ Markdown |
| rehype-sanitize | 6.0.0 | –°–∞–Ω–∏—Ç–∏–∑–∞—Ü–∏—è HTML |

### AI

| –¢–µ—Ö–Ω–æ–ª–æ–≥–∏—è | –í–µ—Ä—Å–∏—è | –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ |
|------------|--------|------------|
| @google/generative-ai | 0.24.1 | Google Gemini API |

### –ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏

| –¢–µ—Ö–Ω–æ–ª–æ–≥–∏—è | –í–µ—Ä—Å–∏—è | –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ |
|------------|--------|------------|
| ESLint | 9 | –õ–∏–Ω—Ç–∏–Ω–≥ |
| Jest | 30.2.0 | –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ |
| TypeScript | 5 | –¢–∏–ø–∏–∑–∞—Ü–∏—è |
| PostCSS | 8.5.6 | –û–±—Ä–∞–±–æ—Ç–∫–∞ CSS |
| Autoprefixer | 10.4.22 | –ê–≤—Ç–æ–ø—Ä–µ—Ñ–∏–∫—Å—ã |
| ts-node | 10.9.2 | –ó–∞–ø—É—Å–∫ TypeScript —Å–∫—Ä–∏–ø—Ç–æ–≤ |

---

## üèó –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ —Å–∏—Å—Ç–µ–º—ã

### –û–±—â–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                     –ö–ª–∏–µ–Ω—Ç (–ë—Ä–∞—É–∑–µ—Ä)                      ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê   ‚îÇ
‚îÇ  ‚îÇ   Next.js    ‚îÇ  ‚îÇ   React     ‚îÇ  ‚îÇ  Tailwind    ‚îÇ   ‚îÇ
‚îÇ  ‚îÇ  App Router  ‚îÇ  ‚îÇ  Components ‚îÇ  ‚îÇ     CSS     ‚îÇ   ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò   ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                          ‚îÇ
                          ‚ñº
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ              Next.js Server (Vercel)                     ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê   ‚îÇ
‚îÇ  ‚îÇ  API Routes  ‚îÇ  ‚îÇ Server      ‚îÇ  ‚îÇ  Static     ‚îÇ   ‚îÇ
‚îÇ  ‚îÇ  /api/*      ‚îÇ  ‚îÇ Components  ‚îÇ  ‚îÇ  Generation ‚îÇ   ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò   ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                          ‚îÇ
        ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
        ‚ñº                 ‚ñº                 ‚ñº
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ   Supabase   ‚îÇ  ‚îÇ   Gemini     ‚îÇ  ‚îÇ  Nominatim   ‚îÇ
‚îÇ  PostgreSQL  ‚îÇ  ‚îÇ     API      ‚îÇ  ‚îÇ   (OSM)      ‚îÇ
‚îÇ   + Auth     ‚îÇ  ‚îÇ              ‚îÇ  ‚îÇ              ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

### –ü–∞—Ç—Ç–µ—Ä–Ω—ã –ø—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

- **Server Components –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é** ‚Äî –º–∏–Ω–∏–º–∏–∑–∞—Ü–∏—è JavaScript –Ω–∞ –∫–ª–∏–µ–Ω—Ç–µ
- **Client Components —Ç–æ–ª—å–∫–æ –≥–¥–µ –Ω—É–∂–Ω–æ** ‚Äî –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å —á–µ—Ä–µ–∑ `'use client'`
- **API Routes** ‚Äî —Å–µ—Ä–≤–µ—Ä–Ω–∞—è –ª–æ–≥–∏–∫–∞ –≤ `/app/api`
- **Row Level Security (RLS)** ‚Äî –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å –¥–∞–Ω–Ω—ã—Ö –Ω–∞ —É—Ä–æ–≤–Ω–µ –ë–î
- **Dynamic Imports** ‚Äî –ª–µ–Ω–∏–≤–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ —Ç—è–∂–µ–ª—ã—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ (Leaflet, Analytics)
- **Structured Data (JSON-LD)** ‚Äî SEO –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è —á–µ—Ä–µ–∑ Schema.org

### –†–æ—É—Ç–∏–Ω–≥

–ü—Ä–æ–µ–∫—Ç –∏—Å–ø–æ–ª—å–∑—É–µ—Ç Next.js App Router —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π –∏–Ω—Ç–µ—Ä–Ω–∞—Ü–∏–æ–Ω–∞–ª–∏–∑–∞—Ü–∏–∏ —á–µ—Ä–µ–∑ `next-intl`:

```
app/
‚îú‚îÄ‚îÄ [locale]/          # –õ–æ–∫–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–µ –º–∞—Ä—à—Ä—É—Ç—ã (ru, en)
‚îÇ   ‚îú‚îÄ‚îÄ layout.tsx     # Layout —Å i18n –ø—Ä–æ–≤–∞–π–¥–µ—Ä–æ–º
‚îÇ   ‚îú‚îÄ‚îÄ page.tsx       # –ì–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞
‚îÇ   ‚îú‚îÄ‚îÄ light/         # –°–æ–∑–¥–∞–Ω–∏–µ —Å–≤–µ—á–∏
‚îÇ   ‚îú‚îÄ‚îÄ candles/       # –°–ø–∏—Å–æ–∫ —Å–≤–µ—á–µ–π
‚îÇ   ‚îú‚îÄ‚îÄ candle/[id]/   # –°—Ç—Ä–∞–Ω–∏—Ü–∞ —Å–≤–µ—á–∏
‚îÇ   ‚îú‚îÄ‚îÄ dashboard/     # –õ–∏—á–Ω—ã–π –∫–∞–±–∏–Ω–µ—Ç
‚îÇ   ‚îú‚îÄ‚îÄ faq/           # FAQ/–ë–ª–æ–≥
‚îÇ   ‚îú‚îÄ‚îÄ map/           # –ö–∞—Ä—Ç–∞ –º–∏—Ä–∞
‚îÇ   ‚îú‚îÄ‚îÄ auth/          # –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è
‚îÇ   ‚îî‚îÄ‚îÄ privacy/       # –ü–æ–ª–∏—Ç–∏–∫–∞ –∫–æ–Ω—Ñ–∏–¥–µ–Ω—Ü–∏–∞–ª—å–Ω–æ—Å—Ç–∏
‚îú‚îÄ‚îÄ admin/             # –ê–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å (–±–µ–∑ –ª–æ–∫–∞–ª–∏–∑–∞—Ü–∏–∏)
‚îî‚îÄ‚îÄ api/               # API Routes
```

---

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
online-candles/
‚îú‚îÄ‚îÄ app/                          # Next.js App Router
‚îÇ   ‚îú‚îÄ‚îÄ [locale]/                 # –õ–æ–∫–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–µ –º–∞—Ä—à—Ä—É—Ç—ã
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ layout.tsx            # Layout —Å i18n
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ page.tsx              # –ì–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ light/                # –°–æ–∑–¥–∞–Ω–∏–µ —Å–≤–µ—á–∏
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ candles/              # –°–ø–∏—Å–æ–∫ —Å–≤–µ—á–µ–π
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ candle/[id]/          # –°—Ç—Ä–∞–Ω–∏—Ü–∞ —Å–≤–µ—á–∏
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ dashboard/            # –õ–∏—á–Ω—ã–π –∫–∞–±–∏–Ω–µ—Ç
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ faq/                  # FAQ/–ë–ª–æ–≥
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ map/                  # –ö–∞—Ä—Ç–∞ –º–∏—Ä–∞
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ auth/                 # –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ privacy/              # –ü–æ–ª–∏—Ç–∏–∫–∞ –∫–æ–Ω—Ñ–∏–¥–µ–Ω—Ü–∏–∞–ª—å–Ω–æ—Å—Ç–∏
‚îÇ   ‚îú‚îÄ‚îÄ admin/                     # –ê–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ articles/             # –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å—Ç–∞—Ç—å—è–º–∏
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ components/           # –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –∞–¥–º–∏–Ω–∫–∏
‚îÇ   ‚îú‚îÄ‚îÄ api/                       # API Routes
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ admin/                # –ê–¥–º–∏–Ω—Å–∫–∏–µ endpoints
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ geocode/              # –ì–µ–æ–∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏–µ
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ map/                  # API –¥–ª—è –∫–∞—Ä—Ç—ã
‚îÇ   ‚îú‚îÄ‚îÄ og/                        # –ì–µ–Ω–µ—Ä–∞—Ü–∏—è OG –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π
‚îÇ   ‚îú‚îÄ‚îÄ sitemap.ts               # –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–π sitemap
‚îÇ   ‚îú‚îÄ‚îÄ robots.ts                # Robots.txt
‚îÇ   ‚îî‚îÄ‚îÄ layout.tsx                # –ö–æ—Ä–Ω–µ–≤–æ–π layout
‚îú‚îÄ‚îÄ components/                    # React –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
‚îÇ   ‚îú‚îÄ‚îÄ admin/                   # –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª–∏
‚îÇ   ‚îú‚îÄ‚îÄ map/                     # –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –∫–∞—Ä—Ç—ã
‚îÇ   ‚îú‚îÄ‚îÄ geographic/              # –ì–µ–æ–≥—Ä–∞—Ñ–∏—á–µ—Å–∫–∏–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
‚îÇ   ‚îú‚îÄ‚îÄ ui/                      # UI –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
‚îÇ   ‚îú‚îÄ‚îÄ SiteHeader.tsx           # –ù–∞–≤–∏–≥–∞—Ü–∏—è
‚îÇ   ‚îú‚îÄ‚îÄ SiteFooter.tsx          # –§—É—Ç–µ—Ä
‚îÇ   ‚îú‚îÄ‚îÄ MarkdownContent.tsx      # –†–µ–Ω–¥–µ—Ä–∏–Ω–≥ Markdown
‚îÇ   ‚îú‚îÄ‚îÄ Breadcrumbs.tsx         # –•–ª–µ–±–Ω—ã–µ –∫—Ä–æ—à–∫–∏
‚îÇ   ‚îú‚îÄ‚îÄ ThemeToggle.tsx          # –ü–µ—Ä–µ–∫–ª—é—á–∞—Ç–µ–ª—å —Ç–µ–º—ã
‚îÇ   ‚îú‚îÄ‚îÄ Analytics.tsx            # Google Analytics
‚îÇ   ‚îú‚îÄ‚îÄ CookieConsent.tsx        # –°–æ–≥–ª–∞—Å–∏–µ –Ω–∞ cookies
‚îÇ   ‚îî‚îÄ‚îÄ ...                      # –î—Ä—É–≥–∏–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
‚îú‚îÄ‚îÄ lib/                          # –£—Ç–∏–ª–∏—Ç—ã –∏ —Ö–µ–ª–ø–µ—Ä—ã
‚îÇ   ‚îú‚îÄ‚îÄ admin.ts                 # –§—É–Ω–∫—Ü–∏–∏ –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª–∏
‚îÇ   ‚îú‚îÄ‚îÄ constants.ts             # –ö–æ–Ω—Å—Ç–∞–Ω—Ç—ã
‚îÇ   ‚îú‚îÄ‚îÄ errorHandler.ts          # –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫
‚îÇ   ‚îú‚îÄ‚îÄ gemini.ts                # –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Gemini API
‚îÇ   ‚îú‚îÄ‚îÄ seo.ts                   # SEO —É—Ç–∏–ª–∏—Ç—ã
‚îÇ   ‚îú‚îÄ‚îÄ supabaseClient.ts        # Supabase –∫–ª–∏–µ–Ω—Ç
‚îÇ   ‚îú‚îÄ‚îÄ types.ts                 # TypeScript —Ç–∏–ø—ã
‚îÇ   ‚îú‚îÄ‚îÄ utils.ts                 # –û–±—â–∏–µ —É—Ç–∏–ª–∏—Ç—ã
‚îÇ   ‚îú‚îÄ‚îÄ theme.ts                 # –¢–µ–º–∞
‚îÇ   ‚îî‚îÄ‚îÄ yandexMetrika.ts         # Yandex Metrika
‚îú‚îÄ‚îÄ i18n/                         # –ò–Ω—Ç–µ—Ä–Ω–∞—Ü–∏–æ–Ω–∞–ª–∏–∑–∞—Ü–∏—è
‚îÇ   ‚îú‚îÄ‚îÄ request.ts               # –ó–∞–ø—Ä–æ—Å—ã i18n
‚îÇ   ‚îî‚îÄ‚îÄ routing.ts               # –†–æ—É—Ç–∏–Ω–≥ i18n
‚îú‚îÄ‚îÄ messages/                     # –ü–µ—Ä–µ–≤–æ–¥—ã
‚îÇ   ‚îú‚îÄ‚îÄ ru.json                  # –†—É—Å—Å–∫–∏–π
‚îÇ   ‚îî‚îÄ‚îÄ en.json                  # –ê–Ω–≥–ª–∏–π—Å–∫–∏–π
‚îú‚îÄ‚îÄ public/                       # –°—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ —Ñ–∞–π–ª—ã
‚îú‚îÄ‚îÄ docs/                         # –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
‚îú‚îÄ‚îÄ scripts/                      # –°–∫—Ä–∏–ø—Ç—ã
‚îú‚îÄ‚îÄ __tests__/                    # –¢–µ—Å—Ç—ã
‚îú‚îÄ‚îÄ next.config.ts               # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è Next.js
‚îú‚îÄ‚îÄ tsconfig.json                 # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è TypeScript
‚îú‚îÄ‚îÄ tailwind.config.js           # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è Tailwind
‚îî‚îÄ‚îÄ package.json                 # –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
```

---

## üó∫ –ú–∞—Ä—à—Ä—É—Ç—ã –∏ —Å—Ç—Ä–∞–Ω–∏—Ü—ã

### –ü—É–±–ª–∏—á–Ω—ã–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã

#### `/` (–ì–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞)
- **–§–∞–π–ª:** `app/page.tsx`
- **–¢–∏–ø:** Client Component
- **–§—É–Ω–∫—Ü–∏–∏:**
  - –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ (–∞–∫—Ç–∏–≤–Ω—ã–µ —Å–≤–µ—á–∏, —Å–µ–≥–æ–¥–Ω—è –∑–∞–∂–≥–ª–∏, –ø–æ–ø—É–ª—è—Ä–Ω—ã–π —Ç–∏–ø)
  - –°—Å—ã–ª–∫–∏ –Ω–∞ –æ—Å–Ω–æ–≤–Ω—ã–µ —Ä–∞–∑–¥–µ–ª—ã
  - –°—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ (WebSite)

#### `/light` (–°–æ–∑–¥–∞–Ω–∏–µ —Å–≤–µ—á–∏)
- **–§–∞–π–ª:** `app/[locale]/light/page.tsx`
- **–¢–∏–ø:** Client Component
- **–§—É–Ω–∫—Ü–∏–∏:**
  - –í—ã–±–æ—Ä —à–∞–±–ª–æ–Ω–∞ (12 –≥–æ—Ç–æ–≤—ã—Ö —à–∞–±–ª–æ–Ω–æ–≤)
  - –°–æ–∑–¥–∞–Ω–∏–µ —Å–≤–æ–µ–π —Å–≤–µ—á–∏ (5 —Ç–∏–ø–æ–≤)
  - –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –¥–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ (1 —á–∞—Å, 24 —á–∞—Å–∞, 7 –¥–Ω–µ–π)
  - –ê–Ω–æ–Ω–∏–º–Ω—ã–π —Ä–µ–∂–∏–º
  - –ê–≤—Ç–æ—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —á–µ—Ä–Ω–æ–≤–∏–∫–∞ –≤ localStorage
  - –ì–µ–æ–ª–æ–∫–∞—Ü–∏—è (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
  - –°—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ (HowTo)

#### `/candles` (–°–ø–∏—Å–æ–∫ —Å–≤–µ—á–µ–π)
- **–§–∞–π–ª:** `app/[locale]/candles/page.tsx`
- **–¢–∏–ø:** Server Component
- **–§—É–Ω–∫—Ü–∏–∏:**
  - –°–ø–∏—Å–æ–∫ –∞–∫—Ç–∏–≤–Ω—ã—Ö —Å–≤–µ—á–µ–π (–¥–æ 50)
  - –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ø–æ —Ç–∏–ø—É
  - –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –æ—Å—Ç–∞–≤—à–µ–≥–æ—Å—è –≤—Ä–µ–º–µ–Ω–∏
  - –°—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ (ItemList, BreadcrumbList)

#### `/candle/[id]` (–°—Ç—Ä–∞–Ω–∏—Ü–∞ —Å–≤–µ—á–∏)
- **–§–∞–π–ª:** `app/[locale]/candle/[id]/page.tsx`
- **–¢–∏–ø:** Server Component
- **–§—É–Ω–∫—Ü–∏–∏:**
  - –ü–æ–ª–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ —Å–≤–µ—á–µ
  - Live-–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –æ—Å—Ç–∞–≤—à–µ–≥–æ—Å—è –≤—Ä–µ–º–µ–Ω–∏
  - –ö–Ω–æ–ø–∫–∏ "–ü–æ–¥–µ–ª–∏—Ç—å—Å—è" –∏ "–ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å —Å—Å—ã–ª–∫—É"
  - –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–µ –º–µ—Ç–∞-—Ç–µ–≥–∏ –¥–ª—è SEO
  - –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–µ OG –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è
  - –°—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ (CreativeWork, BreadcrumbList)

#### `/dashboard` (–õ–∏—á–Ω—ã–π –∫–∞–±–∏–Ω–µ—Ç)
- **–§–∞–π–ª:** `app/[locale]/dashboard/page.tsx`
- **–¢–∏–ø:** Client Component
- **–§—É–Ω–∫—Ü–∏–∏:**
  - –ò—Å—Ç–æ—Ä–∏—è –≤—Å–µ—Ö —Å–≤–µ—á–µ–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (–ø–æ—Å–ª–µ–¥–Ω–∏–µ 30 –¥–Ω–µ–π)
  - –§–∏–ª—å—Ç—Ä—ã: –≤—Å–µ, –∞–∫—Ç–∏–≤–Ω—ã–µ, –ø–æ–≥–∞—Å—à–∏–µ, –ø–æ–≥–∞—à–µ–Ω–Ω—ã–µ –≤—Ä—É—á–Ω—É—é
  - –ü–∞–≥–∏–Ω–∞—Ü–∏—è (15 —Å–≤–µ—á–µ–π –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—É)
  - –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –ø–æ–≥–∞—Å–∏—Ç—å –∞–∫—Ç–∏–≤–Ω—É—é —Å–≤–µ—á—É
  - –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ —Å—Ç–∞—Ç—É—Å–∞–º
  - –°—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ (BreadcrumbList)

#### `/faq` (FAQ/–ë–ª–æ–≥)
- **–§–∞–π–ª:** `app/[locale]/faq/page.tsx`
- **–¢–∏–ø:** Server Component
- **–§—É–Ω–∫—Ü–∏–∏:**
  - –°–ø–∏—Å–æ–∫ —Å—Ç–∞—Ç–µ–π —Å –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º–∏
  - –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º
  - –°—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ (FAQPage, BreadcrumbList)

#### `/faq/[slug]` (–û—Ç–¥–µ–ª—å–Ω–∞—è —Å—Ç–∞—Ç—å—è)
- **–§–∞–π–ª:** `app/[locale]/faq/[slug]/page.tsx`
- **–¢–∏–ø:** Server Component
- **–§—É–Ω–∫—Ü–∏–∏:**
  - –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Å—Ç–∞—Ç—å–∏ –≤ Markdown
  - –°—á–µ—Ç—á–∏–∫ –ø—Ä–æ—Å–º–æ—Ç—Ä–æ–≤
  - –í—Ä–µ–º—è —á—Ç–µ–Ω–∏—è
  - –°—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ (Article, BreadcrumbList)

#### `/map` (–ö–∞—Ä—Ç–∞ –º–∏—Ä–∞)
- **–§–∞–π–ª:** `app/[locale]/map/page.tsx`
- **–¢–∏–ø:** Client Component
- **–§—É–Ω–∫—Ü–∏–∏:**
  - –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–∞—è –∫–∞—Ä—Ç–∞ —Å Leaflet
  - –í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è —Å–≤–µ—á–µ–π –Ω–∞ –∫–∞—Ä—Ç–µ
  - –ö–ª–∞—Å—Ç–µ—Ä–∏–∑–∞—Ü–∏—è –º–∞—Ä–∫–µ—Ä–æ–≤
  - –§–∏–ª—å—Ç—Ä—ã –ø–æ —Ç–∏–ø—É –∏ —Å—Ç–∞—Ç—É—Å—É
  - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ —Ç–µ–º—ã –∫–∞—Ä—Ç—ã
  - –°—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ (WebPage, BreadcrumbList)

#### `/auth/login` (–í—Ö–æ–¥)
- **–§–∞–π–ª:** `app/auth/login/page.tsx`
- **–¢–∏–ø:** Client Component
- **–§—É–Ω–∫—Ü–∏–∏:**
  - –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è —á–µ—Ä–µ–∑ Supabase Auth
  - –†–µ–¥–∏—Ä–µ–∫—Ç –ø–æ—Å–ª–µ –≤—Ö–æ–¥–∞

#### `/auth/signup` (–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è)
- **–§–∞–π–ª:** `app/auth/signup/page.tsx`
- **–¢–∏–ø:** Client Component
- **–§—É–Ω–∫—Ü–∏–∏:**
  - –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è —á–µ—Ä–µ–∑ Supabase Auth
  - Email –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

#### `/privacy` (–ü–æ–ª–∏—Ç–∏–∫–∞ –∫–æ–Ω—Ñ–∏–¥–µ–Ω—Ü–∏–∞–ª—å–Ω–æ—Å—Ç–∏)
- **–§–∞–π–ª:** `app/[locale]/privacy/page.tsx`
- **–¢–∏–ø:** Server Component
- **–§—É–Ω–∫—Ü–∏–∏:**
  - GDPR-—Å–æ–≤–º–µ—Å—Ç–∏–º–∞—è –ø–æ–ª–∏—Ç–∏–∫–∞ –∫–æ–Ω—Ñ–∏–¥–µ–Ω—Ü–∏–∞–ª—å–Ω–æ—Å—Ç–∏

### –ê–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å

#### `/admin/articles` (–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å—Ç–∞—Ç—å—è–º–∏)
- **–§–∞–π–ª:** `app/admin/articles/page.tsx`
- **–¢–∏–ø:** Client Component
- **–§—É–Ω–∫—Ü–∏–∏:**
  - –°–ø–∏—Å–æ–∫ —Å—Ç–∞—Ç–µ–π —Å –ø–∞–≥–∏–Ω–∞—Ü–∏–µ–π –∏ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–µ–π
  - –°–æ–∑–¥–∞–Ω–∏–µ, —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ, —É–¥–∞–ª–µ–Ω–∏–µ —Å—Ç–∞—Ç–µ–π
  - –ì–µ–Ω–µ—Ä–∞—Ü–∏—è —Å—Ç–∞—Ç–µ–π —á–µ—Ä–µ–∑ Gemini API
  - –ò–º–ø–æ—Ä—Ç —Å—Ç–∞—Ç–µ–π –∏–∑ Markdown —Ñ–∞–π–ª–æ–≤

#### `/admin/articles/[id]` (–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Å—Ç–∞—Ç—å–∏)
- **–§–∞–π–ª:** `app/admin/articles/[id]/page.tsx`
- **–¢–∏–ø:** Client Component
- **–§—É–Ω–∫—Ü–∏–∏:**
  - –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Å—Ç–∞—Ç—å–∏
  - Markdown —Ä–µ–¥–∞–∫—Ç–æ—Ä
  - –ü—Ä–µ–¥–ø—Ä–æ—Å–º–æ—Ç—Ä

### –°–ª—É–∂–µ–±–Ω—ã–µ –º–∞—Ä—à—Ä—É—Ç—ã

#### `/og` (OG –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è)
- **–§–∞–π–ª:** `app/og/route.tsx`
- **–¢–∏–ø:** API Route
- **–§—É–Ω–∫—Ü–∏–∏:**
  - –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏—Ö OG –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π

#### `/og/candle/[id]` (OG –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –¥–ª—è —Å–≤–µ—á–µ–π)
- **–§–∞–π–ª:** `app/og/candle/[id]/route.tsx`
- **–¢–∏–ø:** API Route
- **–§—É–Ω–∫—Ü–∏–∏:**
  - –ì–µ–Ω–µ—Ä–∞—Ü–∏—è OG –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π –¥–ª—è –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã—Ö —Å–≤–µ—á–µ–π

#### `/sitemap.xml` (Sitemap)
- **–§–∞–π–ª:** `app/sitemap.ts`
- **–¢–∏–ø:** Dynamic Route
- **–§—É–Ω–∫—Ü–∏–∏:**
  - –ì–µ–Ω–µ—Ä–∞—Ü–∏—è sitemap.xml —Å–æ –≤—Å–µ–º–∏ —Å—Ç—Ä–∞–Ω–∏—Ü–∞–º–∏
  - –í–∫–ª—é—á–∞–µ—Ç —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ –∏ –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã (—Å–≤–µ—á–∏, —Å—Ç–∞—Ç—å–∏)

#### `/robots.txt` (Robots)
- **–§–∞–π–ª:** `app/robots.ts`
- **–¢–∏–ø:** Dynamic Route
- **–§—É–Ω–∫—Ü–∏–∏:**
  - –ì–µ–Ω–µ—Ä–∞—Ü–∏—è robots.txt

---

## üíæ –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö

### –°—Ö–µ–º–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö

#### –¢–∞–±–ª–∏—Ü–∞ `candles`

–û—Å–Ω–æ–≤–Ω–∞—è —Ç–∞–±–ª–∏—Ü–∞ –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è —Å–≤–µ—á–µ–π.

**–ü–æ–ª—è:**

| –ü–æ–ª–µ | –¢–∏–ø | –û–ø–∏—Å–∞–Ω–∏–µ |
|------|-----|----------|
| `id` | UUID | PRIMARY KEY, –∞–≤—Ç–æ–≥–µ–Ω–µ—Ä–∞—Ü–∏—è |
| `title` | TEXT | –ó–∞–≥–æ–ª–æ–≤–æ–∫ —Å–≤–µ—á–∏ (NOT NULL) |
| `message` | TEXT | –°–æ–æ–±—â–µ–Ω–∏–µ —Å–≤–µ—á–∏ |
| `created_at` | TIMESTAMPTZ | –î–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è (DEFAULT NOW()) |
| `expires_at` | TIMESTAMPTZ | –î–∞—Ç–∞ –∏—Å—Ç–µ—á–µ–Ω–∏—è (NOT NULL) |
| `status` | TEXT | –°—Ç–∞—Ç—É—Å: 'active', 'expired', 'extinguished' (DEFAULT 'active') |
| `is_anonymous` | BOOLEAN | –ê–Ω–æ–Ω–∏–º–Ω–∞—è —Å–≤–µ—á–∞ (DEFAULT false) |
| `candle_type` | TEXT | –¢–∏–ø: 'calm', 'support', 'memory', 'gratitude', 'focus' |
| `duration_hours` | INTEGER | –î–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –≤ —á–∞—Å–∞—Ö |
| `user_id` | UUID | ID –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (REFERENCES auth.users) |

**–ì–µ–æ–ª–æ–∫–∞—Ü–∏—è:**

| –ü–æ–ª–µ | –¢–∏–ø | –û–ø–∏—Å–∞–Ω–∏–µ |
|------|-----|----------|
| `location_type` | TEXT | 'precise', 'city', 'country', 'region', 'none' |
| `location_country` | TEXT | –°—Ç—Ä–∞–Ω–∞ |
| `location_city` | TEXT | –ì–æ—Ä–æ–¥ |
| `location_region` | TEXT | –†–µ–≥–∏–æ–Ω |
| `location_latitude` | DECIMAL(10,8) | –¢–æ—á–Ω–∞—è —à–∏—Ä–æ—Ç–∞ (–ø—Ä–∏–≤–∞—Ç–Ω–æ) |
| `location_longitude` | DECIMAL(11,8) | –¢–æ—á–Ω–∞—è –¥–æ–ª–≥–æ—Ç–∞ (–ø—Ä–∏–≤–∞—Ç–Ω–æ) |
| `location_anonymized_lat` | DECIMAL(10,8) | –û–∫—Ä—É–≥–ª–µ–Ω–Ω–∞—è —à–∏—Ä–æ—Ç–∞ –¥–ª—è –∫–∞—Ä—Ç—ã |
| `location_anonymized_lng` | DECIMAL(11,8) | –û–∫—Ä—É–≥–ª–µ–Ω–Ω–∞—è –¥–æ–ª–≥–æ—Ç–∞ –¥–ª—è –∫–∞—Ä—Ç—ã |
| `location_show_on_map` | BOOLEAN | –ü–æ–∫–∞–∑—ã–≤–∞—Ç—å –Ω–∞ –∫–∞—Ä—Ç–µ (DEFAULT true) |
| `location_address` | TEXT | –ê–¥—Ä–µ—Å |
| `location_timezone` | TEXT | –ß–∞—Å–æ–≤–æ–π –ø–æ—è—Å |

**–ò–Ω–¥–µ–∫—Å—ã:**

- `idx_candles_expires_at` ‚Äî –¥–ª—è —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏ –ø–æ –¥–∞—Ç–µ –∏—Å—Ç–µ—á–µ–Ω–∏—è
- `idx_candles_user_id` ‚Äî –¥–ª—è –∑–∞–ø—Ä–æ—Å–æ–≤ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- `idx_candles_created_at` ‚Äî –¥–ª—è —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∏
- `idx_candles_status` ‚Äî –¥–ª—è —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏ –ø–æ —Å—Ç–∞—Ç—É—Å—É
- `idx_candles_candle_type` ‚Äî –¥–ª—è —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏ –ø–æ —Ç–∏–ø—É
- `idx_candles_location_country` ‚Äî –¥–ª—è –∫–∞—Ä—Ç—ã
- `idx_candles_location_city` ‚Äî –¥–ª—è –∫–∞—Ä—Ç—ã
- `idx_candles_location_anonymized` ‚Äî –¥–ª—è –∫–∞—Ä—Ç—ã

**RLS –ü–æ–ª–∏—Ç–∏–∫–∏:**

- ‚úÖ –í—Å–µ –º–æ–≥—É—Ç —á–∏—Ç–∞—Ç—å –≤—Å–µ —Å–≤–µ—á–∏ (–ø—É–±–ª–∏—á–Ω—ã–π –¥–æ—Å—Ç—É–ø)
- ‚úÖ –í—Å–µ –º–æ–≥—É—Ç —Å–æ–∑–¥–∞–≤–∞—Ç—å —Å–≤–µ—á–∏ (–≤–∫–ª—é—á–∞—è –∞–Ω–æ–Ω–∏–º–Ω—ã—Ö)
- ‚úÖ –¢–æ–ª—å–∫–æ –≤–ª–∞–¥–µ–ª–µ—Ü –º–æ–∂–µ—Ç –æ–±–Ω–æ–≤–ª—è—Ç—å —Å–≤–æ—é —Å–≤–µ—á—É
- ‚úÖ –¢–æ–ª—å–∫–æ –≤–ª–∞–¥–µ–ª–µ—Ü –º–æ–∂–µ—Ç —É–¥–∞–ª—è—Ç—å —Å–≤–æ—é —Å–≤–µ—á—É

**–¢—Ä–∏–≥–≥–µ—Ä—ã:**

- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –∞–Ω–æ–Ω–∏–º–∏–∑–∞—Ü–∏—è –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏/–æ–±–Ω–æ–≤–ª–µ–Ω–∏–∏

#### –¢–∞–±–ª–∏—Ü–∞ `articles`

–¢–∞–±–ª–∏—Ü–∞ –¥–ª—è —Å—Ç–∞—Ç–µ–π/FAQ.

**–ü–æ–ª—è:**

| –ü–æ–ª–µ | –¢–∏–ø | –û–ø–∏—Å–∞–Ω–∏–µ |
|------|-----|----------|
| `id` | UUID | PRIMARY KEY |
| `title` | TEXT | –ó–∞–≥–æ–ª–æ–≤–æ–∫ (NOT NULL) |
| `slug` | TEXT | URL-friendly –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä (UNIQUE, NOT NULL) |
| `excerpt` | TEXT | –ö—Ä–∞—Ç–∫–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ |
| `content` | TEXT | –ü–æ–ª–Ω—ã–π –∫–æ–Ω—Ç–µ–Ω—Ç (Markdown) (NOT NULL) |
| `category_id` | UUID | ID –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ (REFERENCES article_categories) |
| `author_id` | UUID | ID –∞–≤—Ç–æ—Ä–∞ (REFERENCES auth.users) |
| `published` | BOOLEAN | –û–ø—É–±–ª–∏–∫–æ–≤–∞–Ω–∞ (DEFAULT false) |
| `published_at` | TIMESTAMPTZ | –î–∞—Ç–∞ –ø—É–±–ª–∏–∫–∞—Ü–∏–∏ |
| `created_at` | TIMESTAMPTZ | –î–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è (DEFAULT NOW()) |
| `updated_at` | TIMESTAMPTZ | –î–∞—Ç–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è (DEFAULT NOW()) |
| `views_count` | INTEGER | –°—á–µ—Ç—á–∏–∫ –ø—Ä–æ—Å–º–æ—Ç—Ä–æ–≤ (DEFAULT 0) |
| `seo_title` | TEXT | SEO –∑–∞–≥–æ–ª–æ–≤–æ–∫ |
| `seo_description` | TEXT | SEO –æ–ø–∏—Å–∞–Ω–∏–µ |
| `seo_keywords` | TEXT[] | –ú–∞—Å—Å–∏–≤ –∫–ª—é—á–µ–≤—ã—Ö —Å–ª–æ–≤ |
| `featured_image_url` | TEXT | URL –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –¥–ª—è –ø—Ä–µ–≤—å—é |
| `reading_time` | INTEGER | –í—Ä–µ–º—è —á—Ç–µ–Ω–∏—è –≤ –º–∏–Ω—É—Ç–∞—Ö |

**–ò–Ω–¥–µ–∫—Å—ã:**

- `idx_articles_slug` ‚Äî –¥–ª—è –ø–æ–∏—Å–∫–∞ –ø–æ slug
- `idx_articles_published` ‚Äî –¥–ª—è —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏ –æ–ø—É–±–ª–∏–∫–æ–≤–∞–Ω–Ω—ã—Ö
- `idx_articles_category` ‚Äî –¥–ª—è —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏ –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏
- `idx_articles_author` ‚Äî –¥–ª—è —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏ –ø–æ –∞–≤—Ç–æ—Ä—É
- `idx_articles_created_at` ‚Äî –¥–ª—è —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∏
- `idx_articles_views` ‚Äî –¥–ª—è —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∏ –ø–æ –ø—Ä–æ—Å–º–æ—Ç—Ä–∞–º

**RLS –ü–æ–ª–∏—Ç–∏–∫–∏:**

- ‚úÖ –í—Å–µ –º–æ–≥—É—Ç —á–∏—Ç–∞—Ç—å –æ–ø—É–±–ª–∏–∫–æ–≤–∞–Ω–Ω—ã–µ —Å—Ç–∞—Ç—å–∏
- ‚úÖ –ê–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã–µ –º–æ–≥—É—Ç —Å–æ–∑–¥–∞–≤–∞—Ç—å —Å—Ç–∞—Ç—å–∏
- ‚úÖ –¢–æ–ª—å–∫–æ –∞–≤—Ç–æ—Ä –º–æ–∂–µ—Ç –æ–±–Ω–æ–≤–ª—è—Ç—å —Å–≤–æ—é —Å—Ç–∞—Ç—å—é
- ‚úÖ –¢–æ–ª—å–∫–æ –∞–≤—Ç–æ—Ä –º–æ–∂–µ—Ç —É–¥–∞–ª—è—Ç—å —Å–≤–æ—é —Å—Ç–∞—Ç—å—é

**–§—É–Ω–∫—Ü–∏–∏:**

- ‚úÖ `increment_article_views` ‚Äî —É–≤–µ–ª–∏—á–µ–Ω–∏–µ —Å—á–µ—Ç—á–∏–∫–∞ –ø—Ä–æ—Å–º–æ—Ç—Ä–æ–≤
- ‚úÖ `update_articles_updated_at` ‚Äî –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ `updated_at`

#### –¢–∞–±–ª–∏—Ü–∞ `article_categories`

–ö–∞—Ç–µ–≥–æ—Ä–∏–∏ —Å—Ç–∞—Ç–µ–π.

**–ü–æ–ª—è:**

| –ü–æ–ª–µ | –¢–∏–ø | –û–ø–∏—Å–∞–Ω–∏–µ |
|------|-----|----------|
| `id` | UUID | PRIMARY KEY |
| `name` | TEXT | –ù–∞–∑–≤–∞–Ω–∏–µ (UNIQUE, NOT NULL) |
| `slug` | TEXT | URL-friendly –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä (UNIQUE, NOT NULL) |
| `description` | TEXT | –û–ø–∏—Å–∞–Ω–∏–µ |
| `created_at` | TIMESTAMPTZ | –î–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è (DEFAULT NOW()) |

#### –¢–∞–±–ª–∏—Ü–∞ `article_tags`

–¢–µ–≥–∏ —Å—Ç–∞—Ç–µ–π.

**–ü–æ–ª—è:**

| –ü–æ–ª–µ | –¢–∏–ø | –û–ø–∏—Å–∞–Ω–∏–µ |
|------|-----|----------|
| `id` | UUID | PRIMARY KEY |
| `name` | TEXT | –ù–∞–∑–≤–∞–Ω–∏–µ (UNIQUE, NOT NULL) |
| `slug` | TEXT | URL-friendly –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä (UNIQUE, NOT NULL) |
| `created_at` | TIMESTAMPTZ | –î–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è (DEFAULT NOW()) |

#### –¢–∞–±–ª–∏—Ü–∞ `article_tag_relations`

–°–≤—è–∑—å many-to-many –º–µ–∂–¥—É —Å—Ç–∞—Ç—å—è–º–∏ –∏ —Ç–µ–≥–∞–º–∏.

**–ü–æ–ª—è:**

| –ü–æ–ª–µ | –¢–∏–ø | –û–ø–∏—Å–∞–Ω–∏–µ |
|------|-----|----------|
| `article_id` | UUID | ID —Å—Ç–∞—Ç—å–∏ (REFERENCES articles) |
| `tag_id` | UUID | ID —Ç–µ–≥–∞ (REFERENCES article_tags) |
| PRIMARY KEY | (article_id, tag_id) | –°–æ—Å—Ç–∞–≤–Ω–æ–π –∫–ª—é—á |

#### –¢–∞–±–ª–∏—Ü–∞ `prompt_templates`

–®–∞–±–ª–æ–Ω—ã –ø—Ä–æ–º–ø—Ç–æ–≤ –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ —Å—Ç–∞—Ç–µ–π.

**–ü–æ–ª—è:**

| –ü–æ–ª–µ | –¢–∏–ø | –û–ø–∏—Å–∞–Ω–∏–µ |
|------|-----|----------|
| `id` | UUID | PRIMARY KEY |
| `name` | TEXT | –ù–∞–∑–≤–∞–Ω–∏–µ —à–∞–±–ª–æ–Ω–∞ (NOT NULL) |
| `description` | TEXT | –û–ø–∏—Å–∞–Ω–∏–µ |
| `prompt` | TEXT | –ü—Ä–æ–º–ø—Ç-—à–∞–±–ª–æ–Ω (NOT NULL) |
| `is_default` | BOOLEAN | –®–∞–±–ª–æ–Ω –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é (DEFAULT false) |
| `is_system` | BOOLEAN | –°–∏—Å—Ç–µ–º–Ω—ã–π —à–∞–±–ª–æ–Ω (–Ω–µ–ª—å–∑—è —É–¥–∞–ª–∏—Ç—å) (DEFAULT false) |
| `created_at` | TIMESTAMPTZ | –î–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è (DEFAULT NOW()) |
| `updated_at` | TIMESTAMPTZ | –î–∞—Ç–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è (DEFAULT NOW()) |

**RLS –ü–æ–ª–∏—Ç–∏–∫–∏:**

- ‚úÖ –í—Å–µ –º–æ–≥—É—Ç —á–∏—Ç–∞—Ç—å —à–∞–±–ª–æ–Ω—ã
- ‚úÖ –¢–æ–ª—å–∫–æ –∞–¥–º–∏–Ω—ã –º–æ–≥—É—Ç —Å–æ–∑–¥–∞–≤–∞—Ç—å/–æ–±–Ω–æ–≤–ª—è—Ç—å/—É–¥–∞–ª—è—Ç—å —à–∞–±–ª–æ–Ω—ã

### SQL –ú–∏–≥—Ä–∞—Ü–∏–∏

–í—Å–µ SQL –º–∏–≥—Ä–∞—Ü–∏–∏ –Ω–∞—Ö–æ–¥—è—Ç—Å—è –≤ –∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞:

- `supabase-setup.sql` ‚Äî –æ—Å–Ω–æ–≤–Ω–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ (—Ç–∞–±–ª–∏—Ü–∞ candles)
- `supabase-map-migration.sql` ‚Äî –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ –≥–µ–æ–ª–æ–∫–∞—Ü–∏–∏
- `supabase-faq-articles-setup.sql` ‚Äî –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ —Å—Ç–∞—Ç–µ–π/FAQ
- `supabase-prompt-templates-setup.sql` ‚Äî –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ —à–∞–±–ª–æ–Ω–æ–≤ –ø—Ä–æ–º–ø—Ç–æ–≤
- –ò –¥—Ä—É–≥–∏–µ –º–∏–≥—Ä–∞—Ü–∏–∏ –¥–ª—è –¥–∞–Ω–Ω—ã—Ö

---

## üîå API Endpoints

### –ü—É–±–ª–∏—á–Ω—ã–µ API

#### GET /api/geocode

–ì–µ–æ–∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏–µ –∞–¥—Ä–µ—Å–æ–≤ —á–µ—Ä–µ–∑ Nominatim (OpenStreetMap).

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**
- `q` (string, required) ‚Äî –ê–¥—Ä–µ—Å –∏–ª–∏ –Ω–∞–∑–≤–∞–Ω–∏–µ –º–µ—Å—Ç–∞

**–ü—Ä–∏–º–µ—Ä:**
```http
GET /api/geocode?q=–ú–æ—Å–∫–≤–∞, –†–æ—Å—Å–∏—è
```

**–û—Ç–≤–µ—Ç:**
```json
{
  "results": [
    {
      "display_name": "–ú–æ—Å–∫–≤–∞, –†–æ—Å—Å–∏—è",
      "latitude": 55.7558,
      "longitude": 37.6173,
      "country": "–†–æ—Å—Å–∏—è",
      "city": "–ú–æ—Å–∫–≤–∞"
    }
  ]
}
```

#### GET /api/map/candles

–ü–æ–ª—É—á–µ–Ω–∏–µ —Å–≤–µ—á–µ–π –¥–ª—è –∫–∞—Ä—Ç—ã.

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**
- `bounds` (string, optional) ‚Äî –ì—Ä–∞–Ω–∏—Ü—ã –∫–∞—Ä—Ç—ã "minLat,minLng,maxLat,maxLng"
- `type` (string, optional) ‚Äî –¢–∏–ø —Å–≤–µ—á–∏: 'calm', 'support', 'memory', 'gratitude', 'focus', 'all'
- `status` (string, optional) ‚Äî –°—Ç–∞—Ç—É—Å: 'active' (default) –∏–ª–∏ 'all'

**–ü—Ä–∏–º–µ—Ä:**
```http
GET /api/map/candles?bounds=55.5,37.5,56.0,38.0&type=calm&status=active
```

#### GET /api/map/stats

–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ —Å–≤–µ—á–∞–º –Ω–∞ –∫–∞—Ä—Ç–µ.

**–ü—Ä–∏–º–µ—Ä:**
```http
GET /api/map/stats
```

**–û—Ç–≤–µ—Ç:**
```json
{
  "countries": { "–†–æ—Å—Å–∏—è": 150, "–£–∫—Ä–∞–∏–Ω–∞": 45 },
  "topCities": [
    { "city": "–ú–æ—Å–∫–≤–∞", "country": "–†–æ—Å—Å–∏—è", "count": 50 }
  ],
  "totalCandles": 225
}
```

### –ê–¥–º–∏–Ω—Å–∫–∏–µ API

–í—Å–µ –∞–¥–º–∏–Ω—Å–∫–∏–µ endpoints —Ç—Ä–µ–±—É—é—Ç –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏ —á–µ—Ä–µ–∑ Bearer —Ç–æ–∫–µ–Ω.

#### GET /api/admin/check

–ü—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–∞–≤ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞.

**–ó–∞–≥–æ–ª–æ–≤–∫–∏:**
```http
Authorization: Bearer <access_token>
```

#### GET /api/admin/articles

–ü–æ–ª—É—á–µ–Ω–∏–µ —Å–ø–∏—Å–∫–∞ —Å—Ç–∞—Ç–µ–π (—Å –ø–∞–≥–∏–Ω–∞—Ü–∏–µ–π –∏ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–µ–π).

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**
- `filter` (string) ‚Äî 'all', 'published', 'draft'
- `page` (number) ‚Äî –ù–æ–º–µ—Ä —Å—Ç—Ä–∞–Ω–∏—Ü—ã
- `perPage` (number) ‚Äî –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ
- `search` (string) ‚Äî –ü–æ–∏—Å–∫ –ø–æ –∑–∞–≥–æ–ª–æ–≤–∫—É –∏ slug
- `sortBy` (string) ‚Äî –°–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞: 'newest', 'oldest', 'title-asc', 'title-desc', 'views-desc', 'views-asc'

#### POST /api/admin/articles

–°–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤–æ–π —Å—Ç–∞—Ç—å–∏.

**–¢–µ–ª–æ –∑–∞–ø—Ä–æ—Å–∞:**
```json
{
  "title": "–ù–∞–∑–≤–∞–Ω–∏–µ —Å—Ç–∞—Ç—å–∏",
  "slug": "nazvanie-stati",
  "content": "# –ó–∞–≥–æ–ª–æ–≤–æ–∫\n\n–ü–æ–ª–Ω—ã–π —Ç–µ–∫—Å—Ç...",
  "category_id": "category-uuid",
  "published": false
}
```

#### GET /api/admin/articles/[id]

–ü–æ–ª—É—á–µ–Ω–∏–µ –æ–¥–Ω–æ–π —Å—Ç–∞—Ç—å–∏ –ø–æ ID.

#### PUT /api/admin/articles/[id]

–û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—Ç–∞—Ç—å–∏.

#### DELETE /api/admin/articles/[id]

–£–¥–∞–ª–µ–Ω–∏–µ —Å—Ç–∞—Ç—å–∏.

#### POST /api/admin/articles/generate

–ì–µ–Ω–µ—Ä–∞—Ü–∏—è —Å—Ç–∞—Ç—å–∏ —á–µ—Ä–µ–∑ Gemini API.

**–¢–µ–ª–æ –∑–∞–ø—Ä–æ—Å–∞:**
```json
{
  "topic": "–¢–µ–º–∞ —Å—Ç–∞—Ç—å–∏",
  "candleType": "calm",
  "language": "ru",
  "templateId": "template-uuid",
  "variables": {
    "topic": "–ú–µ–¥–∏—Ç–∞—Ü–∏—è",
    "language": "ru"
  }
}
```

#### GET /api/admin/prompt-templates

–ü–æ–ª—É—á–µ–Ω–∏–µ —Å–ø–∏—Å–∫–∞ –ø—Ä–æ–º–ø—Ç-—à–∞–±–ª–æ–Ω–æ–≤.

#### POST /api/admin/prompt-templates

–°–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤–æ–≥–æ —à–∞–±–ª–æ–Ω–∞.

#### GET /api/admin/prompt-templates/[id]

–ü–æ–ª—É—á–µ–Ω–∏–µ –æ–¥–Ω–æ–≥–æ —à–∞–±–ª–æ–Ω–∞.

#### PUT /api/admin/prompt-templates/[id]

–û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —à–∞–±–ª–æ–Ω–∞.

#### DELETE /api/admin/prompt-templates/[id]

–£–¥–∞–ª–µ–Ω–∏–µ —à–∞–±–ª–æ–Ω–∞.

**–ü–æ–ª–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è API:** [docs/API.md](./API.md)

---

## üß© –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –∏ –º–æ–¥—É–ª–∏

### –û—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã

#### `SiteHeader`

–ì–ª–∞–≤–Ω–∞—è –Ω–∞–≤–∏–≥–∞—Ü–∏—è —Å–∞–π—Ç–∞.

**–§–∞–π–ª:** `components/SiteHeader.tsx`

**–§—É–Ω–∫—Ü–∏–∏:**
- –ù–∞–≤–∏–≥–∞—Ü–∏—è –ø–æ —Å—Ç—Ä–∞–Ω–∏—Ü–∞–º
- –ü–µ—Ä–µ–∫–ª—é—á–∞—Ç–µ–ª—å —Ç–µ–º—ã
- –ü–µ—Ä–µ–∫–ª—é—á–∞—Ç–µ–ª—å —è–∑—ã–∫–∞
- –ú–µ–Ω—é –¥–ª—è –º–æ–±–∏–ª—å–Ω—ã—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤
- –ò–Ω–¥–∏–∫–∞—Ü–∏—è –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏

#### `SiteFooter`

–§—É—Ç–µ—Ä —Å–∞–π—Ç–∞.

**–§–∞–π–ª:** `components/SiteFooter.tsx`

**–§—É–Ω–∫—Ü–∏–∏:**
- –°—Å—ã–ª–∫–∏ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—ã
- –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –ø—Ä–æ–µ–∫—Ç–µ
- –°–æ—Ü–∏–∞–ª—å–Ω—ã–µ —Å–µ—Ç–∏

#### `MarkdownContent`

–†–µ–Ω–¥–µ—Ä–∏–Ω–≥ Markdown –∫–æ–Ω—Ç–µ–Ω—Ç–∞.

**–§–∞–π–ª:** `components/MarkdownContent.tsx`

**–§—É–Ω–∫—Ü–∏–∏:**
- –†–µ–Ω–¥–µ—Ä–∏–Ω–≥ Markdown –≤ HTML
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ GitHub Flavored Markdown
- –°–∞–Ω–∏—Ç–∏–∑–∞—Ü–∏—è HTML
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ —Ç–∞–±–ª–∏—Ü, —Å–ø–∏—Å–∫–æ–≤, –∫–æ–¥–∞

#### `ThemeToggle`

–ü–µ—Ä–µ–∫–ª—é—á–∞—Ç–µ–ª—å —Ç–µ–º—ã (—Å–≤–µ—Ç–ª–∞—è/—Ç–µ–º–Ω–∞—è).

**–§–∞–π–ª:** `components/ThemeToggle.tsx`

**–§—É–Ω–∫—Ü–∏–∏:**
- –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –º–µ–∂–¥—É light/dark —Ä–µ–∂–∏–º–∞–º–∏
- –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤—ã–±–æ—Ä–∞ –≤ localStorage
- –ü—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏–µ hydration mismatch

#### `WorldMap`

–ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–∞—è –∫–∞—Ä—Ç–∞ –º–∏—Ä–∞ —Å —Å–≤–µ—á–∞–º–∏.

**–§–∞–π–ª:** `components/map/WorldMap.tsx`

**–§—É–Ω–∫—Ü–∏–∏:**
- –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –∫–∞—Ä—Ç—ã —á–µ—Ä–µ–∑ Leaflet
- –í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è —Å–≤–µ—á–µ–π –Ω–∞ –∫–∞—Ä—Ç–µ
- –ö–ª–∞—Å—Ç–µ—Ä–∏–∑–∞—Ü–∏—è –º–∞—Ä–∫–µ—Ä–æ–≤
- –§–∏–ª—å—Ç—Ä—ã –ø–æ —Ç–∏–ø—É –∏ —Å—Ç–∞—Ç—É—Å—É
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ —Ç–µ–º—ã –∫–∞—Ä—Ç—ã

#### `Analytics`

–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è Google Analytics.

**–§–∞–π–ª:** `components/Analytics.tsx`

**–§—É–Ω–∫—Ü–∏–∏:**
- –ó–∞–≥—Ä—É–∑–∫–∞ Google Analytics —Å–∫—Ä–∏–ø—Ç–∞
- GDPR-—Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å (—Ç–æ–ª—å–∫–æ –ø–æ—Å–ª–µ —Å–æ–≥–ª–∞—Å–∏—è)

#### `CookieConsent`

–°–æ–≥–ª–∞—Å–∏–µ –Ω–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ cookies.

**–§–∞–π–ª:** `components/CookieConsent.tsx`

**–§—É–Ω–∫—Ü–∏–∏:**
- –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –±–∞–Ω–Ω–µ—Ä–∞ —Å–æ–≥–ª–∞—Å–∏—è
- –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤—ã–±–æ—Ä–∞ –≤ localStorage
- GDPR-—Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å

#### `Breadcrumbs`

–•–ª–µ–±–Ω—ã–µ –∫—Ä–æ—à–∫–∏ –¥–ª—è –Ω–∞–≤–∏–≥–∞—Ü–∏–∏.

**–§–∞–π–ª:** `components/Breadcrumbs.tsx`

**–§—É–Ω–∫—Ü–∏–∏:**
- –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –ø—É—Ç–∏ –Ω–∞–≤–∏–≥–∞—Ü–∏–∏
- –°—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ (BreadcrumbList)

#### `StructuredData`

–ö–æ–º–ø–æ–Ω–µ–Ω—Ç –¥–ª—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö Schema.org.

**–§–∞–π–ª:** `components/StructuredData.tsx`

**–§—É–Ω–∫—Ü–∏–∏:**
- –ì–µ–Ω–µ—Ä–∞—Ü–∏—è JSON-LD —Ä–∞–∑–º–µ—Ç–∫–∏
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ —Ä–∞–∑–ª–∏—á–Ω—ã—Ö —Ç–∏–ø–æ–≤ Schema.org

### –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª–∏

#### `MarkdownEditor`

–†–µ–¥–∞–∫—Ç–æ—Ä Markdown –¥–ª—è —Å—Ç–∞—Ç–µ–π.

**–§–∞–π–ª:** `components/admin/MarkdownEditor.tsx`

**–§—É–Ω–∫—Ü–∏–∏:**
- –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ Markdown
- –ü—Ä–µ–¥–ø—Ä–æ—Å–º–æ—Ç—Ä
- –ü–æ–¥—Å–≤–µ—Ç–∫–∞ —Å–∏–Ω—Ç–∞–∫—Å–∏—Å–∞

#### `GenerateArticleDialog`

–î–∏–∞–ª–æ–≥ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ —Å—Ç–∞—Ç—å–∏ —á–µ—Ä–µ–∑ AI.

**–§–∞–π–ª:** `components/admin/GenerateArticleDialog.tsx`

**–§—É–Ω–∫—Ü–∏–∏:**
- –í—ã–±–æ—Ä —Ç–µ–º—ã —Å—Ç–∞—Ç—å–∏
- –í—ã–±–æ—Ä —à–∞–±–ª–æ–Ω–∞ –ø—Ä–æ–º–ø—Ç–∞
- –ì–µ–Ω–µ—Ä–∞—Ü–∏—è —á–µ—Ä–µ–∑ Gemini API
- –ü—Ä–µ–¥–ø—Ä–æ—Å–º–æ—Ç—Ä —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞

#### `PromptTemplateManager`

–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —à–∞–±–ª–æ–Ω–∞–º–∏ –ø—Ä–æ–º–ø—Ç–æ–≤.

**–§–∞–π–ª:** `components/admin/PromptTemplateManager.tsx`

**–§—É–Ω–∫—Ü–∏–∏:**
- –°–æ–∑–¥–∞–Ω–∏–µ, —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ, —É–¥–∞–ª–µ–Ω–∏–µ —à–∞–±–ª–æ–Ω–æ–≤
- –£—Å—Ç–∞–Ω–æ–≤–∫–∞ —à–∞–±–ª–æ–Ω–∞ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é

---

## üõ† –£—Ç–∏–ª–∏—Ç—ã –∏ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏

### `lib/utils.ts`

–û–±—â–∏–µ —É—Ç–∏–ª–∏—Ç—ã.

**–§—É–Ω–∫—Ü–∏–∏:**
- `cn()` ‚Äî –æ–±—ä–µ–¥–∏–Ω–µ–Ω–∏–µ –∫–ª–∞—Å—Å–æ–≤ Tailwind
- `getCandleTypeMeta()` ‚Äî –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ —Ç–∏–ø–∞ —Å–≤–µ—á–∏
- `getComputedStatus()` ‚Äî –≤—ã—á–∏—Å–ª–µ–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–∞ —Å–≤–µ—á–∏
- `formatDate()` ‚Äî —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–∞—Ç—ã
- `formatRemainingTime()` ‚Äî —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –æ—Å—Ç–∞–≤—à–µ–≥–æ—Å—è –≤—Ä–µ–º–µ–Ω–∏

### `lib/constants.ts`

–ö–æ–Ω—Å—Ç–∞–Ω—Ç—ã –ø—Ä–æ–µ–∫—Ç–∞.

**–≠–∫—Å–ø–æ—Ä—Ç—ã:**
- `CANDLE_TYPES` ‚Äî —Ç–∏–ø—ã —Å–≤–µ—á–µ–π
- `DURATION_OPTIONS` ‚Äî –æ–ø—Ü–∏–∏ –¥–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
- `CANDLE_TYPE_STYLES` ‚Äî —Å—Ç–∏–ª–∏ –¥–ª—è —Ç–∏–ø–æ–≤ —Å–≤–µ—á–µ–π

### `lib/types.ts`

TypeScript —Ç–∏–ø—ã.

**–¢–∏–ø—ã:**
- `CandleTypeId` ‚Äî ID —Ç–∏–ø–∞ —Å–≤–µ—á–∏
- `CandleStatus` ‚Äî —Å—Ç–∞—Ç—É—Å —Å–≤–µ—á–∏
- `Candle` ‚Äî –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å —Å–≤–µ—á–∏
- `CandleType` ‚Äî –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å —Ç–∏–ø–∞ —Å–≤–µ—á–∏
- `UserInfo` ‚Äî –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ
- `UserStats` ‚Äî —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

### `lib/supabaseClient.ts`

–ö–ª–∏–µ–Ω—Ç Supabase.

**–≠–∫—Å–ø–æ—Ä—Ç—ã:**
- `supabase` ‚Äî —ç–∫–∑–µ–º–ø–ª—è—Ä Supabase –∫–ª–∏–µ–Ω—Ç–∞

### `lib/admin.ts`

–§—É–Ω–∫—Ü–∏–∏ –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª–∏.

**–§—É–Ω–∫—Ü–∏–∏:**
- `checkAdminAccess()` ‚Äî –ø—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–∞–≤ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞
- `getAuthToken()` ‚Äî –ø–æ–ª—É—á–µ–Ω–∏–µ —Ç–æ–∫–µ–Ω–∞ –¥–æ—Å—Ç—É–ø–∞

### `lib/gemini.ts`

–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Gemini API.

**–§—É–Ω–∫—Ü–∏–∏:**
- `getGeminiClient()` ‚Äî —Å–æ–∑–¥–∞–Ω–∏–µ –∫–ª–∏–µ–Ω—Ç–∞ Gemini
- `generateArticle()` ‚Äî –≥–µ–Ω–µ—Ä–∞—Ü–∏—è —Å—Ç–∞—Ç—å–∏ —á–µ—Ä–µ–∑ Gemini
- `generateSlug()` ‚Äî –≥–µ–Ω–µ—Ä–∞—Ü–∏—è slug –∏–∑ –∑–∞–≥–æ–ª–æ–≤–∫–∞
- `calculateReadingTime()` ‚Äî –≤—ã—á–∏—Å–ª–µ–Ω–∏–µ –≤—Ä–µ–º–µ–Ω–∏ —á—Ç–µ–Ω–∏—è
- `generateExcerpt()` ‚Äî –≥–µ–Ω–µ—Ä–∞—Ü–∏—è –∫—Ä–∞—Ç–∫–æ–≥–æ –æ–ø–∏—Å–∞–Ω–∏—è
- `extractTitle()` ‚Äî –∏–∑–≤–ª–µ—á–µ–Ω–∏–µ –∑–∞–≥–æ–ª–æ–≤–∫–∞ –∏–∑ Markdown
- `generateSEOMetadata()` ‚Äî –≥–µ–Ω–µ—Ä–∞—Ü–∏—è SEO –º–µ—Ç–∞–¥–∞–Ω–Ω—ã—Ö
- `createArticlePrompt()` ‚Äî —Å–æ–∑–¥–∞–Ω–∏–µ –ø—Ä–æ–º–ø—Ç–∞ –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ —Å—Ç–∞—Ç—å–∏

**Retry –º–µ—Ö–∞–Ω–∏–∑–º:**
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π retry –ø—Ä–∏ rate limit
- –≠–∫—Å–ø–æ–Ω–µ–Ω—Ü–∏–∞–ª—å–Ω–∞—è –∑–∞–¥–µ—Ä–∂–∫–∞ (2s, 4s, 8s)
- Fallback –Ω–∞ –¥—Ä—É–≥–∏–µ –º–æ–¥–µ–ª–∏

### `lib/seo.ts`

SEO —É—Ç–∏–ª–∏—Ç—ã.

**–§—É–Ω–∫—Ü–∏–∏:**
- `generateMetadata()` ‚Äî –≥–µ–Ω–µ—Ä–∞—Ü–∏—è –º–µ—Ç–∞-—Ç–µ–≥–æ–≤ –¥–ª—è —Å—Ç—Ä–∞–Ω–∏—Ü—ã
- `generateHomePageStructuredData()` ‚Äî —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –¥–ª—è –≥–ª–∞–≤–Ω–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü—ã
- `generateCandleStructuredData()` ‚Äî —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –¥–ª—è —Å–≤–µ—á–∏
- `generateOrganizationStructuredData()` ‚Äî —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –¥–ª—è –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏
- `generateBreadcrumbList()` ‚Äî —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –¥–ª—è —Ö–ª–µ–±–Ω—ã—Ö –∫—Ä–æ—à–µ–∫
- `generateCandlesItemList()` ‚Äî —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –¥–ª—è —Å–ø–∏—Å–∫–∞ —Å–≤–µ—á–µ–π
- `generateArticleStructuredData()` ‚Äî —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –¥–ª—è —Å—Ç–∞—Ç—å–∏
- `generateFAQPageStructuredData()` ‚Äî —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –¥–ª—è FAQ
- `generateHowToStructuredData()` ‚Äî —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –¥–ª—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏
- `generateMapStructuredData()` ‚Äî —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –¥–ª—è –∫–∞—Ä—Ç—ã

### `lib/errorHandler.ts`

–û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫.

**–§—É–Ω–∫—Ü–∏–∏:**
- `logError()` ‚Äî –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –æ—à–∏–±–æ–∫
- `handleSupabaseError()` ‚Äî –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ Supabase
- `createErrorMessage()` ‚Äî —Å–æ–∑–¥–∞–Ω–∏–µ —Å–æ–æ–±—â–µ–Ω–∏—è –æ–± –æ—à–∏–±–∫–µ

### `lib/theme.ts`

–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ç–µ–º–æ–π.

**–§—É–Ω–∫—Ü–∏–∏:**
- `useTheme()` ‚Äî React —Ö—É–∫ –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Ç–µ–º–æ–π (light/dark/system)

---

## üîê –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è –∏ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è

### –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è

–ü—Ä–æ–µ–∫—Ç –∏—Å–ø–æ–ª—å–∑—É–µ—Ç **Supabase Auth** –¥–ª—è –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π.

**–ú–µ—Ç–æ–¥—ã:**
- Email/Password
- Email –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

**–§–∞–π–ª—ã:**
- `app/auth/login/page.tsx` ‚Äî —Å—Ç—Ä–∞–Ω–∏—Ü–∞ –≤—Ö–æ–¥–∞
- `app/auth/signup/page.tsx` ‚Äî —Å—Ç—Ä–∞–Ω–∏—Ü–∞ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏
- `app/auth/confirm/page.tsx` ‚Äî –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ email

### –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è

#### –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–∞–≤ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞

–ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä—ã –æ–ø—Ä–µ–¥–µ–ª—è—é—Ç—Å—è —á–µ—Ä–µ–∑ –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é –æ–∫—Ä—É–∂–µ–Ω–∏—è `NEXT_PUBLIC_ADMIN_EMAILS` (—Å–ø–∏—Å–æ–∫ email —á–µ—Ä–µ–∑ –∑–∞–ø—è—Ç—É—é).

**–§—É–Ω–∫—Ü–∏—è:** `lib/admin.ts::checkAdminAccess()`

**–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:**
```typescript
const { isAdmin, user } = await checkAdminAccess();
if (isAdmin) {
  // –ü–æ–∫–∞–∑–∞—Ç—å –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å
}
```

#### Row Level Security (RLS)

–í—Å–µ —Ç–∞–±–ª–∏—Ü—ã –∑–∞—â–∏—â–µ–Ω—ã RLS –ø–æ–ª–∏—Ç–∏–∫–∞–º–∏:

- **candles:** –í—Å–µ –º–æ–≥—É—Ç —á–∏—Ç–∞—Ç—å, –≤—Å–µ –º–æ–≥—É—Ç —Å–æ–∑–¥–∞–≤–∞—Ç—å, —Ç–æ–ª—å–∫–æ –≤–ª–∞–¥–µ–ª–µ—Ü –º–æ–∂–µ—Ç –æ–±–Ω–æ–≤–ª—è—Ç—å/—É–¥–∞–ª—è—Ç—å
- **articles:** –í—Å–µ –º–æ–≥—É—Ç —á–∏—Ç–∞—Ç—å –æ–ø—É–±–ª–∏–∫–æ–≤–∞–Ω–Ω—ã–µ, —Ç–æ–ª—å–∫–æ –∞–≤—Ç–æ—Ä –º–æ–∂–µ—Ç —Å–æ–∑–¥–∞–≤–∞—Ç—å/–æ–±–Ω–æ–≤–ª—è—Ç—å/—É–¥–∞–ª—è—Ç—å —Å–≤–æ–∏

---

## üîó –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏

### Google Gemini API

**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –ì–µ–Ω–µ—Ä–∞—Ü–∏—è —Å—Ç–∞—Ç–µ–π —á–µ—Ä–µ–∑ AI.

**–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è:**
- –ü–µ—Ä–µ–º–µ–Ω–Ω–∞—è –æ–∫—Ä—É–∂–µ–Ω–∏—è: `GEMINI_API_KEY`
- –ú–æ–¥–µ–ª—å –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: `gemini-1.5-flash`
- Fallback –º–æ–¥–µ–ª–∏: `gemini-2.0-flash-exp`, `gemini-2.0-flash`, `gemini-1.5-pro`

**–§—É–Ω–∫—Ü–∏–∏:**
- `generateArticle()` ‚Äî –≥–µ–Ω–µ—Ä–∞—Ü–∏—è —Å—Ç–∞—Ç—å–∏
- `determineArticleCategory()` ‚Äî –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ —Å—Ç–∞—Ç—å–∏

**Retry –º–µ—Ö–∞–Ω–∏–∑–º:**
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π retry –ø—Ä–∏ rate limit
- –≠–∫—Å–ø–æ–Ω–µ–Ω—Ü–∏–∞–ª—å–Ω–∞—è –∑–∞–¥–µ—Ä–∂–∫–∞ (2s, 4s, 8s)
- Fallback –Ω–∞ –¥—Ä—É–≥–∏–µ –º–æ–¥–µ–ª–∏

### Nominatim (OpenStreetMap)

**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –ì–µ–æ–∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏–µ –∞–¥—Ä–µ—Å–æ–≤ –≤ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã.

**Endpoint:** `/api/geocode`

**–û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è:**
- Rate limit: 1 –∑–∞–ø—Ä–æ—Å/—Å–µ–∫
- –¢—Ä–µ–±—É–µ—Ç—Å—è User-Agent –∑–∞–≥–æ–ª–æ–≤–æ–∫

### Google Analytics

**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –ê–Ω–∞–ª–∏—Ç–∏–∫–∞ –ø–æ—Å–µ—â–µ–Ω–∏–π.

**–ö–æ–º–ø–æ–Ω–µ–Ω—Ç:** `components/Analytics.tsx`

**–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è:**
- –ü–µ—Ä–µ–º–µ–Ω–Ω–∞—è –æ–∫—Ä—É–∂–µ–Ω–∏—è: `NEXT_PUBLIC_GA_ID`

### Yandex Metrika

**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –ê–Ω–∞–ª–∏—Ç–∏–∫–∞ –ø–æ—Å–µ—â–µ–Ω–∏–π (–†–æ—Å—Å–∏—è).

**–ö–æ–º–ø–æ–Ω–µ–Ω—Ç:** `components/YandexMetrika.tsx`

**–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è:**
- –ü–µ—Ä–µ–º–µ–Ω–Ω–∞—è –æ–∫—Ä—É–∂–µ–Ω–∏—è: `NEXT_PUBLIC_YANDEX_METRIKA_ID`

---

## üîç SEO –∏ –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ

### –ú–µ—Ç–∞-—Ç–µ–≥–∏

–í—Å–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã –∏–º–µ—é—Ç —É–Ω–∏–∫–∞–ª—å–Ω—ã–µ –º–µ—Ç–∞-—Ç–µ–≥–∏, –≥–µ–Ω–µ—Ä–∏—Ä—É–µ–º—ã–µ —á–µ—Ä–µ–∑ `generateMetadata()` –∏–∑ `lib/seo.ts`:

- Title
- Description
- Keywords
- Open Graph (OG) —Ç–µ–≥–∏
- Twitter Cards
- Canonical URLs

### –°—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ (Schema.org)

–ü—Ä–æ–µ–∫—Ç –∏—Å–ø–æ–ª—å–∑—É–µ—Ç 9 —Ç–∏–ø–æ–≤ —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö:

1. **Organization** ‚Äî –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ–± –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏
2. **WebSite** ‚Äî –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ —Å–∞–π—Ç–µ
3. **Article** ‚Äî —Å—Ç–∞—Ç—å–∏/–±–ª–æ–≥
4. **FAQPage** ‚Äî —Å—Ç—Ä–∞–Ω–∏—Ü–∞ FAQ
5. **HowTo** ‚Äî –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏
6. **BreadcrumbList** ‚Äî —Ö–ª–µ–±–Ω—ã–µ –∫—Ä–æ—à–∫–∏
7. **ItemList** ‚Äî —Å–ø–∏—Å–∫–∏ —ç–ª–µ–º–µ–Ω—Ç–æ–≤
8. **CreativeWork** ‚Äî —Ç–≤–æ—Ä—á–µ—Å–∫–∏–µ —Ä–∞–±–æ—Ç—ã (—Å–≤–µ—á–∏)
9. **WebPage** ‚Äî –≤–µ–±-—Å—Ç—Ä–∞–Ω–∏—Ü—ã

### –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–µ OG –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è

–ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è `@vercel/og` –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏—Ö OG –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π:

- `/og` ‚Äî –æ–±—â–∏–µ OG –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è
- `/og/candle/[id]` ‚Äî OG –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –¥–ª—è —Å–≤–µ—á–µ–π

### Sitemap –∏ Robots

- **Sitemap:** `/sitemap.xml` ‚Äî –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∞—è –≥–µ–Ω–µ—Ä–∞—Ü–∏—è —Å–æ –≤—Å–µ–º–∏ —Å—Ç—Ä–∞–Ω–∏—Ü–∞–º–∏
- **Robots:** `/robots.txt` ‚Äî –ø—Ä–∞–≤–∏–ª—å–Ω–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ –¥–ª—è –ø–æ–∏—Å–∫–æ–≤—ã—Ö —Å–∏—Å—Ç–µ–º

---

## üöÄ –†–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ

### –ü–ª–∞—Ç—Ñ–æ—Ä–º–∞

–ü—Ä–æ–µ–∫—Ç —Ä–∞–∑–≤–µ—Ä–Ω—É—Ç –Ω–∞ **Vercel**.

### –ü—Ä–æ—Ü–µ—Å—Å –¥–µ–ø–ª–æ—è

1. **GitHub Integration** ‚Äî –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –¥–µ–ø–ª–æ–π –ø—Ä–∏ push –≤ main
2. **Environment Variables** ‚Äî –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ –≤ Vercel Dashboard
3. **Build Command** ‚Äî `npm run build`
4. **Output Directory** ‚Äî `.next`

### –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è

- Node.js 18+
- PostgreSQL (Supabase)
- –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è (—Å–º. –Ω–∏–∂–µ)

**–ü–æ–¥—Ä–æ–±–Ω–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è:** [docs/deployment/DEPLOYMENT_GUIDE.md](./deployment/DEPLOYMENT_GUIDE.md)

---

## üîß –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è

### –û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ

```env
# Supabase
NEXT_PUBLIC_SUPABASE_URL=https://your-project.supabase.co
NEXT_PUBLIC_SUPABASE_ANON_KEY=your-anon-key

# –ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä—ã (—Å–ø–∏—Å–æ–∫ email —á–µ—Ä–µ–∑ –∑–∞–ø—è—Ç—É—é)
NEXT_PUBLIC_ADMIN_EMAILS=admin@example.com,admin2@example.com
```

### –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ

```env
# Google Gemini API (–¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ —Å—Ç–∞—Ç–µ–π)
GEMINI_API_KEY=your-gemini-api-key

# Google Analytics
NEXT_PUBLIC_GA_ID=G-XXXXXXXXXX

# Yandex Metrika
NEXT_PUBLIC_YANDEX_METRIKA_ID=XXXXXXXX

# Site URL (–¥–ª—è Supabase Auth redirects)
NEXT_PUBLIC_SITE_URL=https://candletime.ru
```

**–ü–æ–¥—Ä–æ–±–Ω–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è:** [docs/deployment/ENVIRONMENT_SETUP.md](./deployment/ENVIRONMENT_SETUP.md)

---

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### –ù–∞—Å—Ç—Ä–æ–π–∫–∞

–ü—Ä–æ–µ–∫—Ç –∏—Å–ø–æ–ª—å–∑—É–µ—Ç **Jest** –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è.

**–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è:**
- `jest.config.js` ‚Äî –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è Jest
- `jest.setup.js` ‚Äî –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ —Ç–µ—Å—Ç–æ–≤–æ–π —Å—Ä–µ–¥—ã

### –ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤

```bash
npm test              # –ó–∞–ø—É—Å–∫ –≤—Å–µ—Ö —Ç–µ—Å—Ç–æ–≤
npm run test:watch    # –ó–∞–ø—É—Å–∫ –≤ watch —Ä–µ–∂–∏–º–µ
npm run test:coverage # –ó–∞–ø—É—Å–∫ —Å –ø–æ–∫—Ä—ã—Ç–∏–µ–º
```

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ç–µ—Å—Ç–æ–≤

```
__tests__/
‚îú‚îÄ‚îÄ components/       # –¢–µ—Å—Ç—ã –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
‚îú‚îÄ‚îÄ lib/             # –¢–µ—Å—Ç—ã —É—Ç–∏–ª–∏—Ç
‚îî‚îÄ‚îÄ README.md        # –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –ø–æ —Ç–µ—Å—Ç–∞–º
```

### –ü–æ–∫—Ä—ã—Ç–∏–µ

–ü–æ–∫—Ä—ã—Ç–∏–µ –∫–æ–¥–∞ –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç—Å—è –≤ `coverage/` –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏.

---

## ‚ö° –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å

### –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏

- ‚úÖ **Server Components** ‚Äî –º–∏–Ω–∏–º–∏–∑–∞—Ü–∏—è JavaScript –Ω–∞ –∫–ª–∏–µ–Ω—Ç–µ
- ‚úÖ **Dynamic Imports** ‚Äî –ª–µ–Ω–∏–≤–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ —Ç—è–∂–µ–ª—ã—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ (Leaflet, Analytics)
- ‚úÖ **Image Optimization** ‚Äî Next.js Image –∫–æ–º–ø–æ–Ω–µ–Ω—Ç (–µ—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è)
- ‚úÖ **Code Splitting** ‚Äî –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ –∫–æ–¥–∞
- ‚úÖ **Static Generation** ‚Äî —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∞—è –≥–µ–Ω–µ—Ä–∞—Ü–∏—è –≥–¥–µ –≤–æ–∑–º–æ–∂–Ω–æ
- ‚úÖ **Database Indexes** ‚Äî –∏–Ω–¥–µ–∫—Å—ã –¥–ª—è –±—ã—Å—Ç—Ä—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤

### –ú–µ—Ç—Ä–∏–∫–∏

- **First Contentful Paint (FCP):** < 1.5s
- **Largest Contentful Paint (LCP):** < 2.5s
- **Time to Interactive (TTI):** < 3.5s

---

## üîí –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

### –ú–µ—Ä—ã –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏

- ‚úÖ **Row Level Security (RLS)** ‚Äî –∑–∞—â–∏—Ç–∞ –¥–∞–Ω–Ω—ã—Ö –Ω–∞ —É—Ä–æ–≤–Ω–µ –ë–î
- ‚úÖ **Environment Variables** ‚Äî —Å–µ–∫—Ä–µ—Ç—ã –≤ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è
- ‚úÖ **HTTPS Only** ‚Äî –≤—Å–µ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è —á–µ—Ä–µ–∑ HTTPS
- ‚úÖ **Input Validation** ‚Äî –≤–∞–ª–∏–¥–∞—Ü–∏—è –≤—Å–µ—Ö –≤—Ö–æ–¥–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö
- ‚úÖ **SQL Injection Protection** ‚Äî –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ø–∞—Ä–∞–º–µ—Ç—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤ Supabase
- ‚úÖ **XSS Protection** ‚Äî —Å–∞–Ω–∏—Ç–∏–∑–∞—Ü–∏—è HTML (rehype-sanitize)
- ‚úÖ **CSRF Protection** ‚Äî –≤—Å—Ç—Ä–æ–µ–Ω–Ω–∞—è –∑–∞—â–∏—Ç–∞ Next.js
- ‚úÖ **Rate Limiting** ‚Äî –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ –∑–∞–ø—Ä–æ—Å–æ–≤ –∫ –≤–Ω–µ—à–Ω–∏–º API

### –ê–¥–º–∏–Ω-–¥–æ—Å—Ç—É–ø

- –ü—Ä–æ–≤–µ—Ä–∫–∞ —á–µ—Ä–µ–∑ –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é –æ–∫—Ä—É–∂–µ–Ω–∏—è `NEXT_PUBLIC_ADMIN_EMAILS`
- –¢–∞–π–º–∞—É—Ç –ø—Ä–æ–≤–µ—Ä–∫–∏ (5 —Å–µ–∫—É–Ω–¥)
- –¢–æ–∫–µ–Ω-–±–∞–∑–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è –¥–ª—è API

---

## üìö –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞ –∏ –ø–æ–¥–¥–µ—Ä–∂–∫–∞

### –ü—Ä–æ—Ü–µ—Å—Å —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏

1. **–°–æ–∑–¥–∞–Ω–∏–µ –≤–µ—Ç–∫–∏** ‚Äî `git checkout -b feature/new-feature`
2. **–†–∞–∑—Ä–∞–±–æ—Ç–∫–∞** ‚Äî –≤–Ω–µ—Å–µ–Ω–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π
3. **–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ** ‚Äî –∑–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤ –∏ –ø—Ä–æ–≤–µ—Ä–∫–∞ –ª–∏–Ω—Ç–µ—Ä–∞
4. **–ö–æ–º–º–∏—Ç** ‚Äî `git commit -m "–û–ø–∏—Å–∞–Ω–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π"`
5. **Push** ‚Äî `git push origin feature/new-feature`
6. **Pull Request** ‚Äî —Å–æ–∑–¥–∞–Ω–∏–µ PR –≤ GitHub

### –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏

–ü–æ—Å–ª–µ –∫–∞–∂–¥–æ–≥–æ –∫–æ–º–º–∏—Ç–∞ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –æ–±–Ω–æ–≤–ª—è—Ç—å –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é:

1. **–ò–∑–º–µ–Ω–µ–Ω–∏—è –≤ API** ‚Üí –æ–±–Ω–æ–≤–∏—Ç—å `docs/API.md` –∏ `docs/TECHNICAL_DOCUMENTATION.md`
2. **–ò–∑–º–µ–Ω–µ–Ω–∏—è –≤ –ë–î** ‚Üí –æ–±–Ω–æ–≤–∏—Ç—å —Ä–∞–∑–¥–µ–ª "–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö" –≤ `docs/TECHNICAL_DOCUMENTATION.md`
3. **–ù–æ–≤—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã** ‚Üí –¥–æ–±–∞–≤–∏—Ç—å –æ–ø–∏—Å–∞–Ω–∏–µ –≤ —Ä–∞–∑–¥–µ–ª "–ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –∏ –º–æ–¥—É–ª–∏"
4. **–ù–æ–≤—ã–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏** ‚Üí –æ–±–Ω–æ–≤–∏—Ç—å —Ä–∞–∑–¥–µ–ª "–¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–π —Å—Ç–µ–∫"

**–ü–æ–¥—Ä–æ–±–Ω–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è:** [docs/DOCUMENTATION_UPDATE_PROCESS.md](./DOCUMENTATION_UPDATE_PROCESS.md)

### –°–∫—Ä–∏–ø—Ç—ã

```bash
npm run dev              # –ó–∞–ø—É—Å–∫ dev —Å–µ—Ä–≤–µ—Ä–∞ (http://localhost:3000)
npm run build            # –°–±–æ—Ä–∫–∞ –¥–ª—è –ø—Ä–æ–¥–∞–∫—à–Ω–∞
npm run start            # –ó–∞–ø—É—Å–∫ production —Å–µ—Ä–≤–µ—Ä–∞
npm run lint             # –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–¥–∞ ESLint
npm run generate:seo     # –ì–µ–Ω–µ—Ä–∞—Ü–∏—è SEO —Å—Ç–∞—Ç—å–∏ —á–µ—Ä–µ–∑ Gemini
npm test                 # –ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤
npm run test:watch       # –ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤ –≤ watch —Ä–µ–∂–∏–º–µ
npm run test:coverage    # –ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤ —Å –ø–æ–∫—Ä—ã—Ç–∏–µ–º
```

---

## üìö –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

- [–ì–ª–∞–≤–Ω—ã–π –∏–Ω–¥–µ–∫—Å –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏](./README.md)
- [API –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è](./API.md)
- [–†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ –¥–µ–ø–ª–æ—é](./deployment/DEPLOYMENT_GUIDE.md)
- [–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞](./architecture/PROJECT_ANALYSIS.md)
- [–ü–ª–∞–Ω —Ä–∞–∑–≤–∏—Ç–∏—è](./architecture/ROADMAP.md)

---

**–ü–æ—Å–ª–µ–¥–Ω–µ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ:** 2025-01-27  
**–í–µ—Ä—Å–∏—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏:** 2.0
