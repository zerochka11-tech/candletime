# üîÑ –ü–ª–∞–Ω –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ Reverse-Proxy –¥–ª—è –¥–æ—Å—Ç—É–ø–∞ –∏–∑ –†–§

**–î–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è:** –Ø–Ω–≤–∞—Ä—å 2025  
**–ü—Ä–æ–±–ª–µ–º–∞:** –°–µ—Ä–≤–∏—Å –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω –∏–∑ –†–§ (–±–ª–æ–∫–∏—Ä–æ–≤–∫–∞ Vercel CDN)  
**–†–µ—à–µ–Ω–∏–µ:** Reverse-proxy —á–µ—Ä–µ–∑ VPS —Å Nginx –ø–µ—Ä–µ–¥ Vercel  
**–°—Ç–∞—Ç—É—Å:** ‚ö†Ô∏è –¢—Ä–µ–±—É–µ—Ç—Å—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è

---

## üìã –ê–ù–ê–õ–ò–ó –ü–†–ï–î–õ–û–ñ–ï–ù–ò–Ø

### –°—É—Ç—å —Ä–µ—à–µ–Ω–∏—è

**–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞:**
```markdown:docs/infrastructure/REVERSE_PROXY_SETUP_PLAN.md
<code_block_to_apply_changes_from>
```
–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å (–†–§) ‚Üí VPS (Nginx) ‚Üí Vercel
                    ‚Üì
              –ö–µ—à /_next/static/*
```

**–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:**
- ‚úÖ –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤–∏–¥–∏—Ç —Ç–æ—Ç –∂–µ –¥–æ–º–µ–Ω `candletime.ru`
- ‚úÖ Vercel –ø–æ–ª—É—á–∞–µ—Ç –∑–∞–ø—Ä–æ—Å—ã "—Å–Ω–∞—Ä—É–∂–∏ –†–§" (—Å VPS)
- ‚úÖ –°—Ç–∞—Ç–∏–∫–∞ –∫–µ—à–∏—Ä—É–µ—Ç—Å—è –Ω–∞ VPS (–±—ã—Å—Ç—Ä–∞—è –∑–∞–≥—Ä—É–∑–∫–∞)
- ‚úÖ SEO –Ω–µ –ø–æ—Å—Ç—Ä–∞–¥–∞–µ—Ç (–µ—Å–ª–∏ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å –ø—Ä–∞–≤–∏–ª—å–Ω–æ)
- ‚úÖ –ö–ª–∏–µ–Ω—Ç—Å–∫–∞—è –∞–Ω–∞–ª–∏—Ç–∏–∫–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç (GA4, –ú–µ—Ç—Ä–∏–∫–∞)

**–†–∏—Å–∫–∏:**
- ‚ö†Ô∏è Vercel Analytics –º–æ–∂–µ—Ç –∏—Å–∫–∞–∑–∏—Ç—å—Å—è (–Ω–æ –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å GA4/–ú–µ—Ç—Ä–∏–∫—É)
- ‚ö†Ô∏è –ù—É–∂–µ–Ω VPS —Å –Ω–∞—Å—Ç—Ä–æ–π–∫–æ–π Nginx
- ‚ö†Ô∏è –ù—É–∂–Ω–æ –ø—Ä–∞–≤–∏–ª—å–Ω–æ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å –∑–∞–≥–æ–ª–æ–≤–∫–∏

---

## üéØ –í–õ–ò–Ø–ù–ò–ï –ù–ê SEO

### ‚úÖ SEO –Ω–µ –ø–æ—Å—Ç—Ä–∞–¥–∞–µ—Ç, –µ—Å–ª–∏:

1. **–ö–∞–Ω–æ–Ω–∏—á–µ—Å–∫–∏–π –¥–æ–º–µ–Ω –Ω–µ –º–µ–Ω—è–µ—Ç—Å—è**
   - –í—Å—ë –æ—Å—Ç–∞—ë—Ç—Å—è –Ω–∞ `https://candletime.ru/...`
   - Canonical URLs –Ω–µ –º–µ–Ω—è—é—Ç—Å—è

2. **SSR/HTML –æ—Å—Ç–∞—ë—Ç—Å—è —Ç–µ–º –∂–µ**
   - Nginx –ø—Ä–æ—Å—Ç–æ –ø—Ä–æ–∫—Å–∏—Ä—É–µ—Ç –æ—Ç–≤–µ—Ç—ã –æ—Ç Vercel
   - –ö–æ–Ω—Ç–µ–Ω—Ç –Ω–µ –º–µ–Ω—è–µ—Ç—Å—è

3. **–ü—Ä–∞–≤–∏–ª—å–Ω—ã–µ –∑–∞–≥–æ–ª–æ–≤–∫–∏:**
   - `Host: your-project.vercel.app` (–¥–ª—è Vercel)
   - `X-Forwarded-Proto: https` (—á—Ç–æ–±—ã Vercel –≤–∏–¥–µ–ª HTTPS)
   - `X-Real-IP` –∏ `X-Forwarded-For` (—Ä–µ–∞–ª—å–Ω—ã–π IP –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è)

4. **–†–µ–¥–∏—Ä–µ–∫—Ç—ã —Ä–∞–±–æ—Ç–∞—é—Ç:**
   - HTTP ‚Üí HTTPS –Ω–∞ —É—Ä–æ–≤–Ω–µ Nginx
   - www ‚Üí –±–µ–∑ www (–∏–ª–∏ –Ω–∞–æ–±–æ—Ä–æ—Ç, –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç –Ω–∞—Å—Ç—Ä–æ–π–∫–∏)

5. **–í–∞–∂–Ω—ã–µ —Ñ–∞–π–ª—ã –¥–æ—Å—Ç—É–ø–Ω—ã:**
   - `sitemap.xml` - –ø—Ä–æ–∫—Å–∏—Ä—É–µ—Ç—Å—è –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π
   - `robots.txt` - –ø—Ä–æ–∫—Å–∏—Ä—É–µ—Ç—Å—è –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π

### ‚ùå SEO —Å–ª–æ–º–∞–µ—Ç—Å—è, –µ—Å–ª–∏:

- –ü–æ—è–≤—è—Ç—Å—è –Ω–µ–≤–µ—Ä–Ω—ã–µ —Ä–µ–¥–∏—Ä–µ–∫—Ç—ã
- –ò–∑–º–µ–Ω–∏—Ç—Å—è canonical
- –°–ª–æ–º–∞—é—Ç—Å—è –∑–∞–≥–æ–ª–æ–≤–∫–∏/–∫–æ–Ω—Ç–µ–Ω—Ç
- –ü–æ—è–≤–∏—Ç—Å—è —Ä–∞–∑–Ω—ã–π –∫–æ–Ω—Ç–µ–Ω—Ç –ø–æ —Ä–µ–≥–∏–æ–Ω–∞–º (cloaking)

**–í—ã–≤–æ–¥:** –ü—Ä–∏ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–π –Ω–∞—Å—Ç—Ä–æ–π–∫–µ SEO –Ω–µ –ø–æ—Å—Ç—Ä–∞–¥–∞–µ—Ç, –∞ –º–æ–∂–µ—Ç –¥–∞–∂–µ —É–ª—É—á—à–∏—Ç—å—Å—è (—Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç—å + —Å–∫–æ—Ä–æ—Å—Ç—å).

---

## üìä –í–õ–ò–Ø–ù–ò–ï –ù–ê –ê–ù–ê–õ–ò–¢–ò–ö–£

### 1. –ö–ª–∏–µ–Ω—Ç—Å–∫–∞—è –∞–Ω–∞–ª–∏—Ç–∏–∫–∞ (GA4, Yandex.Metrica) ‚úÖ

**–ù–µ –ø–æ—Å—Ç—Ä–∞–¥–∞–µ—Ç:**
- JavaScript –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –≤ –±—Ä–∞—É–∑–µ—Ä–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- –°–æ–±—ã—Ç–∏—è –æ—Ç–ø—Ä–∞–≤–ª—è—é—Ç—Å—è –Ω–∞–ø—Ä—è–º—É—é –≤ —Å–∏—Å—Ç–µ–º—ã –∞–Ω–∞–ª–∏—Ç–∏–∫–∏
- IP –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ

**–î–∞–∂–µ —É–ª—É—á—à–∏—Ç—Å—è:**
- –°–∞–π—Ç —Å—Ç–∞–±–∏–ª—å–Ω–æ –≥—Ä—É–∑–∏—Ç—Å—è ‚Üí –∞–Ω–∞–ª–∏—Ç–∏–∫–∞ —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è —Ç–æ—á–Ω–µ–µ
- –ú–µ–Ω—å—à–µ "–Ω–µ–¥–æ–≥—Ä—É–∑–æ–≤" ‚Üí –º–µ–Ω—å—à–µ –ø–æ—Ç–µ—Ä—è–Ω–Ω—ã—Ö —Å–æ–±—ã—Ç–∏–π

### 2. –°–µ—Ä–≤–µ—Ä–Ω–∞—è –∞–Ω–∞–ª–∏—Ç–∏–∫–∞ (Vercel Analytics) ‚ö†Ô∏è

**–ú–æ–∂–µ—Ç –∏—Å–∫–∞–∑–∏—Ç—å—Å—è:**
- Vercel –±—É–¥–µ—Ç –≤–∏–¥–µ—Ç—å IP VPS, –∞ –Ω–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- –ì–µ–æ–≥—Ä–∞—Ñ–∏—è/—É–Ω–∏–∫–∞–ª—å–Ω—ã–µ –ø–æ—Å–µ—Ç–∏—Ç–µ–ª–∏ –ø–æ IP –±—É–¥—É—Ç "—Å—ä–µ–∑–∂–∞—Ç—å"

**–ö–∞–∫ –∏—Å–ø—Ä–∞–≤–∏—Ç—å:**
- –ü—Ä–æ–∫–∏–¥—ã–≤–∞—Ç—å —Ä–µ–∞–ª—å–Ω—ã–π IP –≤ –∑–∞–≥–æ–ª–æ–≤–∫–∞—Ö:
  - `X-Forwarded-For: $remote_addr`
  - `X-Real-IP: $remote_addr`
- –ù–æ –¥–∞–∂–µ –µ—Å–ª–∏ Vercel –Ω–µ –∏–¥–µ–∞–ª—å–Ω–æ —É—á–∏—Ç—ã–≤–∞–µ—Ç –∑–∞–≥–æ–ª–æ–≤–∫–∏:
  - –û—Ä–∏–µ–Ω—Ç–∏—Ä–æ–≤–∞—Ç—å—Å—è –Ω–∞ GA4/–ú–µ—Ç—Ä–∏–∫—É (–æ–Ω–∏ —Ç–æ—á–Ω–µ–µ)
  - –ü–∏—Å–∞—Ç—å access-–ª–æ–≥–∏ –Ω–∞ Nginx (–æ–Ω–∏ –≤–∏–¥—è—Ç —Ä–µ–∞–ª—å–Ω—ã–µ IP)

**–í—ã–≤–æ–¥:** –ö–ª–∏–µ–Ω—Ç—Å–∫–∞—è –∞–Ω–∞–ª–∏—Ç–∏–∫–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç –∏–¥–µ–∞–ª—å–Ω–æ, —Å–µ—Ä–≤–µ—Ä–Ω–∞—è –º–æ–∂–µ—Ç –±—ã—Ç—å –º–µ–Ω–µ–µ —Ç–æ—á–Ω–æ–π, –Ω–æ —ç—Ç–æ –Ω–µ –∫—Ä–∏—Ç–∏—á–Ω–æ.

---

## ‚ö†Ô∏è –ö–†–ò–¢–ò–ß–ù–´–ô –ß–ï–ö-–õ–ò–°–¢ (—á—Ç–æ –Ω–µ —Å–ª–æ–º–∞—Ç—å)

### 1. –ü—Ä–∞–≤–∏–ª—å–Ω—ã–π Host –∑–∞–≥–æ–ª–æ–≤–æ–∫
- ‚úÖ `proxy_set_header Host your-project.vercel.app;`
- ‚ùå –ò–Ω–∞—á–µ Next/Vercel –º–æ–∂–µ—Ç –æ—Ç–¥–∞–≤–∞—Ç—å –Ω–µ —Ç–æ—Ç –ø—Ä–æ–µ–∫—Ç –∏–ª–∏ –¥–µ–ª–∞—Ç—å —Å—Ç—Ä–∞–Ω–Ω—ã–µ —Ä–µ–¥–∏—Ä–µ–∫—Ç—ã

### 2. HTTPS –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ "–≤–∏–¥–µ–Ω" –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—é
- ‚úÖ `proxy_set_header X-Forwarded-Proto $scheme;`
- ‚úÖ `proxy_set_header X-Forwarded-Proto https;` (–µ—Å–ª–∏ –≤—Å–µ–≥–¥–∞ HTTPS)

### 3. –†–µ–∞–ª—å–Ω—ã–π IP –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- ‚úÖ `proxy_set_header X-Real-IP $remote_addr;`
- ‚úÖ `proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;`

### 4. WebSocket / SSE (–µ—Å–ª–∏ –µ—Å—Ç—å)
- ‚úÖ –ó–∞–≥–æ–ª–æ–≤–∫–∏ `Upgrade` –∏ `Connection` (–µ—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è realtime/streaming)
- ‚ö†Ô∏è –î–ª—è CandleTime —Å–∫–æ—Ä–µ–µ –≤—Å–µ–≥–æ –Ω–µ –Ω—É–∂–Ω–æ, –Ω–æ –ª—É—á—à–µ —É—á–µ—Å—Ç—å

### 5. –ö–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ
- ‚úÖ –ö–µ—à–∏—Ä–æ–≤–∞—Ç—å —Ç–æ–ª—å–∫–æ —Å—Ç–∞—Ç–∏–∫—É: `/_next/static/*` (30 –¥–Ω–µ–π)
- ‚ùå –ù–ï –∫–µ—à–∏—Ä–æ–≤–∞—Ç—å HTML (–∏–ª–∏ –æ—á–µ–Ω—å –∞–∫–∫—É—Ä–∞—Ç–Ω–æ)
- ‚ùå –ò–Ω–∞—á–µ –±—É–¥–µ—Ç "–∑–∞–ª–∏–ø–∞–Ω–∏–µ" –∫–æ–Ω—Ç–µ–Ω—Ç–∞

### 6. –†–µ–¥–∏—Ä–µ–∫—Ç—ã
- ‚úÖ HTTP ‚Üí HTTPS –Ω–∞ —É—Ä–æ–≤–Ω–µ Nginx
- ‚úÖ www ‚Üí –±–µ–∑ www (–∏–ª–∏ –Ω–∞–æ–±–æ—Ä–æ—Ç, –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç –Ω–∞—Å—Ç—Ä–æ–π–∫–∏)

---

## üèóÔ∏è –†–ï–ö–û–ú–ï–ù–î–£–ï–ú–ê–Ø –ê–†–•–ò–¢–ï–ö–¢–£–†–ê

### –í–∞—Ä–∏–∞–Ω—Ç A: –ë–µ–∑ Cloudflare (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –¥–ª—è –†–§)

```
DNS (—Ä–µ–≥–∏—Å—Ç—Ä–∞—Ç–æ—Ä) ‚Üí A-–∑–∞–ø–∏—Å—å –Ω–∞ VPS ‚Üí Nginx ‚Üí Vercel
                    ‚Üì
              Let's Encrypt SSL
```

**–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:**
- ‚úÖ –ù–µ—Ç –ø—Ä–æ–±–ª–µ–º —Å Cloudflare –≤ –†–§
- ‚úÖ –ü—Ä—è–º–æ–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –∫ VPS
- ‚úÖ –ü–æ–ª–Ω—ã–π –∫–æ–Ω—Ç—Ä–æ–ª—å –Ω–∞–¥ —Ç—Ä–∞—Ñ–∏–∫–æ–º

**–ù–µ–¥–æ—Å—Ç–∞—Ç–∫–∏:**
- ‚ö†Ô∏è –ù–µ—Ç –∑–∞—â–∏—Ç—ã –æ—Ç DDoS (–Ω–æ –¥–ª—è –Ω–µ–±–æ–ª—å—à–æ–≥–æ –ø—Ä–æ–µ–∫—Ç–∞ –Ω–µ –∫—Ä–∏—Ç–∏—á–Ω–æ)
- ‚ö†Ô∏è –ù–µ—Ç CDN (–Ω–æ —Å—Ç–∞—Ç–∏–∫–∞ –∫–µ—à–∏—Ä—É–µ—Ç—Å—è –Ω–∞ VPS)

### –í–∞—Ä–∏–∞–Ω—Ç B: –° Cloudflare (–Ω–µ —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –¥–ª—è –†–§)

```
DNS (Cloudflare) ‚Üí VPS ‚Üí Nginx ‚Üí Vercel
```

**–ü—Ä–æ–±–ª–µ–º—ã:**
- ‚ö†Ô∏è Cloudflare –≤ –†–§ —á–∞—Å—Ç–æ —É—Ö—É–¥—à–∞–µ—Ç –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å
- ‚ö†Ô∏è –ú–æ–∂–µ—Ç –Ω–µ —Ä–µ—à–∏—Ç—å –ø—Ä–æ–±–ª–µ–º—É –ø–æ–ª–Ω–æ—Å—Ç—å—é
- ‚ö†Ô∏è –ù—É–∂–Ω–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –æ—Ç–¥–µ–ª—å–Ω–æ

**–í—ã–≤–æ–¥:** –†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –≤–∞—Ä–∏–∞–Ω—Ç A (–±–µ–∑ Cloudflare).

---

## üìù –ü–õ–ê–ù –î–ï–ô–°–¢–í–ò–ô

### –≠—Ç–∞–ø 1: –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ (1-2 —á–∞—Å–∞)

#### 1.1. –û–ø—Ä–µ–¥–µ–ª–∏—Ç—å —Ç–µ–∫—É—â—É—é –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é

**–ù—É–∂–Ω–æ –≤—ã—è—Å–Ω–∏—Ç—å:**
- [ ] –î–æ–º–µ–Ω —Å–µ–π—á–∞—Å —á–µ—Ä–µ–∑ Cloudflare –∏–ª–∏ –Ω–∞–ø—Ä—è–º—É—é?
- [ ] –ö–∞–∫–æ–π –ø—Ä–æ–≤–∞–π–¥–µ—Ä –¥–æ–º–µ–Ω–∞/NS?
- [ ] –ù—É–∂–µ–Ω –ª–∏ www (—Ä–µ–¥–∏—Ä–µ–∫—Ç –Ω–∞ –±–µ–∑ www –∏–ª–∏ –Ω–∞–æ–±–æ—Ä–æ—Ç)?
- [ ] –ö–∞–∫–æ–π VPS –ø—Ä–æ–≤–∞–π–¥–µ—Ä –±—É–¥–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è?
- [ ] –ö–∞–∫–æ–π Vercel project URL? (–æ–±—ã—á–Ω–æ `your-project.vercel.app`)

**–î–µ–π—Å—Ç–≤–∏—è:**
1. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å DNS –∑–∞–ø–∏—Å–∏ –¥–æ–º–µ–Ω–∞:
   ```bash
   dig candletime.ru
   nslookup candletime.ru
   ```
2. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –≤ Vercel Dashboard:
   - Settings ‚Üí Domains ‚Üí –Ω–∞–π—Ç–∏ project URL
3. –û–ø—Ä–µ–¥–µ–ª–∏—Ç—å –ø—Ä–µ–¥–ø–æ—á—Ç–µ–Ω–∏—è –ø–æ www:
   - –°–µ–π—á–∞—Å –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è `candletime.ru` –∏–ª–∏ `www.candletime.ru`?
   - –†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è: —Ä–µ–¥–∏—Ä–µ–∫—Ç www ‚Üí –±–µ–∑ www

#### 1.2. –í—ã–±—Ä–∞—Ç—å VPS –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –¥–ª—è –†–§:**
- **Timeweb** (–†–æ—Å—Å–∏—è) - –æ—Ç 200‚ÇΩ/–º–µ—Å—è—Ü
- **Selectel** (–†–æ—Å—Å–∏—è) - –æ—Ç 300‚ÇΩ/–º–µ—Å—è—Ü
- **Hetzner** (–ì–µ—Ä–º–∞–Ω–∏—è) - –æ—Ç 4‚Ç¨/–º–µ—Å—è—Ü (—Ö–æ—Ä–æ—à–∞—è –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å –∏–∑ –†–§)
- **DigitalOcean** (–°–®–ê) - –æ—Ç $6/–º–µ—Å—è—Ü

**–¢—Ä–µ–±–æ–≤–∞–Ω–∏—è –∫ VPS:**
- –ú–∏–Ω–∏–º—É–º 1 CPU, 1GB RAM, 10GB SSD
- Ubuntu 22.04 LTS (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)
- –î–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å –∏–∑ –†–§ (–ø—Ä–æ–≤–µ—Ä–∏—Ç—å ping)

**–î–µ–π—Å—Ç–≤–∏—è:**
- [ ] –í—ã–±—Ä–∞—Ç—å –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞
- [ ] –°–æ–∑–¥–∞—Ç—å VPS
- [ ] –ù–∞—Å—Ç—Ä–æ–∏—Ç—å SSH –¥–æ—Å—Ç—É–ø
- [ ] –û–±–Ω–æ–≤–∏—Ç—å —Å–∏—Å—Ç–µ–º—É: `sudo apt update && sudo apt upgrade -y`

---

### –≠—Ç–∞–ø 2: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Nginx (2-3 —á–∞—Å–∞)

#### 2.1. –£—Å—Ç–∞–Ω–æ–≤–∫–∞ Nginx

```bash
sudo apt install nginx -y
sudo systemctl enable nginx
sudo systemctl start nginx
```

#### 2.2. –£—Å—Ç–∞–Ω–æ–≤–∫–∞ Certbot (Let's Encrypt)

```bash
sudo apt install certbot python3-certbot-nginx -y
```

#### 2.3. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ DNS

**–í–∞–∂–Ω–æ:** –ü–µ—Ä–µ–¥ –ø–æ–ª—É—á–µ–Ω–∏–µ–º SSL —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–∞ –Ω—É–∂–Ω–æ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å DNS!

**–ï—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ–º –≤–∞—Ä–∏–∞–Ω—Ç A (–±–µ–∑ Cloudflare):**
1. –í –ø–∞–Ω–µ–ª–∏ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞ –¥–æ–º–µ–Ω–∞:
   - –£–¥–∞–ª–∏—Ç—å –≤—Å–µ –∑–∞–ø–∏—Å–∏ Cloudflare (–µ—Å–ª–∏ –±—ã–ª–∏)
   - –î–æ–±–∞–≤–∏—Ç—å A-–∑–∞–ø–∏—Å—å: `candletime.ru` ‚Üí IP VPS
   - –î–æ–±–∞–≤–∏—Ç—å A-–∑–∞–ø–∏—Å—å: `www.candletime.ru` ‚Üí IP VPS (–µ—Å–ª–∏ –Ω—É–∂–µ–Ω www)
2. –ü–æ–¥–æ–∂–¥–∞—Ç—å —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω–µ–Ω–∏—è DNS (5-60 –º–∏–Ω—É—Ç)
3. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å: `dig candletime.ru` (–¥–æ–ª–∂–µ–Ω –≤–µ—Ä–Ω—É—Ç—å IP VPS)

#### 2.4. –ü–æ–ª—É—á–µ–Ω–∏–µ SSL —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–∞

```bash
sudo certbot --nginx -d candletime.ru -d www.candletime.ru
```

**–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ:** –ï—Å–ª–∏ www –Ω–µ –Ω—É–∂–µ–Ω, –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Ç–æ–ª—å–∫–æ `-d candletime.ru`

#### 2.5. –°–æ–∑–¥–∞–Ω–∏–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ Nginx

**–ù—É–∂–Ω–æ —É–∑–Ω–∞—Ç—å:**
- Vercel project URL (–Ω–∞–ø—Ä–∏–º–µ—Ä: `candletime-abc123.vercel.app`)
- –ü—Ä–µ–¥–ø–æ—á—Ç–µ–Ω–∏—è –ø–æ www

**–°–æ–∑–¥–∞—Ç—å —Ñ–∞–π–ª:** `/etc/nginx/sites-available/candletime.ru`

```nginx
# –ö–µ—à –¥–ª—è —Å—Ç–∞—Ç–∏–∫–∏
proxy_cache_path /var/cache/nginx levels=1:2 keys_zone=STATIC:50m inactive=30d max_size=2g;

# –†–µ–¥–∏—Ä–µ–∫—Ç HTTP ‚Üí HTTPS
server {
    listen 80;
    listen [::]:80;
    server_name candletime.ru www.candletime.ru;
    
    # –†–µ–¥–∏—Ä–µ–∫—Ç –Ω–∞ HTTPS
    return 301 https://candletime.ru$request_uri;
}

# –û—Å–Ω–æ–≤–Ω–æ–π —Å–µ—Ä–≤–µ—Ä (HTTPS)
server {
    listen 443 ssl http2;
    listen [::]:443 ssl http2;
    server_name candletime.ru www.candletime.ru;

    # SSL —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç—ã (Certbot –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –¥–æ–±–∞–≤–∏—Ç)
    ssl_certificate /etc/letsencrypt/live/candletime.ru/fullchain.pem;
    ssl_certificate_key /etc/letsencrypt/live/candletime.ru/privkey.pem;
    
    # SSL –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
    ssl_protocols TLSv1.2 TLSv1.3;
    ssl_ciphers HIGH:!aNULL:!MD5;
    ssl_prefer_server_ciphers on;

    # –õ–æ–≥–∏
    access_log /var/log/nginx/candletime-access.log;
    error_log /var/log/nginx/candletime-error.log;

    # –†–µ–¥–∏—Ä–µ–∫—Ç www ‚Üí –±–µ–∑ www (–µ—Å–ª–∏ –Ω—É–∂–Ω–æ)
    if ($host = www.candletime.ru) {
        return 301 https://candletime.ru$request_uri;
    }

    # –ö–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ —Å—Ç–∞—Ç–∏–∫–∏ /_next/static/*
    location /_next/static/ {
        proxy_pass https://YOUR_PROJECT.vercel.app;
        proxy_set_header Host YOUR_PROJECT.vercel.app;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_set_header X-Forwarded-Proto $scheme;
        
        # –ö–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ
        proxy_cache STATIC;
        proxy_cache_valid 200 30d;
        proxy_cache_use_stale error timeout updating http_500 http_502 http_503 http_504;
        proxy_cache_background_update on;
        proxy_cache_lock on;
        
        # –ó–∞–≥–æ–ª–æ–≤–∫–∏ –∫–µ—à–∞
        expires 30d;
        add_header Cache-Control "public, max-age=2592000, immutable";
        add_header X-Cache-Status $upstream_cache_status;
    }

    # –í—Å–µ –æ—Å—Ç–∞–ª—å–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã (–±–µ–∑ –∫–µ—à–∞)
    location / {
        proxy_pass https://YOUR_PROJECT.vercel.app;
        proxy_set_header Host YOUR_PROJECT.vercel.app;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_set_header X-Forwarded-Proto $scheme;
        
        # WebSocket –ø–æ–¥–¥–µ—Ä–∂–∫–∞ (–µ—Å–ª–∏ –Ω—É–∂–Ω–æ)
        proxy_http_version 1.1;
        proxy_set_header Upgrade $http_upgrade;
        proxy_set_header Connection "upgrade";
        
        # –¢–∞–π–º–∞—É—Ç—ã
        proxy_connect_timeout 60s;
        proxy_send_timeout 60s;
        proxy_read_timeout 60s;
    }
}
```

**–í–∞–∂–Ω–æ:** –ó–∞–º–µ–Ω–∏—Ç—å `YOUR_PROJECT.vercel.app` –Ω–∞ —Ä–µ–∞–ª—å–Ω—ã–π Vercel project URL!

#### 2.6. –ê–∫—Ç–∏–≤–∞—Ü–∏—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏

```bash
# –°–æ–∑–¥–∞—Ç—å —Å–∏–º–ª–∏–Ω–∫
sudo ln -s /etc/nginx/sites-available/candletime.ru /etc/nginx/sites-enabled/

# –£–¥–∞–ª–∏—Ç—å –¥–µ—Ñ–æ–ª—Ç–Ω—É—é –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é (–µ—Å–ª–∏ –µ—Å—Ç—å)
sudo rm /etc/nginx/sites-enabled/default

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é
sudo nginx -t

# –ü–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∏—Ç—å Nginx
sudo systemctl reload nginx
```

#### 2.7. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∞–≤—Ç–æ–æ–±–Ω–æ–≤–ª–µ–Ω–∏—è SSL

```bash
# Certbot –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –Ω–∞—Å—Ç—Ä–æ–∏—Ç cron –¥–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–æ–≤
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –º–æ–∂–Ω–æ –∫–æ–º–∞–Ω–¥–æ–π:
sudo certbot renew --dry-run
```

---

### –≠—Ç–∞–ø 3: –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ (1 —á–∞—Å)

#### 3.1. –ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏

**–ò–∑ –†–§:**
- [ ] –û—Ç–∫—Ä—ã—Ç—å `https://candletime.ru` –≤ –±—Ä–∞—É–∑–µ—Ä–µ
- [ ] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ —Å–∞–π—Ç –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è
- [ ] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ —Å—Ç–∞—Ç–∏–∫–∞ (`/_next/static/*`) –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è –±—ã—Å—Ç—Ä–æ
- [ ] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å SSL —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç (–¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –≤–∞–ª–∏–¥–Ω—ã–π)

**–ò–∑–≤–Ω–µ –†–§ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ):**
- [ ] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ —Å–∞–π—Ç —Ä–∞–±–æ—Ç–∞–µ—Ç –∏ —á–µ—Ä–µ–∑ –ø—Ä—è–º–æ–π –¥–æ—Å—Ç—É–ø –∫ Vercel

#### 3.2. –ü—Ä–æ–≤–µ—Ä–∫–∞ –∑–∞–≥–æ–ª–æ–≤–∫–æ–≤

```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∑–∞–≥–æ–ª–æ–≤–∫–∏ –æ—Ç–≤–µ—Ç–∞
curl -I https://candletime.ru

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ Host –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π
curl -H "Host: candletime.ru" https://candletime.ru -v
```

**–û–∂–∏–¥–∞–µ–º—ã–µ –∑–∞–≥–æ–ª–æ–≤–∫–∏:**
- `X-Forwarded-Proto: https`
- `X-Real-IP: <IP –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è>`
- `X-Forwarded-For: <IP –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è>`

#### 3.3. –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–µ—à–∏—Ä–æ–≤–∞–Ω–∏—è

```bash
# –ü–µ—Ä–≤—ã–π –∑–∞–ø—Ä–æ—Å (–¥–æ–ª–∂–µ–Ω –±—ã—Ç—å MISS)
curl -I https://candletime.ru/_next/static/chunks/main.js

# –í—Ç–æ—Ä–æ–π –∑–∞–ø—Ä–æ—Å (–¥–æ–ª–∂–µ–Ω –±—ã—Ç—å HIT)
curl -I https://candletime.ru/_next/static/chunks/main.js
```

**–ü—Ä–æ–≤–µ—Ä–∏—Ç—å –≤ –ª–æ–≥–∞—Ö:**
```bash
tail -f /var/log/nginx/candletime-access.log | grep "_next/static"
```

#### 3.4. –ü—Ä–æ–≤–µ—Ä–∫–∞ SEO

- [ ] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å `https://candletime.ru/sitemap.xml` (–¥–æ–ª–∂–µ–Ω —Ä–∞–±–æ—Ç–∞—Ç—å)
- [ ] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å `https://candletime.ru/robots.txt` (–¥–æ–ª–∂–µ–Ω —Ä–∞–±–æ—Ç–∞—Ç—å)
- [ ] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å canonical URLs (–Ω–µ –¥–æ–ª–∂–Ω—ã –∏–∑–º–µ–Ω–∏—Ç—å—Å—è)
- [ ] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –º–µ—Ç–∞-—Ç–µ–≥–∏ (–¥–æ–ª–∂–Ω—ã –±—ã—Ç—å —Ç–µ –∂–µ)

#### 3.5. –ü—Ä–æ–≤–µ—Ä–∫–∞ –∞–Ω–∞–ª–∏—Ç–∏–∫–∏

- [ ] –û—Ç–∫—Ä—ã—Ç—å —Å–∞–π—Ç –∏ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –≤ DevTools ‚Üí Network
- [ ] –£–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ –∑–∞–ø—Ä–æ—Å—ã –∫ GA4/–ú–µ—Ç—Ä–∏–∫–µ –æ—Ç–ø—Ä–∞–≤–ª—è—é—Ç—Å—è
- [ ] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ —Å–æ–±—ã—Ç–∏—è –∞–Ω–∞–ª–∏—Ç–∏–∫–∏ —Ä–∞–±–æ—Ç–∞—é—Ç

---

### –≠—Ç–∞–ø 4: –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è (–ø–æ—Å—Ç–æ—è–Ω–Ω–æ)

#### 4.1. –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –ª–æ–≥–æ–≤

```bash
# –ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤ –¥–æ—Å—Ç—É–ø–∞
sudo tail -f /var/log/nginx/candletime-access.log

# –ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤ –æ—à–∏–±–æ–∫
sudo tail -f /var/log/nginx/candletime-error.log

# –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ –∫–µ—à—É
sudo nginx -T 2>/dev/null | grep cache
```

#### 4.2. –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏

- [ ] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å–∫–æ—Ä–æ—Å—Ç—å –∑–∞–≥—Ä—É–∑–∫–∏ (PageSpeed Insights)
- [ ] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∫–µ—à hit rate (–¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –≤—ã—Å–æ–∫–∏–π –¥–ª—è —Å—Ç–∞—Ç–∏–∫–∏)
- [ ] –ú–æ–Ω–∏—Ç–æ—Ä–∏—Ç—å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Ä–µ—Å—É—Ä—Å–æ–≤ VPS

#### 4.3. –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è

**–ï—Å–ª–∏ –Ω—É–∂–Ω–æ:**
- –£–≤–µ–ª–∏—á–∏—Ç—å —Ä–∞–∑–º–µ—Ä –∫–µ—à–∞
- –ù–∞—Å—Ç—Ä–æ–∏—Ç—å —Å–∂–∞—Ç–∏–µ (gzip/brotli)
- –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å —Ç–∞–π–º–∞—É—Ç—ã

---

## üö® –í–ê–ñ–ù–´–ï –í–û–ü–†–û–°–´ –î–õ–Ø –£–¢–û–ß–ù–ï–ù–ò–Ø

–ü–µ—Ä–µ–¥ –Ω–∞—á–∞–ª–æ–º –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –Ω—É–∂–Ω–æ –æ—Ç–≤–µ—Ç–∏—Ç—å –Ω–∞ —ç—Ç–∏ –≤–æ–ø—Ä–æ—Å—ã:

1. **–î–æ–º–µ–Ω —Å–µ–π—á–∞—Å —á–µ—Ä–µ–∑ Cloudflare –∏–ª–∏ –Ω–∞–ø—Ä—è–º—É—é?**
   - –ï—Å–ª–∏ —á–µ—Ä–µ–∑ Cloudflare ‚Üí –Ω—É–∂–Ω–æ –æ—Ç–∫–ª—é—á–∏—Ç—å –ø—Ä–æ–∫—Å–∏ (DNS only)
   - –ï—Å–ª–∏ –Ω–∞–ø—Ä—è–º—É—é ‚Üí –º–æ–∂–Ω–æ —Å—Ä–∞–∑—É –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞—Ç—å

2. **–ö–∞–∫–æ–π –ø—Ä–æ–≤–∞–π–¥–µ—Ä –¥–æ–º–µ–Ω–∞/NS?**
   - –ù—É–∂–Ω–æ –∑–Ω–∞—Ç—å, –≥–¥–µ —É–ø—Ä–∞–≤–ª—è—Ç—å DNS –∑–∞–ø–∏—Å—è–º–∏

3. **–ù—É–∂–µ–Ω –ª–∏ www?**
   - –†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è: —Ä–µ–¥–∏—Ä–µ–∫—Ç www ‚Üí –±–µ–∑ www
   - –ò–ª–∏ –Ω–∞–æ–±–æ—Ä–æ—Ç, –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç —Ç–µ–∫—É—â–µ–π –Ω–∞—Å—Ç—Ä–æ–π–∫–∏

4. **–ö–∞–∫–æ–π Vercel project URL?**
   - –û–±—ã—á–Ω–æ: `your-project.vercel.app`
   - –ú–æ–∂–Ω–æ –Ω–∞–π—Ç–∏ –≤ Vercel Dashboard ‚Üí Settings ‚Üí Domains

5. **–ö–∞–∫–æ–π VPS –ø—Ä–æ–≤–∞–π–¥–µ—Ä?**
   - –†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è: Timeweb, Selectel, Hetzner
   - –ù—É–∂–µ–Ω VPS —Å –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å—é –∏–∑ –†–§

---

## üìä –û–ñ–ò–î–ê–ï–ú–´–ï –†–ï–ó–£–õ–¨–¢–ê–¢–´

### –î–æ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏:
- ‚ùå –°–∞–π—Ç –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω –∏–∑ –†–§
- ‚ùå –°—Ç–∞—Ç–∏–∫–∞ –Ω–µ –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è
- ‚ùå –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –Ω–µ –º–æ–≥—É—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å–µ—Ä–≤–∏—Å

### –ü–æ—Å–ª–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏:
- ‚úÖ –°–∞–π—Ç –¥–æ—Å—Ç—É–ø–µ–Ω –∏–∑ –†–§
- ‚úÖ –°—Ç–∞—Ç–∏–∫–∞ –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è –±—ã—Å—Ç—Ä–æ (–∫–µ—à –Ω–∞ VPS)
- ‚úÖ SEO –Ω–µ –ø–æ—Å—Ç—Ä–∞–¥–∞–ª–æ
- ‚úÖ –ê–Ω–∞–ª–∏—Ç–∏–∫–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
- ‚úÖ –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –º–æ–≥—É—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å–µ—Ä–≤–∏—Å

---

## üîß –î–û–ü–û–õ–ù–ò–¢–ï–õ–¨–ù–´–ï –£–õ–£–ß–®–ï–ù–ò–Ø (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

### 1. –°–∂–∞—Ç–∏–µ (gzip/brotli)

```nginx
# –í –±–ª–æ–∫–µ server –¥–æ–±–∞–≤–∏—Ç—å:
gzip on;
gzip_vary on;
gzip_proxied any;
gzip_comp_level 6;
gzip_types text/plain text/css text/xml text/javascript application/json application/javascript application/xml+rss;
```

### 2. –ó–∞—â–∏—Ç–∞ –æ—Ç DDoS

```nginx
# –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ –∑–∞–ø—Ä–æ—Å–æ–≤
limit_req_zone $binary_remote_addr zone=api_limit:10m rate=10r/s;

location /api/ {
    limit_req zone=api_limit burst=20 nodelay;
    # ... –æ—Å—Ç–∞–ª—å–Ω–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
}
```

### 3. –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥

- –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ (UptimeRobot, Pingdom)
- –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –∞–ª–µ—Ä—Ç—ã –ø—Ä–∏ –ø—Ä–æ–±–ª–µ–º–∞—Ö

---

## üìù –ß–ï–ö-–õ–ò–°–¢ –í–´–ü–û–õ–ù–ï–ù–ò–Ø

### –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞:
- [ ] –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∞ —Ç–µ–∫—É—â–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è DNS
- [ ] –í—ã–±—Ä–∞–Ω VPS –ø—Ä–æ–≤–∞–π–¥–µ—Ä
- [ ] –°–æ–∑–¥–∞–Ω VPS
- [ ] –ù–∞—Å—Ç—Ä–æ–µ–Ω SSH –¥–æ—Å—Ç—É–ø

### –ù–∞—Å—Ç—Ä–æ–π–∫–∞:
- [ ] –£—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω Nginx
- [ ] –£—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω Certbot
- [ ] –ù–∞—Å—Ç—Ä–æ–µ–Ω—ã DNS –∑–∞–ø–∏—Å–∏
- [ ] –ü–æ–ª—É—á–µ–Ω SSL —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç
- [ ] –°–æ–∑–¥–∞–Ω–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è Nginx
- [ ] –ê–∫—Ç–∏–≤–∏—Ä–æ–≤–∞–Ω–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
- [ ] –ù–∞—Å—Ç—Ä–æ–µ–Ω–æ –∞–≤—Ç–æ–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ SSL

### –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ:
- [ ] –ü—Ä–æ–≤–µ—Ä–µ–Ω–∞ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å –∏–∑ –†–§
- [ ] –ü—Ä–æ–≤–µ—Ä–µ–Ω—ã –∑–∞–≥–æ–ª–æ–≤–∫–∏
- [ ] –ü—Ä–æ–≤–µ—Ä–µ–Ω–æ –∫–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ
- [ ] –ü—Ä–æ–≤–µ—Ä–µ–Ω–æ SEO (sitemap, robots.txt, canonical)
- [ ] –ü—Ä–æ–≤–µ—Ä–µ–Ω–∞ –∞–Ω–∞–ª–∏—Ç–∏–∫–∞

### –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥:
- [ ] –ù–∞—Å—Ç—Ä–æ–µ–Ω –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –ª–æ–≥–æ–≤
- [ ] –ù–∞—Å—Ç—Ä–æ–µ–Ω –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
- [ ] –ù–∞—Å—Ç—Ä–æ–µ–Ω—ã –∞–ª–µ—Ä—Ç—ã

---

## üîó –ü–û–õ–ï–ó–ù–´–ï –°–°–´–õ–ö–ò

- [Nginx Documentation](https://nginx.org/en/docs/)
- [Certbot Documentation](https://certbot.eff.org/)
- [Vercel Documentation](https://vercel.com/docs)
- [Let's Encrypt](https://letsencrypt.org/)

---

**–°—Ç–∞—Ç—É—Å:** ‚ö†Ô∏è –¢—Ä–µ–±—É–µ—Ç—Å—è —É—Ç–æ—á–Ω–µ–Ω–∏–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –ø–µ—Ä–µ–¥ –Ω–∞—á–∞–ª–æ–º  
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** üî• –ö—Ä–∏—Ç–∏—á–Ω—ã–π (–±–ª–æ–∫–∏—Ä—É–µ—Ç –¥–æ—Å—Ç—É–ø –∏–∑ –†–§)  
**–í—Ä–µ–º—è –Ω–∞ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—é:** 4-6 —á–∞—Å–æ–≤
```

–î–æ–∫—É–º–µ–Ω—Ç —Å–æ–∑–¥–∞–Ω. –û–Ω –≤–∫–ª—é—á–∞–µ—Ç:
- –ê–Ω–∞–ª–∏–∑ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è
- –í–ª–∏—è–Ω–∏–µ –Ω–∞ SEO –∏ –∞–Ω–∞–ª–∏—Ç–∏–∫—É
- –ö—Ä–∏—Ç–∏—á–Ω—ã–π —á–µ–∫-–ª–∏—Å—Ç
- –ü–æ—à–∞–≥–æ–≤—ã–π –ø–ª–∞–Ω –¥–µ–π—Å—Ç–≤–∏–π
- –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é Nginx
- –í–æ–ø—Ä–æ—Å—ã –¥–ª—è —É—Ç–æ—á–Ω–µ–Ω–∏—è

–°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏:
1. –û—Ç–≤–µ—Ç–∏—Ç—å –Ω–∞ –≤–æ–ø—Ä–æ—Å—ã –≤ —Ä–∞–∑–¥–µ–ª–µ "–í–ê–ñ–ù–´–ï –í–û–ü–†–û–°–´ –î–õ–Ø –£–¢–û–ß–ù–ï–ù–ò–Ø"
2. –í—ã–±—Ä–∞—Ç—å VPS –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞
3. –°–ª–µ–¥–æ–≤–∞—Ç—å –ø–ª–∞–Ω—É –¥–µ–π—Å—Ç–≤–∏–π –ø–æ —ç—Ç–∞–ø–∞–º

–ù—É–∂–Ω–∞ –ø–æ–º–æ—â—å —Å –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–º–∏ —à–∞–≥–∞–º–∏ –∏–ª–∏ —É—Ç–æ—á–Ω–µ–Ω–∏—è–º–∏?
