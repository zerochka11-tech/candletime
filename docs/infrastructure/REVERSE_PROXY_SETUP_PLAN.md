# üîÑ –ü–ª–∞–Ω –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ Reverse-Proxy –¥–ª—è –¥–æ—Å—Ç—É–ø–∞ –∏–∑ –†–§

**–î–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è:** –Ø–Ω–≤–∞—Ä—å 2025  
**–î–∞—Ç–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è:** 19 –¥–µ–∫–∞–±—Ä—è 2025  
**–ü—Ä–æ–±–ª–µ–º–∞:** –°–µ—Ä–≤–∏—Å –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω –∏–∑ –†–§ (–±–ª–æ–∫–∏—Ä–æ–≤–∫–∞ Vercel CDN)  
**–†–µ—à–µ–Ω–∏–µ:** Reverse-proxy —á–µ—Ä–µ–∑ VPS —Å Nginx –ø–µ—Ä–µ–¥ Vercel  
**–°—Ç–∞—Ç—É—Å:** ‚úÖ –ó–∞–≤–µ—Ä—à–µ–Ω–æ

---

## üìã –¢–ï–ö–£–©–ê–Ø –ö–û–ù–§–ò–ì–£–†–ê–¶–ò–Ø

### –î–æ–º–µ–Ω –∏ DNS
- **–†–µ–≥–∏—Å—Ç—Ä–∞—Ç–æ—Ä –¥–æ–º–µ–Ω–∞:** reg.ru
- **DNS —Å–µ—Ä–≤–µ—Ä—ã:** `ns1.reg.ru` –∏ `ns2.reg.ru` (Reg.ru DNS)
- **–î–æ–º–µ–Ω:** `candletime.ru`
- **–ü–æ–¥–¥–æ–º–µ–Ω www:** ‚úÖ –ù–∞—Å—Ç—Ä–æ–µ–Ω —Ä–µ–¥–∏—Ä–µ–∫—Ç www ‚Üí –±–µ–∑ www
- **DNS –∑–∞–ø–∏—Å–∏:** A-–∑–∞–ø–∏—Å–∏ –Ω–∞ VPS (83.222.24.58)

### Vercel
- **Project URL:** `candletime-jwsncfu6r-zerochka11-techs-projects.vercel.app`
- **Dashboard:** https://vercel.com/zerochka11-techs-projects/candletime
- **–°—Ç–∞—Ç—É—Å:** –ü—Ä–æ–∫—Å–∏—Ä—É–µ—Ç—Å—è —á–µ—Ä–µ–∑ Nginx –Ω–∞ VPS

### VPS
- **–ü—Ä–æ–≤–∞–π–¥–µ—Ä:** beget.com
- **–°—Ç–∞—Ç—É—Å:** ‚úÖ –ù–∞—Å—Ç—Ä–æ–µ–Ω –∏ —Ä–∞–±–æ—Ç–∞–µ—Ç
- **IP –∞–¥—Ä–µ—Å:** `83.222.24.58`
- **–ò–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è:** `root`
- **–ü–∞—Ä–æ–ª—å:** `jxfF16gr2Mo*` (‚ö†Ô∏è –•—Ä–∞–Ω–∏—Ç—å –≤ –±–µ–∑–æ–ø–∞—Å–Ω–æ–º –º–µ—Å—Ç–µ)
- **–û–°:** Ubuntu 22.04.5 LTS
- **–¢–∞—Ä–∏—Ñ:** "Simple"
- **Nginx:** –£—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω –∏ –Ω–∞—Å—Ç—Ä–æ–µ–Ω
- **SSL:** Let's Encrypt (–∞–≤—Ç–æ–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–æ)

---

## ‚úÖ –í–´–ü–û–õ–ù–ï–ù–ù–´–ï –®–ê–ì–ò

### –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞:
- [x] –°–æ–∑–¥–∞–Ω VPS –Ω–∞ beget.com
- [x] –ó–∞–ø–∏—Å–∞–Ω IP –∞–¥—Ä–µ—Å VPS: `83.222.24.58`
- [x] –ó–∞–ø–∏—Å–∞–Ω –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å: `root`
- [x] –ó–∞–ø–∏—Å–∞–Ω –ø–∞—Ä–æ–ª—å: `jxfF16gr2Mo*`
- [x] –û–°: Ubuntu 22.04.5 LTS
- [x] –ù–∞—Å—Ç—Ä–æ–µ–Ω SSH –¥–æ—Å—Ç—É–ø
- [x] –û–±–Ω–æ–≤–ª–µ–Ω–∞ —Å–∏—Å—Ç–µ–º–∞

### –ù–∞—Å—Ç—Ä–æ–π–∫–∞ VPS:
- [x] –£—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω Nginx (–≤–µ—Ä—Å–∏—è 1.18.0)
- [x] –£—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω Certbot (–≤–µ—Ä—Å–∏—è 1.21.0)
- [x] –ù–∞—Å—Ç—Ä–æ–µ–Ω firewall (ufw) - –ø–æ—Ä—Ç—ã 22, 80, 443 –æ—Ç–∫—Ä—ã—Ç—ã
- [x] –ù–∞—Å—Ç—Ä–æ–µ–Ω—ã DNS –∑–∞–ø–∏—Å–∏ –Ω–∞ reg.ru (A-–∑–∞–ø–∏—Å—å –Ω–∞ 83.222.24.58)
- [x] –î–æ–∂–¥–∞–ª–∏—Å—å —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω–µ–Ω–∏—è DNS
- [x] –ü–æ–ª—É—á–µ–Ω SSL —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç (Let's Encrypt, –∏—Å—Ç–µ–∫–∞–µ—Ç 2026-03-19)
- [x] –°–æ–∑–¥–∞–Ω–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è Nginx
- [x] –ê–∫—Ç–∏–≤–∏—Ä–æ–≤–∞–Ω–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
- [x] –°–æ–∑–¥–∞–Ω–∞ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è –¥–ª—è –∫–µ—à–∞ (`/var/cache/nginx/static`)
- [x] –ù–∞—Å—Ç—Ä–æ–µ–Ω–æ –∞–≤—Ç–æ–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ SSL

### –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ:
- [x] –ü—Ä–æ–≤–µ—Ä–µ–Ω–∞ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å –∏–∑ –†–§
- [x] –ü—Ä–æ–≤–µ—Ä–µ–Ω—ã –∑–∞–≥–æ–ª–æ–≤–∫–∏
- [x] –ü—Ä–æ–≤–µ—Ä–µ–Ω–æ –∫–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ
- [x] –ü—Ä–æ–≤–µ—Ä–µ–Ω—ã —Ä–µ–¥–∏—Ä–µ–∫—Ç—ã (HTTP‚ÜíHTTPS, www‚Üí–±–µ–∑ www)
- [x] –ü—Ä–æ–≤–µ—Ä–µ–Ω—ã API endpoints
- [x] –ü—Ä–æ–≤–µ—Ä–µ–Ω–æ SEO (sitemap, robots.txt, canonical)
- [x] –ü—Ä–æ–≤–µ—Ä–µ–Ω–∞ –∞–Ω–∞–ª–∏—Ç–∏–∫–∞
- [x] –ü—Ä–æ–≤–µ—Ä–µ–Ω–∞ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å

### –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥:
- [x] –ù–∞—Å—Ç—Ä–æ–µ–Ω–∞ —Ä–æ—Ç–∞—Ü–∏—è –ª–æ–≥–æ–≤ (`/etc/logrotate.d/candletime`)

---

## üìä –†–ï–ó–£–õ–¨–¢–ê–¢–´

### –î–æ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏:
- ‚ùå –°–∞–π—Ç –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω –∏–∑ –†–§
- ‚ùå –°—Ç–∞—Ç–∏–∫–∞ –Ω–µ –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è
- ‚ùå –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –Ω–µ –º–æ–≥—É—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å–µ—Ä–≤–∏—Å
- ‚ùå DNS —á–µ—Ä–µ–∑ Vercel (ns1.vercel-dns.com, ns2.vercel-dns.com)

### –ü–æ—Å–ª–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏:
- ‚úÖ –°–∞–π—Ç –¥–æ—Å—Ç—É–ø–µ–Ω –∏–∑ –†–§ —á–µ—Ä–µ–∑ `https://candletime.ru`
- ‚úÖ –°—Ç–∞—Ç–∏–∫–∞ –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è –±—ã—Å—Ç—Ä–æ (–∫–µ—à –Ω–∞ VPS)
- ‚úÖ SEO –Ω–µ –ø–æ—Å—Ç—Ä–∞–¥–∞–ª–æ (—Ä–µ–¥–∏—Ä–µ–∫—Ç www ‚Üí –±–µ–∑ www —Ä–∞–±–æ—Ç–∞–µ—Ç)
- ‚úÖ –ê–Ω–∞–ª–∏—Ç–∏–∫–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
- ‚úÖ –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –º–æ–≥—É—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å–µ—Ä–≤–∏—Å
- ‚úÖ DNS —á–µ—Ä–µ–∑ reg.ru (A-–∑–∞–ø–∏—Å–∏ –Ω–∞ VPS: 83.222.24.58)
- ‚úÖ SSL —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç –æ—Ç Let's Encrypt (–∞–≤—Ç–æ–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–æ)
- ‚úÖ –ü—Ä—è–º–æ–π –¥–æ—Å—Ç—É–ø –∫ Vercel —Å–æ—Ö—Ä–∞–Ω–µ–Ω (–¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è)
- ‚úÖ –ö–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ —Å—Ç–∞—Ç–∏–∫–∏ —Ä–∞–±–æ—Ç–∞–µ—Ç (`/_next/static/*` –∫–µ—à–∏—Ä—É–µ—Ç—Å—è –Ω–∞ 30 –¥–Ω–µ–π)
- ‚úÖ –†–æ—Ç–∞—Ü–∏—è –ª–æ–≥–æ–≤ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∞ (14 –¥–Ω–µ–π —Ö—Ä–∞–Ω–µ–Ω–∏—è)

---

## üîß –§–ò–ù–ê–õ–¨–ù–ê–Ø –ö–û–ù–§–ò–ì–£–†–ê–¶–ò–Ø NGINX

**–§–∞–π–ª:** `/etc/nginx/sites-available/candletime.ru`

**–ö–ª—é—á–µ–≤—ã–µ –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏:**
- ‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω—ã–π Host –∑–∞–≥–æ–ª–æ–≤–æ–∫ (`candletime.ru`) –¥–ª—è Vercel
- ‚úÖ –ö–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ —Å—Ç–∞—Ç–∏–∫–∏ Next.js (`/_next/static/*` - 30 –¥–Ω–µ–π)
- ‚úÖ –ö–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ –¥—Ä—É–≥–∏—Ö —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏—Ö —Ä–µ—Å—É—Ä—Å–æ–≤ (7 –¥–Ω–µ–π)
- ‚úÖ –†–µ–¥–∏—Ä–µ–∫—Ç www ‚Üí –±–µ–∑ www
- ‚úÖ –†–µ–¥–∏—Ä–µ–∫—Ç HTTP ‚Üí HTTPS
- ‚úÖ Security headers –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã
- ‚úÖ –†–∞–∑—Ä–µ—à–µ–Ω –¥–æ—Å—Ç—É–ø –∫ `/.well-known/` (–¥–ª—è Let's Encrypt –∏ Vercel)

**–õ–æ–≥–∏:**
- Access log: `/var/log/nginx/candletime-access.log`
- Error log: `/var/log/nginx/candletime-error.log`
- –†–æ—Ç–∞—Ü–∏—è: –µ–∂–µ–¥–Ω–µ–≤–Ω–æ, —Ö—Ä–∞–Ω–µ–Ω–∏–µ 14 –¥–Ω–µ–π

---

## üîê –î–ê–ù–ù–´–ï –î–õ–Ø –î–û–°–¢–£–ü–ê –ö VPS

**‚ö†Ô∏è –í–ê–ñ–ù–û: –°–æ—Ö—Ä–∞–Ω–∏—Ç–µ —ç—Ç–∏ –¥–∞–Ω–Ω—ã–µ –≤ –±–µ–∑–æ–ø–∞—Å–Ω–æ–º –º–µ—Å—Ç–µ!**

- **IP –∞–¥—Ä–µ—Å:** `83.222.24.58`
- **–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å:** `root`
- **–ü–∞—Ä–æ–ª—å:** `jxfF16gr2Mo*`
- **–û–°:** Ubuntu 22.04.5 LTS
- **–ü—Ä–æ–≤–∞–π–¥–µ—Ä:** beget.com
- **–¢–∞—Ä–∏—Ñ:** "Simple"

**–ö–æ–º–∞–Ω–¥–∞ –¥–ª—è –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è:**
```bash
ssh root@83.222.24.58
```

---

## üìù –ü–û–õ–ï–ó–ù–´–ï –ö–û–ú–ê–ù–î–´

### –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥
```bash
# –ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤ –¥–æ—Å—Ç—É–ø–∞
sudo tail -f /var/log/nginx/candletime-access.log

# –ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤ –æ—à–∏–±–æ–∫
sudo tail -f /var/log/nginx/candletime-error.log

# –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞ Nginx
sudo systemctl status nginx

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
sudo nginx -t
```

### –û–±—Å–ª—É–∂–∏–≤–∞–Ω–∏–µ
```bash
# –ü–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∞ Nginx
sudo systemctl reload nginx

# –ü—Ä–æ–≤–µ—Ä–∫–∞ SSL —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–∞
sudo certbot certificates

# –¢–µ—Å—Ç –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è SSL
sudo certbot renew --dry-run
```

---

**–°—Ç–∞—Ç—É—Å:** ‚úÖ –ó–∞–≤–µ—Ä—à–µ–Ω–æ  
**–î–∞—Ç–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è:** 19 –¥–µ–∫–∞–±—Ä—è 2025  
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** üî• –ö—Ä–∏—Ç–∏—á–Ω—ã–π (–±–ª–æ–∫–∏—Ä—É–µ—Ç –¥–æ—Å—Ç—É–ø –∏–∑ –†–§) - –†–ï–®–ï–ù–û  
**–í—Ä–µ–º—è –Ω–∞ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—é:** ~6 —á–∞—Å–æ–≤  
**VPS –ø—Ä–æ–≤–∞–π–¥–µ—Ä:** beget.com  
**VPS IP:** 83.222.24.58  
**Vercel Project:** candletime-jwsncfu6r-zerochka11-techs-projects.vercel.app