# –ü–ª–∞–Ω —É–ª—É—á—à–µ–Ω–∏–π –ø—Ä–æ–µ–∫—Ç–∞ CandleTime (–û–±–Ω–æ–≤–ª–µ–Ω–Ω—ã–π)

**–î–∞—Ç–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è:** –Ø–Ω–≤–∞—Ä—å 2025  
**–í–µ—Ä—Å–∏—è –ø—Ä–æ–µ–∫—Ç–∞:** 0.1.0  
**–°—Ç–∞—Ç—É—Å:** ‚úÖ –ü—Ä–æ–µ–∫—Ç —Ä–∞–±–æ—Ç–∞–µ—Ç, —Ä–∞–∑–≤–µ—Ä–Ω—É—Ç –≤ production

---

## –û–±—â–∞—è –æ—Ü–µ–Ω–∫–∞ –ø—Ä–æ–µ–∫—Ç–∞

**–¢–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ:** ‚úÖ –ü—Ä–æ–µ–∫—Ç –≤ —Ä–∞–±–æ—á–µ–º —Å–æ—Å—Ç–æ—è–Ω–∏–∏ —Å —Ö–æ—Ä–æ—à–µ–π –±–∞–∑–æ–≤–æ–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–æ–π  
**–¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏:** Next.js 16, TypeScript, Supabase, Tailwind CSS  
**–°–∏–ª—å–Ω—ã–µ —Å—Ç–æ—Ä–æ–Ω—ã:** 
- –ß–∏—Å—Ç–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ Next.js App Router
- –•–æ—Ä–æ—à–∞—è —Ç–∏–ø–∏–∑–∞—Ü–∏—è TypeScript
- –°–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π UI —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π dark mode
- ‚úÖ –ü–æ–ª–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –∫–æ–¥–∞ (JSDoc, API docs, README)
- ‚úÖ –¶–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–µ —É—Ç–∏–ª–∏—Ç—ã –∏ –∫–æ–Ω—Å—Ç–∞–Ω—Ç—ã (—á–∞—Å—Ç–∏—á–Ω–æ)
- ‚úÖ ErrorBoundary –∫–æ–º–ø–æ–Ω–µ–Ω—Ç —Å—É—â–µ—Å—Ç–≤—É–µ—Ç
- ‚úÖ –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–µ –∏–º–ø–æ—Ä—Ç—ã –¥–ª—è –∫–∞—Ä—Ç—ã

**–û–±–ª–∞—Å—Ç–∏ –¥–ª—è —É–ª—É—á—à–µ–Ω–∏—è:** 
- –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –ë–î (–º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã)
- –î—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–æ–¥–∞ (–∫—Ä–∏—Ç–∏—á–Ω–æ)
- –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö
- –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
- –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å (–≤–∞–ª–∏–¥–∞—Ü–∏—è, rate limiting)

---

## ‚úÖ –£–∂–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ

### –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –∫–æ–¥–∞
- ‚úÖ JSDoc –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –¥–æ–±–∞–≤–ª–µ–Ω—ã –∫–æ –≤—Å–µ–º –ø—É–±–ª–∏—á–Ω—ã–º —Ñ—É–Ω–∫—Ü–∏—è–º –≤ `lib/`
- ‚úÖ –°–æ–∑–¥–∞–Ω–∞ –ø–æ–ª–Ω–∞—è API –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è (`docs/API.md`)
- ‚úÖ README –æ–±–Ω–æ–≤–ª–µ–Ω —Å –ø—Ä–∏–º–µ—Ä–∞–º–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è
- ‚úÖ –í—Å–µ —Ñ—É–Ω–∫—Ü–∏–∏ –∏–º–µ—é—Ç –ø–æ–¥—Ä–æ–±–Ω—É—é –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é —Å –ø—Ä–∏–º–µ—Ä–∞–º–∏

### –ò–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞
- ‚úÖ –§—É–Ω–∫—Ü–∏—è `cn()` –¥–ª—è –æ–±—ä–µ–¥–∏–Ω–µ–Ω–∏—è –∫–ª–∞—Å—Å–æ–≤ Tailwind (clsx + tailwind-merge)
- ‚úÖ –¶–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–µ —É—Ç–∏–ª–∏—Ç—ã –≤ `lib/utils.ts` (getCandleTypeMeta, formatDate, formatRemainingTime)
- ‚úÖ –¶–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–µ –∫–æ–Ω—Å—Ç–∞–Ω—Ç—ã –≤ `lib/constants.ts` (CANDLE_TYPES, CANDLE_TYPE_STYLES)
- ‚úÖ –¶–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–µ —Ç–∏–ø—ã –≤ `lib/types.ts`
- ‚úÖ ErrorBoundary –∫–æ–º–ø–æ–Ω–µ–Ω—Ç —Å—É—â–µ—Å—Ç–≤—É–µ—Ç (`components/ErrorBoundary.tsx`)
- ‚úÖ –¶–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ (`lib/errorHandler.ts`)
- ‚úÖ –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–µ –∏–º–ø–æ—Ä—Ç—ã –¥–ª—è –∫–∞—Ä—Ç—ã (`app/map/page.tsx`)

---

## üî¥ –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç (1-2 –Ω–µ–¥–µ–ª–∏)

### 1. –£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏—è –∫–æ–¥–∞ ‚ö†Ô∏è‚ö†Ô∏è‚ö†Ô∏è

**–ü—Ä–æ–±–ª–µ–º–∞:**
–ö–æ–Ω—Å—Ç–∞–Ω—Ç—ã –∏ —Ñ—É–Ω–∫—Ü–∏–∏ –¥—É–±–ª–∏—Ä—É—é—Ç—Å—è –≤ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö —Ñ–∞–π–ª–∞—Ö –≤–º–µ—Å—Ç–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è —Ü–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã—Ö –≤–µ—Ä—Å–∏–π:

**–î—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ CANDLE_TYPES:**
- `app/page.tsx` (—Å—Ç—Ä–æ–∫–∏ 9-15) - –ª–æ–∫–∞–ª—å–Ω–æ–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ
- `app/candles/page.tsx` (—Å—Ç—Ä–æ–∫–∏ 21-27) - –ª–æ–∫–∞–ª—å–Ω–æ–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ
- `app/light/page.tsx` (—Å—Ç—Ä–æ–∫–∏ 10-36) - –ª–æ–∫–∞–ª—å–Ω–æ–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ
- ‚úÖ `lib/constants.ts` - —Ü–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–∞—è –≤–µ—Ä—Å–∏—è —Å—É—â–µ—Å—Ç–≤—É–µ—Ç, –Ω–æ –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è

**–î—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ CANDLE_TYPE_STYLES:**
- `app/candles/page.tsx` (—Å—Ç—Ä–æ–∫–∏ 31-76) - –ª–æ–∫–∞–ª—å–Ω–æ–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –±–µ–∑ dark mode
- `app/dashboard/page.tsx` (—Å—Ç—Ä–æ–∫–∏ 20-59) - –ª–æ–∫–∞–ª—å–Ω–æ–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Å dark mode
- `app/candle/[id]/page.tsx` (—Å—Ç—Ä–æ–∫–∏ 20-59) - –ª–æ–∫–∞–ª—å–Ω–æ–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –±–µ–∑ dark mode
- ‚úÖ `lib/constants.ts` - —Ü–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–∞—è –≤–µ—Ä—Å–∏—è —Å dark mode —Å—É—â–µ—Å—Ç–≤—É–µ—Ç, –Ω–æ –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è

**–î—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ —Ñ—É–Ω–∫—Ü–∏–π:**
- `getCandleTypeMeta` - –¥—É–±–ª–∏—Ä—É–µ—Ç—Å—è –≤ 3 —Ñ–∞–π–ª–∞—Ö (candles, dashboard, candle/[id])
- `formatDate` - –¥—É–±–ª–∏—Ä—É–µ—Ç—Å—è –≤ 6 —Ñ–∞–π–ª–∞—Ö (candles, dashboard, candle/[id], faq/page, faq/[slug], profile)
- `formatRemainingTime` - –¥—É–±–ª–∏—Ä—É–µ—Ç—Å—è –≤ 2 —Ñ–∞–π–ª–∞—Ö (candles, candle/[id])
- ‚úÖ `lib/utils.ts` - —Ü–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–µ –≤–µ—Ä—Å–∏–∏ —Å—É—â–µ—Å—Ç–≤—É—é—Ç, –Ω–æ –Ω–µ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è

**–î—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ —Ç–∏–ø–æ–≤:**
- –¢–∏–ø `Candle` –æ–ø—Ä–µ–¥–µ–ª–µ–Ω –ª–æ–∫–∞–ª—å–Ω–æ –≤ 4+ —Ñ–∞–π–ª–∞—Ö —Å –Ω–µ–±–æ–ª—å—à–∏–º–∏ —Ä–∞–∑–ª–∏—á–∏—è–º–∏
- ‚úÖ `lib/types.ts` - —Ü–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–π —Ç–∏–ø —Å—É—â–µ—Å—Ç–≤—É–µ—Ç

**–î—Ä—É–≥–∏–µ –¥—É–±–ª–∏–∫–∞—Ç—ã:**
- `components/map/MapPopup.tsx` (—Å—Ç—Ä–æ–∫–∏ 12-18) - `typeLabels` –≤–º–µ—Å—Ç–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è `CANDLE_TYPES`

**–†–µ—à–µ–Ω–∏–µ:**
1. –ó–∞–º–µ–Ω–∏—Ç—å –≤—Å–µ –ª–æ–∫–∞–ª—å–Ω—ã–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –Ω–∞ –∏–º–ø–æ—Ä—Ç—ã –∏–∑ `lib/constants.ts` –∏ `lib/utils.ts`
2. –£–¥–∞–ª–∏—Ç—å –≤—Å–µ –¥—É–±–ª–∏—Ä—É—é—â–∏–µ—Å—è —Ñ—É–Ω–∫—Ü–∏–∏ –∏ –∫–æ–Ω—Å—Ç–∞–Ω—Ç—ã
3. –û–±–Ω–æ–≤–∏—Ç—å —Ç–∏–ø—ã –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è —Ü–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–æ–≥–æ `Candle` –∏–∑ `lib/types.ts`
4. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –≤—Å–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –Ω–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –¥—É–±–ª–∏—Ä—É—é—â–µ–≥–æ—Å—è –∫–æ–¥–∞

**–§–∞–π–ª—ã –¥–ª—è –∏–∑–º–µ–Ω–µ–Ω–∏—è:**
- `app/page.tsx` - –∑–∞–º–µ–Ω–∏—Ç—å CANDLE_TYPES –Ω–∞ –∏–º–ø–æ—Ä—Ç
- `app/candles/page.tsx` - –∑–∞–º–µ–Ω–∏—Ç—å CANDLE_TYPES, CANDLE_TYPE_STYLES, getCandleTypeMeta, formatDate, formatRemainingTime –Ω–∞ –∏–º–ø–æ—Ä—Ç—ã
- `app/dashboard/page.tsx` - –∑–∞–º–µ–Ω–∏—Ç—å CANDLE_TYPE_STYLES, getCandleTypeMeta, formatDate –Ω–∞ –∏–º–ø–æ—Ä—Ç—ã
- `app/candle/[id]/page.tsx` - –∑–∞–º–µ–Ω–∏—Ç—å CANDLE_TYPE_STYLES, getCandleTypeMeta, formatDate, formatRemainingTime –Ω–∞ –∏–º–ø–æ—Ä—Ç—ã
- `app/light/page.tsx` - –∑–∞–º–µ–Ω–∏—Ç—å CANDLE_TYPES –Ω–∞ –∏–º–ø–æ—Ä—Ç
- `app/faq/page.tsx` - –∑–∞–º–µ–Ω–∏—Ç—å formatDate –Ω–∞ –∏–º–ø–æ—Ä—Ç
- `app/faq/[slug]/page.tsx` - –∑–∞–º–µ–Ω–∏—Ç—å formatDate –Ω–∞ –∏–º–ø–æ—Ä—Ç
- `app/profile/page.tsx` - –∑–∞–º–µ–Ω–∏—Ç—å formatDate –Ω–∞ –∏–º–ø–æ—Ä—Ç
- `components/map/MapPopup.tsx` - –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å CANDLE_TYPES –∏–∑ lib/constants.ts

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:** 
- –£–º–µ–Ω—å—à–µ–Ω–∏–µ —Ä–∞–∑–º–µ—Ä–∞ –±–∞–Ω–¥–ª–∞ –Ω–∞ 10-15KB
- –ï–¥–∏–Ω—ã–π –∏—Å—Ç–æ—á–Ω–∏–∫ –∏—Å—Ç–∏–Ω—ã
- –£–ø—Ä–æ—â–µ–Ω–∏–µ –ø–æ–¥–¥–µ—Ä–∂–∫–∏
- –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –Ω–µ—Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–π (–Ω–∞–ø—Ä–∏–º–µ—Ä, –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–µ dark mode –≤ –Ω–µ–∫–æ—Ç–æ—Ä—ã—Ö —Å—Ç–∏–ª—è—Ö)

**–í—Ä–µ–º—è:** 3-4 —á–∞—Å–∞

---

### 2. –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö ‚ö†Ô∏è‚ö†Ô∏è

**–ü—Ä–æ–±–ª–µ–º–∞:**
- –ù–∞ –≥–ª–∞–≤–Ω–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü–µ (`app/page.tsx`) –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è 7+ –æ—Ç–¥–µ–ª—å–Ω—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤ –∫ –ë–î:
  - 1 –∑–∞–ø—Ä–æ—Å –¥–ª—è –∞–∫—Ç–∏–≤–Ω—ã—Ö —Å–≤–µ—á–µ–π (—Å—Ç—Ä–æ–∫–∞ 45-48)
  - 1 –∑–∞–ø—Ä–æ—Å –¥–ª—è —Å–≤–µ—á–µ–π —Å–µ–≥–æ–¥–Ω—è (—Å—Ç—Ä–æ–∫–∞ 57-60)
  - 5 –∑–∞–ø—Ä–æ—Å–æ–≤ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —Ç–∏–ø–∞ —Å–≤–µ—á–∏ —á–µ—Ä–µ–∑ Promise.all (—Å—Ç—Ä–æ–∫–∏ 69-80)
- –ù–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ `/candles` —Ç–∞–∫–∂–µ –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è 7+ –∑–∞–ø—Ä–æ—Å–æ–≤ –¥–ª—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ (–∞–Ω–∞–ª–æ–≥–∏—á–Ω–∞—è –ª–æ–≥–∏–∫–∞)
- –ù–µ—Ç –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö –Ω–∞ –∫–ª–∏–µ–Ω—Ç–µ
- –ù–µ—Ç —Å–µ—Ä–≤–µ—Ä–Ω–æ–≥–æ –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏—è
- –ö–∞–∂–¥—ã–π –∑–∞–ø—Ä–æ—Å –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –Ω–µ–∑–∞–≤–∏—Å–∏–º–æ

**–¢–µ–∫—É—â–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è:**
```typescript
// app/page.tsx - 7 –∑–∞–ø—Ä–æ—Å–æ–≤
const { count: active } = await supabase.from('candles').select('id', { count: 'exact', head: true }).gt('expires_at', nowIso);
const { count: today } = await supabase.from('candles').select('id', { count: 'exact', head: true }).gte('created_at', startOfTodayIso);
const typeCounts = await Promise.all(CANDLE_TYPES.map(async (t) => {
  const { count } = await supabase.from('candles').select('id', { count: 'exact', head: true }).eq('candle_type', t.id);
  return { id: t.id, count: count ?? 0 };
}));
```

**–†–µ—à–µ–Ω–∏–µ:**
1. –°–æ–∑–¥–∞—Ç—å –µ–¥–∏–Ω—É—é SQL —Ñ—É–Ω–∫—Ü–∏—é –≤ Supabase –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –≤—Å–µ–π —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ –æ–¥–Ω–∏–º –∑–∞–ø—Ä–æ—Å–æ–º
2. –°–æ–∑–¥–∞—Ç—å API endpoint `/api/stats` –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏
3. –î–æ–±–∞–≤–∏—Ç—å React Query –∏–ª–∏ SWR –¥–ª—è –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏—è –Ω–∞ –∫–ª–∏–µ–Ω—Ç–µ
4. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å Next.js `unstable_cache` –¥–ª—è —Å–µ—Ä–≤–µ—Ä–Ω–æ–≥–æ –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏—è (revalidate: 60 —Å–µ–∫—É–Ω–¥)
5. –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å –∏–Ω–¥–µ–∫—Å—ã –≤ –ë–î (–ø—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ)

**SQL —Ñ—É–Ω–∫—Ü–∏—è –¥–ª—è Supabase:**
```sql
CREATE OR REPLACE FUNCTION get_home_stats()
RETURNS JSON AS $$
DECLARE
  now_ts TIMESTAMPTZ := NOW();
  start_of_today TIMESTAMPTZ := date_trunc('day', now_ts);
  result JSON;
BEGIN
  SELECT json_build_object(
    'activeCount', (
      SELECT COUNT(*) FROM candles 
      WHERE expires_at > now_ts AND status = 'active'
    ),
    'todayCount', (
      SELECT COUNT(*) FROM candles 
      WHERE created_at >= start_of_today
    ),
    'typeCounts', (
      SELECT json_object_agg(
        COALESCE(candle_type, 'none'),
        count
      )
      FROM (
        SELECT candle_type, COUNT(*) as count
        FROM candles
        GROUP BY candle_type
      ) subq
    )
  ) INTO result;
  
  RETURN result;
END;
$$ LANGUAGE plpgsql;
```

**–§–∞–π–ª—ã –¥–ª—è –∏–∑–º–µ–Ω–µ–Ω–∏—è:**
- `app/page.tsx` - –∑–∞–º–µ–Ω–∏—Ç—å –º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã –Ω–∞ –æ–¥–∏–Ω API –≤—ã–∑–æ–≤
- `app/candles/page.tsx` - –∞–Ω–∞–ª–æ–≥–∏—á–Ω–æ –∑–∞–º–µ–Ω–∏—Ç—å –∑–∞–ø—Ä–æ—Å—ã —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏
- `app/api/stats/route.ts` - —Å–æ–∑–¥–∞—Ç—å (–Ω–æ–≤—ã–π —Ñ–∞–π–ª) –¥–ª—è –µ–¥–∏–Ω–æ–≥–æ endpoint —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏
- `lib/queries.ts` - —Å–æ–∑–¥–∞—Ç—å (–Ω–æ–≤—ã–π —Ñ–∞–π–ª) —Å —Ñ—É–Ω–∫—Ü–∏—è–º–∏ –∑–∞–ø—Ä–æ—Å–æ–≤
- `lib/hooks/useStats.ts` - —Å–æ–∑–¥–∞—Ç—å (–Ω–æ–≤—ã–π —Ñ–∞–π–ª) —Å React Query hook
- `supabase-setup.sql` - –¥–æ–±–∞–≤–∏—Ç—å —Ñ—É–Ω–∫—Ü–∏—é `get_home_stats()` –¥–ª—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏

**–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:**
- –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å `@tanstack/react-query` –∏–ª–∏ `swr`

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:** 
- –°–Ω–∏–∂–µ–Ω–∏–µ –≤—Ä–µ–º–µ–Ω–∏ –∑–∞–≥—Ä—É–∑–∫–∏ –Ω–∞ 50-70%
- –£–º–µ–Ω—å—à–µ–Ω–∏–µ –Ω–∞–≥—Ä—É–∑–∫–∏ –Ω–∞ –ë–î –Ω–∞ 80% (—Å 7+ –∑–∞–ø—Ä–æ—Å–æ–≤ –¥–æ 1)
- –£–ª—É—á—à–µ–Ω–∏–µ Core Web Vitals
- –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –Ω–∞ 60 —Å–µ–∫—É–Ω–¥

**–í—Ä–µ–º—è:** 4-5 —á–∞—Å–æ–≤

---

### 3. –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ –æ—à–∏–±–æ–∫

**–ü—Ä–æ–±–ª–µ–º–∞:**
- ErrorBoundary —Å—É—â–µ—Å—Ç–≤—É–µ—Ç, –Ω–æ –Ω–µ –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω —Å —Å–µ—Ä–≤–∏—Å–æ–º –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞
- `lib/errorHandler.ts` –∏–º–µ–µ—Ç TODO –¥–ª—è Sentry (—Å—Ç—Ä–æ–∫–∞ 43)
- –ù–µ—Ç –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è –æ—à–∏–±–æ–∫ –≤ production
- ErrorBoundary –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ `app/layout.tsx`

**–†–µ—à–µ–Ω–∏–µ:**
1. –ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞—Ç—å Sentry –¥–ª—è –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ –æ—à–∏–±–æ–∫
2. –û–±–Ω–æ–≤–∏—Ç—å `lib/errorHandler.ts` –¥–ª—è –æ—Ç–ø—Ä–∞–≤–∫–∏ –æ—à–∏–±–æ–∫ –≤ Sentry
3. –ù–∞—Å—Ç—Ä–æ–∏—Ç—å ErrorBoundary –¥–ª—è –æ—Ç–ø—Ä–∞–≤–∫–∏ React –æ—à–∏–±–æ–∫ –≤ Sentry
4. –î–æ–±–∞–≤–∏—Ç—å ErrorBoundary –≤ `app/layout.tsx`
5. –ù–∞—Å—Ç—Ä–æ–∏—Ç—å source maps –¥–ª—è –ª—É—á—à–µ–π –æ—Ç–ª–∞–¥–∫–∏

**–§–∞–π–ª—ã –¥–ª—è –∏–∑–º–µ–Ω–µ–Ω–∏—è:**
- `lib/errorHandler.ts` - –¥–æ–±–∞–≤–∏—Ç—å –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—é —Å Sentry (—É–±—Ä–∞—Ç—å TODO)
- `components/ErrorBoundary.tsx` - –¥–æ–±–∞–≤–∏—Ç—å –æ—Ç–ø—Ä–∞–≤–∫—É –≤ Sentry
- `app/layout.tsx` - –æ–±–µ—Ä–Ω—É—Ç—å children –≤ ErrorBoundary
- `next.config.ts` - –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å source maps
- `sentry.client.config.ts` - —Å–æ–∑–¥–∞—Ç—å (–Ω–æ–≤—ã–π —Ñ–∞–π–ª)
- `sentry.server.config.ts` - —Å–æ–∑–¥–∞—Ç—å (–Ω–æ–≤—ã–π —Ñ–∞–π–ª)
- `sentry.edge.config.ts` - —Å–æ–∑–¥–∞—Ç—å (–Ω–æ–≤—ã–π —Ñ–∞–π–ª)

**–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:**
- –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å `@sentry/nextjs`

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:** 
- –ü–æ–ª–Ω–∞—è –≤–∏–¥–∏–º–æ—Å—Ç—å –æ—à–∏–±–æ–∫ –≤ production
- –ë—ã—Å—Ç—Ä–∞—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ –ø—Ä–æ–±–ª–µ–º
- –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö –æ—à–∏–±–∫–∞—Ö
- –ö–æ–Ω—Ç–µ–∫—Å—Ç –æ—à–∏–±–æ–∫ (–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å, –±—Ä–∞—É–∑–µ—Ä, –¥–µ–π—Å—Ç–≤–∏—è)

**–í—Ä–µ–º—è:** 2-3 —á–∞—Å–∞

---

### 4. –í–∞–ª–∏–¥–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ

**–ü—Ä–æ–±–ª–µ–º–∞:**
- –ù–µ—Ç –≤–∞–ª–∏–¥–∞—Ü–∏–∏ –≤—Ö–æ–¥–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö –≤ API routes (—Ç–æ–ª—å–∫–æ –±–∞–∑–æ–≤–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ –Ω–∞–ª–∏—á–∏–µ –ø–æ–ª–µ–π)
- –ù–µ—Ç –∑–∞—â–∏—Ç—ã –æ—Ç –Ω–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö
- –í–∞–ª–∏–¥–∞—Ü–∏—è —Ç–æ–ª—å–∫–æ –Ω–∞ –∫–ª–∏–µ–Ω—Ç–µ (–º–æ–∂–Ω–æ –æ–±–æ–π—Ç–∏)
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ regex –¥–ª—è slug, –Ω–µ—Ç —Ç–∏–ø–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö —Å—Ö–µ–º

**–¢–µ–∫—É—â–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è:**
```typescript
// app/api/admin/articles/route.ts - —Ç–æ–ª—å–∫–æ –±–∞–∑–æ–≤–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞
if (!title || !slug || !content) {
  return NextResponse.json({ error: 'Missing required fields' }, { status: 400 });
}
const slugRegex = /^[a-z0-9-]+$/;
if (!slugRegex.test(slug)) {
  return NextResponse.json({ error: 'Invalid slug format' }, { status: 400 });
}
```

**–†–µ—à–µ–Ω–∏–µ:**
1. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∏ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å Zod
2. –°–æ–∑–¥–∞—Ç—å —Å—Ö–µ–º—ã –≤–∞–ª–∏–¥–∞—Ü–∏–∏ –¥–ª—è –≤—Å–µ—Ö API endpoints
3. –í–∞–ª–∏–¥–∏—Ä–æ–≤–∞—Ç—å –≤—Å–µ –≤—Ö–æ–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –≤ API routes
4. –°–æ–∑–¥–∞—Ç—å —Ç–∏–ø–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —Å—Ö–µ–º—ã –¥–ª—è —Ñ–æ—Ä–º –Ω–∞ –∫–ª–∏–µ–Ω—Ç–µ
5. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –µ–¥–∏–Ω—ã–µ —Å—Ö–µ–º—ã –¥–ª—è –∫–ª–∏–µ–Ω—Ç–∞ –∏ —Å–µ—Ä–≤–µ—Ä–∞

**–§–∞–π–ª—ã –¥–ª—è –∏–∑–º–µ–Ω–µ–Ω–∏—è:**
- `lib/validation.ts` - —Å–æ–∑–¥–∞—Ç—å (–Ω–æ–≤—ã–π —Ñ–∞–π–ª) —Å Zod —Å—Ö–µ–º–∞–º–∏:
  - `ArticleSchema` - –¥–ª—è —Å—Ç–∞—Ç–µ–π
  - `CandleSchema` - –¥–ª—è —Å–≤–µ—á–µ–π
  - `GeocodeQuerySchema` - –¥–ª—è –≥–µ–æ–∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏—è
  - `AdminAuthSchema` - –¥–ª—è –∞–¥–º–∏–Ω—Å–∫–∏—Ö –∑–∞–ø—Ä–æ—Å–æ–≤
- `app/api/admin/articles/route.ts` - –¥–æ–±–∞–≤–∏—Ç—å –≤–∞–ª–∏–¥–∞—Ü–∏—é —á–µ—Ä–µ–∑ Zod
- `app/api/admin/articles/[id]/route.ts` - –¥–æ–±–∞–≤–∏—Ç—å –≤–∞–ª–∏–¥–∞—Ü–∏—é
- `app/api/geocode/route.ts` - –¥–æ–±–∞–≤–∏—Ç—å –≤–∞–ª–∏–¥–∞—Ü–∏—é –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤
- `app/api/map/candles/route.ts` - –¥–æ–±–∞–≤–∏—Ç—å –≤–∞–ª–∏–¥–∞—Ü–∏—é query –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤
- `app/light/page.tsx` - –¥–æ–±–∞–≤–∏—Ç—å –≤–∞–ª–∏–¥–∞—Ü–∏—é —Ñ–æ—Ä–º—ã –Ω–∞ –∫–ª–∏–µ–Ω—Ç–µ

**–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:**
- –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å `zod`

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:** 
- –ü–æ–≤—ã—à–µ–Ω–∏–µ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏
- –ü—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏–µ –æ—à–∏–±–æ–∫ –æ—Ç –Ω–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö
- –õ—É—á—à–∏–π UX (–≤–∞–ª–∏–¥–∞—Ü–∏—è –Ω–∞ –∫–ª–∏–µ–Ω—Ç–µ –∏ —Å–µ—Ä–≤–µ—Ä–µ)
- –¢–∏–ø–æ–±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

**–í—Ä–µ–º—è:** 3-4 —á–∞—Å–∞

---

## üü° –í—ã—Å–æ–∫–∏–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç (2-4 –Ω–µ–¥–µ–ª–∏)

### 5. Rate Limiting –¥–ª—è API

**–ü—Ä–æ–±–ª–µ–º–∞:**
- –ù–µ—Ç –∑–∞—â–∏—Ç—ã –æ—Ç –∑–ª–æ—É–ø–æ—Ç—Ä–µ–±–ª–µ–Ω–∏–π
- API routes –¥–æ—Å—Ç—É–ø–Ω—ã –±–µ–∑ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–π
- –†–∏—Å–∫ DDoS –∞—Ç–∞–∫
- –ì–µ–æ–∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏–µ —á–µ—Ä–µ–∑ Nominatim –∏–º–µ–µ—Ç rate limit 1 –∑–∞–ø—Ä–æ—Å/—Å–µ–∫, –Ω–æ –Ω–µ—Ç –∑–∞—â–∏—Ç—ã –Ω–∞ –Ω–∞—à–µ–π —Å—Ç–æ—Ä–æ–Ω–µ

**–†–µ—à–µ–Ω–∏–µ:**
1. –î–æ–±–∞–≤–∏—Ç—å rate limiting —á–µ—Ä–µ–∑ Next.js middleware
2. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å in-memory –∫—ç—à –∏–ª–∏ Vercel Edge Config –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è —Å—á–µ—Ç—á–∏–∫–æ–≤
3. –ù–∞—Å—Ç—Ä–æ–∏—Ç—å —Ä–∞–∑–Ω—ã–µ –ª–∏–º–∏—Ç—ã –¥–ª—è —Ä–∞–∑–Ω—ã—Ö endpoints:
   - –ü—É–±–ª–∏—á–Ω—ã–µ endpoints: 100 –∑–∞–ø—Ä–æ—Å–æ–≤/–º–∏–Ω—É—Ç—É –Ω–∞ IP
   - –ì–µ–æ–∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏–µ: 10 –∑–∞–ø—Ä–æ—Å–æ–≤/–º–∏–Ω—É—Ç—É –Ω–∞ IP (—É—á–∏—Ç—ã–≤–∞—è –ª–∏–º–∏—Ç Nominatim)
   - –ê–¥–º–∏–Ω—Å–∫–∏–µ endpoints: 1000 –∑–∞–ø—Ä–æ—Å–æ–≤/–º–∏–Ω—É—Ç—É (—Ç–æ–ª—å–∫–æ –¥–ª—è –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã—Ö)
4. –í–æ–∑–≤—Ä–∞—â–∞—Ç—å –∑–∞–≥–æ–ª–æ–≤–∫–∏ `X-RateLimit-*` –¥–ª—è –ø—Ä–æ–∑—Ä–∞—á–Ω–æ—Å—Ç–∏

**–§–∞–π–ª—ã –¥–ª—è –∏–∑–º–µ–Ω–µ–Ω–∏—è:**
- `middleware.ts` - —Å–æ–∑–¥–∞—Ç—å (–Ω–æ–≤—ã–π —Ñ–∞–π–ª) –¥–ª—è rate limiting
- `lib/rateLimit.ts` - —Å–æ–∑–¥–∞—Ç—å (–Ω–æ–≤—ã–π —Ñ–∞–π–ª) —Å –ª–æ–≥–∏–∫–æ–π rate limiting

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:** 
- –ó–∞—â–∏—Ç–∞ –æ—Ç –∑–ª–æ—É–ø–æ—Ç—Ä–µ–±–ª–µ–Ω–∏–π
- –°—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç—å —Å–µ—Ä–≤–∏—Å–∞
- –°–æ–±–ª—é–¥–µ–Ω–∏–µ –ª–∏–º–∏—Ç–æ–≤ –≤–Ω–µ—à–Ω–∏—Ö API (Nominatim)

**–í—Ä–µ–º—è:** 3-4 —á–∞—Å–∞

---

### 6. –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

**–ü—Ä–æ–±–ª–µ–º–∞:**
- –ù–µ—Ç —Ç–µ—Å—Ç–æ–≤ –≤ –ø—Ä–æ–µ–∫—Ç–µ (0 —Ç–µ—Å—Ç–æ–≤—ã—Ö —Ñ–∞–π–ª–æ–≤)
- –ù–µ—Ç –ø–æ–∫—Ä—ã—Ç–∏—è –∫–æ–¥–∞
- –†–∏—Å–∫ —Ä–µ–≥—Ä–µ—Å—Å–∏–π –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏—è—Ö
- –ù–µ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π –ø—Ä–æ–≤–µ—Ä–∫–∏ —Ä–∞–±–æ—Ç–æ—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏

**–†–µ—à–µ–Ω–∏–µ:**
1. –ù–∞—Å—Ç—Ä–æ–∏—Ç—å Jest + React Testing Library
2. –î–æ–±–∞–≤–∏—Ç—å unit —Ç–µ—Å—Ç—ã –¥–ª—è —É—Ç–∏–ª–∏—Ç (`lib/utils.ts`, `lib/seo.ts`, `lib/validation.ts`)
3. –î–æ–±–∞–≤–∏—Ç—å integration —Ç–µ—Å—Ç—ã –¥–ª—è API routes
4. –î–æ–±–∞–≤–∏—Ç—å E2E —Ç–µ—Å—Ç—ã –¥–ª—è –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö –ø—É—Ç–µ–π (Playwright):
   - –°–æ–∑–¥–∞–Ω–∏–µ —Å–≤–µ—á–∏
   - –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è
   - –ü—Ä–æ—Å–º–æ—Ç—Ä —Å–≤–µ—á–µ–π
   - –ê–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å

**–§–∞–π–ª—ã –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è:**
- `jest.config.js` - –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è Jest
- `jest.setup.js` - –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ —Ç–µ—Å—Ç–æ–≤–æ–≥–æ –æ–∫—Ä—É–∂–µ–Ω–∏—è
- `__tests__/lib/utils.test.ts` - —Ç–µ—Å—Ç—ã —É—Ç–∏–ª–∏—Ç
- `__tests__/lib/seo.test.ts` - —Ç–µ—Å—Ç—ã SEO —Ñ—É–Ω–∫—Ü–∏–π
- `__tests__/lib/validation.test.ts` - —Ç–µ—Å—Ç—ã –≤–∞–ª–∏–¥–∞—Ü–∏–∏
- `__tests__/api/geocode.test.ts` - —Ç–µ—Å—Ç—ã API
- `tests/e2e/create-candle.spec.ts` - E2E —Ç–µ—Å—Ç —Å–æ–∑–¥–∞–Ω–∏—è —Å–≤–µ—á–∏
- `tests/e2e/auth.spec.ts` - E2E —Ç–µ—Å—Ç –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏
- `playwright.config.ts` - –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è Playwright

**–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:**
- –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å `jest`, `@testing-library/react`, `@testing-library/jest-dom`, `playwright`, `@playwright/test`

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:** 
- –ü–æ–∫—Ä—ã—Ç–∏–µ —Ç–µ—Å—Ç–∞–º–∏ > 70%
- –£–≤–µ—Ä–µ–Ω–Ω–æ—Å—Ç—å –≤ –∏–∑–º–µ–Ω–µ–Ω–∏—è—Ö
- –ü—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏–µ –±–∞–≥–æ–≤
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –≤ CI/CD

**–í—Ä–µ–º—è:** 8-10 —á–∞—Å–æ–≤

---

### 7. –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è Bundle Size

**–ü—Ä–æ–±–ª–µ–º–∞:**
- –ù–µ—Ç –∞–Ω–∞–ª–∏–∑–∞ —Ä–∞–∑–º–µ—Ä–∞ –±–∞–Ω–¥–ª–∞
- Framer Motion –∏ GSAP —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã, –Ω–æ –Ω–µ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –∞–∫—Ç–∏–≤–Ω–æ (—Ç–æ–ª—å–∫–æ –≤ –ø–ª–∞–Ω–∞—Ö)
- –í—Å–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è —Å—Ä–∞–∑—É (–∫—Ä–æ–º–µ –∫–∞—Ä—Ç—ã)
- –ù–µ—Ç code splitting –¥–ª—è –±–æ–ª—å—à–∏—Ö —Å—Ç—Ä–∞–Ω–∏—Ü
- –ê–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è –≤—Å–µ–≥–¥–∞, –¥–∞–∂–µ –¥–ª—è –æ–±—ã—á–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π

**–†–µ—à–µ–Ω–∏–µ:**
1. –î–æ–±–∞–≤–∏—Ç—å `@next/bundle-analyzer` –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞
2. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `next/dynamic` –¥–ª—è –ª–µ–Ω–∏–≤–æ–π –∑–∞–≥—Ä—É–∑–∫–∏:
   - –ê–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å (—Ç–æ–ª—å–∫–æ –¥–ª—è –∞–¥–º–∏–Ω–æ–≤)
   - –¢—è–∂–µ–ª—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã (MarkdownEditor, WorldMap —É–∂–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç)
   - –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –∞–Ω–∞–ª–∏—Ç–∏–∫–∏ (—É–∂–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è Analytics)
3. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ Framer Motion –∏ GSAP:
   - –ï—Å–ª–∏ –Ω–µ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è - —É–¥–∞–ª–∏—Ç—å –∏–∑ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
   - –ï—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –º–∏–Ω–∏–º–∞–ª—å–Ω–æ - –∑–∞–º–µ–Ω–∏—Ç—å –Ω–∞ –±–æ–ª–µ–µ –ª–µ–≥–∫–∏–µ –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤—ã
4. –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å –∏–º–ø–æ—Ä—Ç—ã –±–∏–±–ª–∏–æ—Ç–µ–∫ (tree-shaking)

**–§–∞–π–ª—ã –¥–ª—è –∏–∑–º–µ–Ω–µ–Ω–∏—è:**
- `next.config.ts` - –¥–æ–±–∞–≤–∏—Ç—å bundle analyzer
- `app/admin/**/*.tsx` - –¥–æ–±–∞–≤–∏—Ç—å dynamic imports –¥–ª—è –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª–∏
- `components/admin/MarkdownEditor.tsx` - –ø—Ä–æ–≤–µ—Ä–∏—Ç—å, –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –ª–∏ dynamic import
- `package.json` - —É–¥–∞–ª–∏—Ç—å –Ω–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ (–µ—Å–ª–∏ –µ—Å—Ç—å)

**–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:**
- –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å `@next/bundle-analyzer` (dev)

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:** 
- –£–º–µ–Ω—å—à–µ–Ω–∏–µ –≤—Ä–µ–º–µ–Ω–∏ –∑–∞–≥—Ä—É–∑–∫–∏ –Ω–∞ 30-50%
- –£–ª—É—á—à–µ–Ω–∏–µ Core Web Vitals
- –£–º–µ–Ω—å—à–µ–Ω–∏–µ —Ä–∞–∑–º–µ—Ä–∞ –±–∞–Ω–¥–ª–∞ –Ω–∞ 20-30%
- –õ–µ–Ω–∏–≤–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª–∏

**–í—Ä–µ–º—è:** 2-3 —á–∞—Å–∞

---

### 8. –£–ª—É—á—à–µ–Ω–∏–µ SEO (–ß–∞—Å—Ç–∏—á–Ω–æ –≤—ã–ø–æ–ª–Ω–µ–Ω–æ)

**–¢–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ:**
- ‚úÖ –í—Å–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã –∏–º–µ—é—Ç –º–µ—Ç–∞-—Ç–µ–≥–∏
- ‚úÖ –°—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ (9 —Ç–∏–ø–æ–≤ Schema.org)
- ‚úÖ –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–µ OG –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è
- ‚úÖ Sitemap.xml –∏ robots.txt
- ‚ö†Ô∏è –ú–æ–∂–Ω–æ —É–ª—É—á—à–∏—Ç—å –Ω–µ–∫–æ—Ç–æ—Ä—ã–µ —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ

**–£–ª—É—á—à–µ–Ω–∏—è:**
1. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –≤—Å–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã –Ω–∞ –Ω–∞–ª–∏—á–∏–µ –º–µ—Ç–∞-—Ç–µ–≥–æ–≤
2. –£–ª—É—á—à–∏—Ç—å —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ (–¥–æ–±–∞–≤–∏—Ç—å –±–æ–ª—å—à–µ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞)
3. –î–æ–±–∞–≤–∏—Ç—å canonical URLs –≤–µ–∑–¥–µ (–ø—Ä–æ–≤–µ—Ä–∏—Ç—å)
4. –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å –∑–∞–≥–æ–ª–æ–≤–∫–∏ H1-H6

**–§–∞–π–ª—ã –¥–ª—è –∏–∑–º–µ–Ω–µ–Ω–∏—è:**
- `lib/seo.ts` - —Ä–∞—Å—à–∏—Ä–∏—Ç—å —Ñ—É–Ω–∫—Ü–∏–∏ (–µ—Å–ª–∏ –Ω—É–∂–Ω–æ)
- –í—Å–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã - –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –º–µ—Ç–∞-—Ç–µ–≥–∏

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:** 
- –£–ª—É—á—à–µ–Ω–∏–µ —Ä–∞–Ω–∂–∏—Ä–æ–≤–∞–Ω–∏—è –≤ –ø–æ–∏—Å–∫–æ–≤—ã—Ö —Å–∏—Å—Ç–µ–º–∞—Ö
- –õ—É—á—à–∏–µ —Å–Ω–∏–ø–ø–µ—Ç—ã –≤ –ø–æ–∏—Å–∫–µ

**–í—Ä–µ–º—è:** 1-2 —á–∞—Å–∞

---

## üü¢ –°—Ä–µ–¥–Ω–∏–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç (1-2 –º–µ—Å—è—Ü–∞)

### 9. –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏ –∞–Ω–∞–ª–∏—Ç–∏–∫–∞

**–ü—Ä–æ–±–ª–µ–º–∞:**
- –ù–µ—Ç –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ –æ—à–∏–±–æ–∫ –≤ production (–±—É–¥–µ—Ç —Ä–µ—à–µ–Ω–æ –≤ –ø—É–Ω–∫—Ç–µ 3)
- –ù–µ—Ç –º–µ—Ç—Ä–∏–∫ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
- Google Analytics –∏ Yandex Metrika –µ—Å—Ç—å, –Ω–æ –º–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å –±–æ–ª—å—à–µ —Å–æ–±—ã—Ç–∏–π

**–†–µ—à–µ–Ω–∏–µ:**
1. –ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞—Ç—å Sentry (–±—É–¥–µ—Ç –≤ –ø—É–Ω–∫—Ç–µ 3)
2. –î–æ–±–∞–≤–∏—Ç—å Vercel Analytics –¥–ª—è –º–µ—Ç—Ä–∏–∫ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
3. –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏—Ö –¥–µ–π—Å—Ç–≤–∏–π (—É–ª—É—á—à–∏—Ç—å —Å—É—â–µ—Å—Ç–≤—É—é—â—É—é –∞–Ω–∞–ª–∏—Ç–∏–∫—É)
4. –î–æ–±–∞–≤–∏—Ç—å –º–µ—Ç—Ä–∏–∫–∏ –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∏ (—Å–æ–∑–¥–∞–Ω–∏–µ —Å–≤–µ—á–µ–π, –ø—Ä–æ—Å–º–æ—Ç—Ä—ã –∏ —Ç.–¥.)

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:** 
- –õ—É—á—à–µ–µ –ø–æ–Ω–∏–º–∞–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º
- –£–ª—É—á—à–µ–Ω–∏–µ UX –Ω–∞ –æ—Å–Ω–æ–≤–µ –¥–∞–Ω–Ω—ã—Ö
- –ú–µ—Ç—Ä–∏–∫–∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏

**–í—Ä–µ–º—è:** 2-3 —á–∞—Å–∞

---

### 10. PWA —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å

**–ü—Ä–æ–±–ª–µ–º–∞:**
- –ù–µ—Ç –æ—Ñ–ª–∞–π–Ω-—Ä–µ–∂–∏–º–∞
- –ù–µ—Ç –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∫–∞–∫ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
- –ù–µ—Ç push-—É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π

**–†–µ—à–µ–Ω–∏–µ:**
1. –î–æ–±–∞–≤–∏—Ç—å Service Worker
2. –°–æ–∑–¥–∞—Ç—å manifest.json
3. –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ—Å—É—Ä—Å–æ–≤
4. –î–æ–±–∞–≤–∏—Ç—å –∏–∫–æ–Ω–∫–∏ –¥–ª—è —Ä–∞–∑–Ω—ã—Ö —Ä–∞–∑–º–µ—Ä–æ–≤

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:** 
- –£–ª—É—á—à–µ–Ω–Ω—ã–π –º–æ–±–∏–ª—å–Ω—ã–π –æ–ø—ã—Ç
- –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å —É—Å—Ç–∞–Ω–æ–≤–∫–∏ –∫–∞–∫ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
- –†–∞–±–æ—Ç–∞ –≤ –æ—Ñ–ª–∞–π–Ω-—Ä–µ–∂–∏–º–µ (–±–∞–∑–æ–≤—ã–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª)

**–í—Ä–µ–º—è:** 4-6 —á–∞—Å–æ–≤

---

### 11. –£–ª—É—á—à–µ–Ω–∏–µ UX

**–ü—Ä–æ–±–ª–µ–º–∞:**
- –ù–µ—Ç skeleton loaders –¥–ª—è –≤—Å–µ—Ö —Å–ø–∏—Å–∫–æ–≤ (–µ—Å—Ç—å CandleSkeleton, –Ω–æ –Ω–µ –≤–µ–∑–¥–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è)
- –ù–µ—Ç –æ–ø—Ç–∏–º–∏—Å—Ç–∏—á–Ω—ã—Ö –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π
- –ú–æ–∂–Ω–æ —É–ª—É—á—à–∏—Ç—å empty states

**–†–µ—à–µ–Ω–∏–µ:**
1. –î–æ–±–∞–≤–∏—Ç—å skeleton loaders –¥–ª—è –≤—Å–µ—Ö —Å–ø–∏—Å–∫–æ–≤
2. –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –æ–ø—Ç–∏–º–∏—Å—Ç–∏—á–Ω—ã–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è (–ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏/—É–¥–∞–ª–µ–Ω–∏–∏ —Å–≤–µ—á–µ–π)
3. –£–ª—É—á—à–∏—Ç—å —Å–æ–æ–±—â–µ–Ω–∏—è –¥–ª—è –ø—É—Å—Ç—ã—Ö —Å–æ—Å—Ç–æ—è–Ω–∏–π
4. –î–æ–±–∞–≤–∏—Ç—å loading states –¥–ª—è –≤—Å–µ—Ö –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:** 
- –ë–æ–ª–µ–µ –æ—Ç–∑—ã–≤—á–∏–≤—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
- –õ—É—á—à–µ–µ –≤–æ—Å–ø—Ä–∏—è—Ç–∏–µ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
- –£–ª—É—á—à–µ–Ω–Ω—ã–π UX

**–í—Ä–µ–º—è:** 3-4 —á–∞—Å–∞

---

### 12. –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –∫–æ–¥–∞ ‚úÖ –í–´–ü–û–õ–ù–ï–ù–û

- ‚úÖ JSDoc –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –¥–æ–±–∞–≤–ª–µ–Ω—ã
- ‚úÖ API –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è —Å–æ–∑–¥–∞–Ω–∞
- ‚úÖ README –æ–±–Ω–æ–≤–ª–µ–Ω

---

## üîµ –ù–∏–∑–∫–∏–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç (2-3 –º–µ—Å—è—Ü–∞)

### 13. –ù–æ–≤—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏

- –ü–æ–¥–∞—Ä–æ—á–Ω—ã–µ —Å–≤–µ—á–∏ (—É–∂–µ –µ—Å—Ç—å –ø–ª–∞–Ω –≤ `GIFTED_CANDLES_IMPLEMENTATION.md`)
- –ì–µ–æ–≥—Ä–∞—Ñ–∏—á–µ—Å–∫–∏–µ –∫–æ–ª–ª–µ–∫—Ü–∏–∏ (—É–∂–µ –µ—Å—Ç—å –ø–ª–∞–Ω –≤ `GEOGRAPHIC_COLLECTIONS_IMPLEMENTATION.md`)
- Telegram –±–æ—Ç (—É–∂–µ –µ—Å—Ç—å –ø–ª–∞–Ω –≤ `TELEGRAM_BOT_IMPLEMENTATION_PLAN.md`)
- –ö–∞–ª–µ–Ω–¥–∞—Ä—å –Ω–∞–º–µ—Ä–µ–Ω–∏–π
- –†–∞—Å—à–∏—Ä–µ–Ω–Ω–∞—è –∞–Ω–∞–ª–∏—Ç–∏–∫–∞ –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- –ü–æ–∏—Å–∫ –ø–æ —Å–≤–µ—á–∞–º

---

### 14. –†–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ –∏ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è

- –†–∞–∑–¥–µ–ª–∏—Ç—å –±–æ–ª—å—à–∏–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã (–Ω–∞–ø—Ä–∏–º–µ—Ä, `app/light/page.tsx` - 1095 —Å—Ç—Ä–æ–∫)
- –°–æ–∑–¥–∞—Ç—å –ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ —Ö—É–∫–∏ –¥–ª—è –æ–±—â–∏—Ö –ø–∞—Ç—Ç–µ—Ä–Ω–æ–≤
- –£–ª—É—á—à–∏—Ç—å —Å—Ç—Ä—É–∫—Ç—É—Ä—É –ø–∞–ø–æ–∫ (–≤–æ–∑–º–æ–∂–Ω–æ, –≥—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∞ –ø–æ —Ñ–∏—á–∞–º)
- –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å –ø–æ–≤—Ç–æ—Ä—è—é—â–∏–π—Å—è –∫–æ–¥
- –î–æ–±–∞–≤–∏—Ç—å –±–æ–ª—å—à–µ TypeScript strict checks
- –£–¥–∞–ª–∏—Ç—å –Ω–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ (Framer Motion, GSAP - –µ—Å–ª–∏ –Ω–µ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è)

---

## üìä –ú–µ—Ç—Ä–∏–∫–∏ —É—Å–ø–µ—Ö–∞

### –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å
- –í—Ä–µ–º—è –∑–∞–≥—Ä—É–∑–∫–∏ –≥–ª–∞–≤–Ω–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü—ã: < 1 —Å–µ–∫—É–Ω–¥–∞ (—Å–µ–π—á–∞—Å ~2-3 —Å–µ–∫—É–Ω–¥—ã)
- First Contentful Paint: < 1.5 —Å–µ–∫—É–Ω–¥—ã
- Time to Interactive: < 3 —Å–µ–∫—É–Ω–¥—ã
- Bundle size: < 200KB (gzipped)
- –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –∑–∞–ø—Ä–æ—Å–æ–≤ –∫ –ë–î –Ω–∞ –≥–ª–∞–≤–Ω–æ–π: 1 –≤–º–µ—Å—Ç–æ 7+

### –ö–∞—á–µ—Å—Ç–≤–æ –∫–æ–¥–∞
- –ü–æ–∫—Ä—ã—Ç–∏–µ —Ç–µ—Å—Ç–∞–º–∏: > 70%
- ESLint –æ—à–∏–±–∫–∏: 0
- TypeScript –æ—à–∏–±–∫–∏: 0
- –î—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–æ–¥–∞: 0 (–≤—Å–µ —á–µ—Ä–µ–∑ –∏–º–ø–æ—Ä—Ç—ã)

### –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å
- –í—Å–µ API routes –∑–∞—â–∏—â–µ–Ω—ã rate limiting
- –í—Å–µ –≤—Ö–æ–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –≤–∞–ª–∏–¥–∏—Ä—É—é—Ç—Å—è —á–µ—Ä–µ–∑ Zod
- –ù–µ—Ç —É—è–∑–≤–∏–º–æ—Å—Ç–µ–π –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—è—Ö
- –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –æ—à–∏–±–æ–∫ –≤ production

---

## üöÄ –ü–ª–∞–Ω –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è

### –ù–µ–¥–µ–ª—è 1: –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ —É–ª—É—á—à–µ–Ω–∏—è
1. ‚úÖ –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –∫–æ–¥–∞ (–í–´–ü–û–õ–ù–ï–ù–û)
2. –£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏—è –∫–æ–¥–∞ (3-4 —á–∞—Å–∞)
3. –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ –ë–î (4-5 —á–∞—Å–æ–≤)
4. –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ –æ—à–∏–±–æ–∫ (2-3 —á–∞—Å–∞)
5. –í–∞–ª–∏–¥–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö (3-4 —á–∞—Å–∞)

**–ò—Ç–æ–≥–æ:** ~13-16 —á–∞—Å–æ–≤ —Ä–∞–±–æ—Ç—ã

### –ù–µ–¥–µ–ª—è 2-3: –í—ã—Å–æ–∫–∏–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç
6. Rate Limiting (3-4 —á–∞—Å–∞)
7. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è (8-10 —á–∞—Å–æ–≤)
8. –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è Bundle Size (2-3 —á–∞—Å–∞)
9. –£–ª—É—á—à–µ–Ω–∏–µ SEO (1-2 —á–∞—Å–∞)

**–ò—Ç–æ–≥–æ:** ~14-19 —á–∞—Å–æ–≤ —Ä–∞–±–æ—Ç—ã

### –ú–µ—Å—è—Ü 2: –°—Ä–µ–¥–Ω–∏–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç
10. –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏ –∞–Ω–∞–ª–∏—Ç–∏–∫–∞ (2-3 —á–∞—Å–∞)
11. PWA —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å (4-6 —á–∞—Å–æ–≤)
12. UX —É–ª—É—á—à–µ–Ω–∏—è (3-4 —á–∞—Å–∞)

**–ò—Ç–æ–≥–æ:** ~9-13 —á–∞—Å–æ–≤ —Ä–∞–±–æ—Ç—ã

### –ú–µ—Å—è—Ü 3+: –ù–∏–∑–∫–∏–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç
13. –ù–æ–≤—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏
14. –†–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥

---

## üìù –ü—Ä–∏–æ—Ä–∏—Ç–∏–∑–∞—Ü–∏—è –∑–∞–¥–∞—á

### –°–¥–µ–ª–∞—Ç—å –Ω–µ–º–µ–¥–ª–µ–Ω–Ω–æ (—ç—Ç–∞ –Ω–µ–¥–µ–ª—è):
1. –£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏—è –∫–æ–¥–∞ - –∫—Ä–∏—Ç–∏—á–Ω–æ –¥–ª—è –ø–æ–¥–¥–µ—Ä–∂–∫–∏
2. –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ –ë–î - –≤–ª–∏—è–µ—Ç –Ω–∞ UX –≤—Å–µ—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
3. –í–∞–ª–∏–¥–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö - –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

### –°–¥–µ–ª–∞—Ç—å –≤ —Ç–µ—á–µ–Ω–∏–µ –º–µ—Å—è—Ü–∞:
4. –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ - –≤–∞–∂–Ω–æ –¥–ª—è production
5. Rate Limiting - –∑–∞—â–∏—Ç–∞ –æ—Ç –∑–ª–æ—É–ø–æ—Ç—Ä–µ–±–ª–µ–Ω–∏–π
6. –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ - –∫–∞—á–µ—Å—Ç–≤–æ –∫–æ–¥–∞

### –°–¥–µ–ª–∞—Ç—å –∫–æ–≥–¥–∞ –±—É–¥–µ—Ç –≤—Ä–µ–º—è:
7. PWA
8. –ù–æ–≤—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏
9. –†–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥

---

## üîç –î–µ—Ç–∞–ª—å–Ω—ã–π –∞–Ω–∞–ª–∏–∑ –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏—è

### –§–∞–π–ª—ã —Å –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ–º CANDLE_TYPES:
1. `app/page.tsx` - —Å—Ç—Ä–æ–∫–∏ 9-15
2. `app/candles/page.tsx` - —Å—Ç—Ä–æ–∫–∏ 21-27
3. `app/light/page.tsx` - —Å—Ç—Ä–æ–∫–∏ 10-36

### –§–∞–π–ª—ã —Å –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ–º CANDLE_TYPE_STYLES:
1. `app/candles/page.tsx` - —Å—Ç—Ä–æ–∫–∏ 31-76 (–±–µ–∑ dark mode)
2. `app/dashboard/page.tsx` - —Å—Ç—Ä–æ–∫–∏ 20-59 (—Å dark mode)
3. `app/candle/[id]/page.tsx` - —Å—Ç—Ä–æ–∫–∏ 20-59 (–±–µ–∑ dark mode)

### –§–∞–π–ª—ã —Å –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ–º getCandleTypeMeta:
1. `app/candles/page.tsx` - —Å—Ç—Ä–æ–∫–∏ 78-89
2. `app/dashboard/page.tsx` - —Å—Ç—Ä–æ–∫–∏ 61-72
3. `app/candle/[id]/page.tsx` - —Å—Ç—Ä–æ–∫–∏ 61-72

### –§–∞–π–ª—ã —Å –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ–º formatDate:
1. `app/candles/page.tsx` - —Å—Ç—Ä–æ–∫–∏ 114-122
2. `app/dashboard/page.tsx` - —Å—Ç—Ä–æ–∫–∏ 75-83
3. `app/candle/[id]/page.tsx` - —Å—Ç—Ä–æ–∫–∏ 74-82
4. `app/faq/page.tsx` - —Å—Ç—Ä–æ–∫–∏ 326-332
5. `app/faq/[slug]/page.tsx` - —Å—Ç—Ä–æ–∫–∏ 254-260
6. `app/profile/page.tsx` - —Å—Ç—Ä–æ–∫–∏ 143-149

### –§–∞–π–ª—ã —Å –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ–º formatRemainingTime:
1. `app/candles/page.tsx` - —Å—Ç—Ä–æ–∫–∏ 91-111 (–Ω–∞–∑—ã–≤–∞–µ—Ç—Å—è formatRemainingText)
2. `app/candle/[id]/page.tsx` - —Å—Ç—Ä–æ–∫–∏ 94-110 (–Ω–∞–∑—ã–≤–∞–µ—Ç—Å—è formatRemainingText)

### –§–∞–π–ª—ã —Å –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ–º —Ç–∏–ø–∞ Candle:
1. `app/candles/page.tsx` - —Å—Ç—Ä–æ–∫–∏ 10-18
2. `app/dashboard/page.tsx` - —Å—Ç—Ä–æ–∫–∏ 10-18
3. `app/candle/[id]/page.tsx` - —Å—Ç—Ä–æ–∫–∏ 9-18
4. `components/map/MapPopup.tsx` - —Å—Ç—Ä–æ–∫–∏ 3-9

---

## üí° –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –Ω–∞—Ö–æ–¥–∫–∏

### –ù–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:
- `framer-motion` - —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω, –Ω–æ –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –∞–∫—Ç–∏–≤–Ω–æ (—Ç–æ–ª—å–∫–æ –≤ –ø–ª–∞–Ω–∞—Ö)
- `gsap` - —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω, –Ω–æ –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –∞–∫—Ç–∏–≤–Ω–æ (—Ç–æ–ª—å–∫–æ –≤ –ø–ª–∞–Ω–∞—Ö)
- –°—Ç–æ–∏—Ç –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –∏ —É–¥–∞–ª–∏—Ç—å, –µ—Å–ª–∏ –Ω–µ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è

### –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏:
- –ö–∞—Ä—Ç–∞ —É–∂–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç dynamic import ‚úÖ
- Analytics –∏ CookieConsent —É–∂–µ –∏—Å–ø–æ–ª—å–∑—É—é—Ç lazy loading ‚úÖ
- –ú–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å dynamic import –¥–ª—è –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª–∏
- –ú–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å dynamic import –¥–ª—è MarkdownEditor

### –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å:
- RLS –ø–æ–ª–∏—Ç–∏–∫–∏ –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã –ø—Ä–∞–≤–∏–ª—å–Ω–æ ‚úÖ
- –ù–µ—Ç –≤–∞–ª–∏–¥–∞—Ü–∏–∏ –≤—Ö–æ–¥–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö ‚ùå
- –ù–µ—Ç rate limiting ‚ùå
- –ù–µ—Ç CSRF –∑–∞—â–∏—Ç—ã (–º–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å)

---

## üìà –û–∂–∏–¥–∞–µ–º—ã–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –ø–æ—Å–ª–µ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏

### –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å:
- ‚ö° –í—Ä–µ–º—è –∑–∞–≥—Ä—É–∑–∫–∏ –≥–ª–∞–≤–Ω–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü—ã: —Å ~2-3 —Å–µ–∫ –¥–æ < 1 —Å–µ–∫
- üìä –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –∑–∞–ø—Ä–æ—Å–æ–≤ –∫ –ë–î: —Å 7+ –¥–æ 1
- üíæ –†–∞–∑–º–µ—Ä –±–∞–Ω–¥–ª–∞: —É–º–µ–Ω—å—à–µ–Ω–∏–µ –Ω–∞ 20-30%
- üöÄ Core Web Vitals: —É–ª—É—á—à–µ–Ω–∏–µ –Ω–∞ 30-50%

### –ö–∞—á–µ—Å—Ç–≤–æ –∫–æ–¥–∞:
- üìù –î—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–æ–¥–∞: —Å ~15 –¥—É–±–ª–∏–∫–∞—Ç–æ–≤ –¥–æ 0
- üß™ –ü–æ–∫—Ä—ã—Ç–∏–µ —Ç–µ—Å—Ç–∞–º–∏: —Å 0% –¥–æ > 70%
- üîí –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å: –≤—Å–µ –¥–∞–Ω–Ω—ã–µ –≤–∞–ª–∏–¥–∏—Ä—É—é—Ç—Å—è
- üìä –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥: –ø–æ–ª–Ω–∞—è –≤–∏–¥–∏–º–æ—Å—Ç—å –æ—à–∏–±–æ–∫

### –ü–æ–¥–¥–µ—Ä–∂–∫–∞:
- üìö –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è: –ø–æ–ª–Ω–∞—è (‚úÖ –≤—ã–ø–æ–ª–Ω–µ–Ω–æ)
- üîç –û—Ç–ª–∞–¥–∫–∞: –±—ã—Å—Ç—Ä–∞—è —á–µ—Ä–µ–∑ Sentry
- üõ†Ô∏è –†–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥: —É–ø—Ä–æ—â–µ–Ω –±–ª–∞–≥–æ–¥–∞—Ä—è —Ü–µ–Ω—Ç—Ä–∞–ª–∏–∑–∞—Ü–∏–∏

---

## üéØ –ò—Ç–æ–≥–æ–≤—ã–µ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏

**–ù–∞—á–∞—Ç—å —Å:**
1. –£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏—è –∫–æ–¥–∞ (–±—ã—Å—Ç—Ä–æ, –±–æ–ª—å—à–æ–π —ç—Ñ—Ñ–µ–∫—Ç)
2. –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ –ë–î (–∫—Ä–∏—Ç–∏—á–Ω–æ –¥–ª—è UX)
3. –í–∞–ª–∏–¥–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö (–±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å)

**–ó–∞—Ç–µ–º:**
4. –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –æ—à–∏–±–æ–∫
5. Rate Limiting
6. –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

**–í –ø–æ—Å–ª–µ–¥–Ω—é—é –æ—á–µ—Ä–µ–¥—å:**
7. PWA
8. –ù–æ–≤—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏
9. –†–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ –±–æ–ª—å—à–∏—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤

