# üîß –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è —Å—Ç–∞—Ç–µ–π

## üìã –ü—Ä–æ–±–ª–µ–º—ã, –∫–æ—Ç–æ—Ä—ã–µ –±—ã–ª–∏ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω—ã

### 1. ‚ùå –ü—Ä–æ–±–ª–µ–º–∞: Excerpt —Å–æ–¥–µ—Ä–∂–∞–ª "```markdown"
**–ü—Ä–∏—á–∏–Ω–∞:** 
- Gemini –∏–Ω–æ–≥–¥–∞ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –∫–æ–Ω—Ç–µ–Ω—Ç –≤ —Ñ–æ—Ä–º–∞—Ç–µ markdown –∫–æ–¥ –±–ª–æ–∫–æ–≤
- –§—É–Ω–∫—Ü–∏—è `generateExcerpt` –Ω–µ —É–¥–∞–ª—è–ª–∞ –∫–æ–¥ –±–ª–æ–∫–∏ –∏–∑ –∫–æ–Ω—Ç–µ–Ω—Ç–∞

**–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ:**
- ‚úÖ –£–ª—É—á—à–µ–Ω–∞ —Ñ—É–Ω–∫—Ü–∏—è `generateExcerpt` –≤ `lib/gemini.ts`
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–æ —É–¥–∞–ª–µ–Ω–∏–µ markdown –∫–æ–¥ –±–ª–æ–∫–æ–≤ (```markdown ... ```)
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–∞ –æ—á–∏—Å—Ç–∫–∞ excerpt –ø—Ä–∏ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–∏ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ

### 2. ‚ùå –ü—Ä–æ–±–ª–µ–º–∞: –ö–æ–Ω—Ç–µ–Ω—Ç –Ω–µ –æ—Ç–æ–±—Ä–∞–∂–∞–ª—Å—è (—Ç–µ–º–Ω—ã–π –±–ª–æ–∫)
**–ü—Ä–∏—á–∏–Ω–∞:**
- –ö–æ–Ω—Ç–µ–Ω—Ç –º–æ–≥ —Å–æ–¥–µ—Ä–∂–∞—Ç—å markdown –∫–æ–¥ –±–ª–æ–∫–∏ –≤ –Ω–∞—á–∞–ª–µ
- ReactMarkdown –Ω–µ –º–æ–≥ –ø—Ä–∞–≤–∏–ª—å–Ω–æ –æ–±—Ä–∞–±–æ—Ç–∞—Ç—å –∫–æ–Ω—Ç–µ–Ω—Ç —Å ```markdown

**–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ:**
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–æ —É–¥–∞–ª–µ–Ω–∏–µ markdown –∫–æ–¥ –±–ª–æ–∫–æ–≤ –∏–∑ –∫–æ–Ω—Ç–µ–Ω—Ç–∞ –≤ `lib/gemini.ts`
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∞ –∫–æ–Ω—Ç–µ–Ω—Ç–∞ –≤ `components/MarkdownContent.tsx`
- ‚úÖ –£–ª—É—á—à–µ–Ω–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∞ –∫–æ–Ω—Ç–µ–Ω—Ç–∞ –ø–µ—Ä–µ–¥ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ–º –≤ –ë–î

### 3. ‚ùå –ü—Ä–æ–±–ª–µ–º–∞: –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç —Ç–µ–∫—Å—Ç–∞
**–ü—Ä–∏—á–∏–Ω–∞:**
- Markdown –∫–æ–¥ –±–ª–æ–∫–∏ –Ω–µ —É–¥–∞–ª—è–ª–∏—Å—å –∏–∑ –∫–æ–Ω—Ç–µ–Ω—Ç–∞
- Excerpt —Å–æ–¥–µ—Ä–∂–∞–ª —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ —Å–∏–º–≤–æ–ª—ã

**–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ:**
- ‚úÖ –£–ª—É—á—à–µ–Ω–∞ –æ—á–∏—Å—Ç–∫–∞ markdown —Ä–∞–∑–º–µ—Ç–∫–∏ –≤ `generateExcerpt`
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–∞ –æ—á–∏—Å—Ç–∫–∞ excerpt –ø—Ä–∏ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–∏
- ‚úÖ –£–ª—É—á—à–µ–Ω–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∞ –∫–æ–Ω—Ç–µ–Ω—Ç–∞ –ø–µ—Ä–µ–¥ —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥–æ–º

## üîÑ –ò–∑–º–µ–Ω–µ–Ω–∏—è –≤ –∫–æ–¥–µ

### 1. `lib/gemini.ts` - —Ñ—É–Ω–∫—Ü–∏—è `generateExcerpt`

**–ë—ã–ª–æ:**
```typescript
export function generateExcerpt(content: string): string {
  const plainText = content
    .replace(/[#*\[\]()]/g, '')
    .replace(/\n+/g, ' ')
    .trim();
  
  const excerpt = plainText.substring(0, 150).trim();
  return excerpt.length < plainText.length ? excerpt + '...' : excerpt;
}
```

**–°—Ç–∞–ª–æ:**
```typescript
export function generateExcerpt(content: string): string {
  if (!content || content.trim().length === 0) {
    return '';
  }

  // –£–¥–∞–ª—è–µ–º markdown –∫–æ–¥ –±–ª–æ–∫–∏ (```markdown ... ```)
  let plainText = content
    .replace(/```[\w]*\n[\s\S]*?```/g, '') // –£–¥–∞–ª—è–µ–º –≤—Å–µ –∫–æ–¥ –±–ª–æ–∫–∏
    .replace(/```[\w]*/g, '') // –£–¥–∞–ª—è–µ–º –æ—Å—Ç–∞–≤—à–∏–µ—Å—è –æ—Ç–∫—Ä—ã–≤–∞—é—â–∏–µ ```
    .replace(/`[^`]+`/g, '') // –£–¥–∞–ª—è–µ–º inline –∫–æ–¥
    .replace(/[#*\[\]()]/g, '') // –£–¥–∞–ª—è–µ–º markdown —Å–∏–º–≤–æ–ª—ã
    .replace(/\n+/g, ' ') // –ó–∞–º–µ–Ω—è–µ–º –ø–µ—Ä–µ–Ω–æ—Å—ã —Å—Ç—Ä–æ–∫ –Ω–∞ –ø—Ä–æ–±–µ–ª—ã
    .replace(/\s+/g, ' ') // –£–¥–∞–ª—è–µ–º –º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ –ø—Ä–æ–±–µ–ª—ã
    .trim();
  
  // –ï—Å–ª–∏ –ø–æ—Å–ª–µ –æ—á–∏—Å—Ç–∫–∏ —Ç–µ–∫—Å—Ç –ø—É—Å—Ç–æ–π, –±–µ—Ä–µ–º –ø–µ—Ä–≤—ã–µ 150 —Å–∏–º–≤–æ–ª–æ–≤ –±–µ–∑ –æ–±—Ä–∞–±–æ—Ç–∫–∏
  if (plainText.length === 0) {
    plainText = content
      .replace(/\n+/g, ' ')
      .replace(/\s+/g, ' ')
      .trim();
  }
  
  const excerpt = plainText.substring(0, 150).trim();
  return excerpt.length < plainText.length ? excerpt + '...' : excerpt;
}
```

### 2. `lib/gemini.ts` - —Ñ—É–Ω–∫—Ü–∏—è `generateArticle`

**–î–æ–±–∞–≤–ª–µ–Ω–æ:**
```typescript
// –£–¥–∞–ª—è–µ–º markdown –∫–æ–¥ –±–ª–æ–∫–∏ –∏–∑ –Ω–∞—á–∞–ª–∞ –∫–æ–Ω—Ç–µ–Ω—Ç–∞, –µ—Å–ª–∏ –æ–Ω–∏ –µ—Å—Ç—å
// –ò–Ω–æ–≥–¥–∞ Gemini –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –∫–æ–Ω—Ç–µ–Ω—Ç –≤ —Ñ–æ—Ä–º–∞—Ç–µ ```markdown ... ```
content = content
  .replace(/^```[\w]*\n?/i, '') // –£–¥–∞–ª—è–µ–º –æ—Ç–∫—Ä—ã–≤–∞—é—â–∏–π ```markdown
  .replace(/\n?```\s*$/i, '') // –£–¥–∞–ª—è–µ–º –∑–∞–∫—Ä—ã–≤–∞—é—â–∏–π ```
  .trim();
```

### 3. `components/MarkdownContent.tsx`

**–î–æ–±–∞–≤–ª–µ–Ω–æ:**
```typescript
// –£–¥–∞–ª—è–µ–º markdown –∫–æ–¥ –±–ª–æ–∫–∏ –∏–∑ –Ω–∞—á–∞–ª–∞ –∫–æ–Ω—Ç–µ–Ω—Ç–∞, –µ—Å–ª–∏ –æ–Ω–∏ –µ—Å—Ç—å
// –ò–Ω–æ–≥–¥–∞ –∫–æ–Ω—Ç–µ–Ω—Ç –º–æ–∂–µ—Ç —Å–æ–¥–µ—Ä–∂–∞—Ç—å ```markdown ... ```
let processedContent = content
  .replace(/^```[\w]*\n?/i, '') // –£–¥–∞–ª—è–µ–º –æ—Ç–∫—Ä—ã–≤–∞—é—â–∏–π ```markdown
  .replace(/\n?```\s*$/i, '') // –£–¥–∞–ª—è–µ–º –∑–∞–∫—Ä—ã–≤–∞—é—â–∏–π ```
  .trim();
```

### 4. `app/faq/[slug]/page.tsx`

**–î–æ–±–∞–≤–ª–µ–Ω–æ:**
```typescript
{article.excerpt && (
  <p className="text-base text-slate-600 dark:text-slate-400 sm:text-lg md:text-xl leading-relaxed break-words">
    {article.excerpt.replace(/```[\w]*/g, '').replace(/`/g, '').trim()}
  </p>
)}
```

## ‚úÖ –†–µ–∑—É–ª—å—Ç–∞—Ç

–ü–æ—Å–ª–µ –≤—Å–µ—Ö –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–π:

1. **Excerpt –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç—Å—è:**
   - –£–¥–∞–ª—è—é—Ç—Å—è markdown –∫–æ–¥ –±–ª–æ–∫–∏
   - –£–¥–∞–ª—è—é—Ç—Å—è —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ —Å–∏–º–≤–æ–ª—ã
   - –û—Å—Ç–∞–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ —á–∏—Å—Ç—ã–π —Ç–µ–∫—Å—Ç

2. **–ö–æ–Ω—Ç–µ–Ω—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è:**
   - –£–¥–∞–ª—è—é—Ç—Å—è markdown –∫–æ–¥ –±–ª–æ–∫–∏ –∏–∑ –Ω–∞—á–∞–ª–∞ –∫–æ–Ω—Ç–µ–Ω—Ç–∞
   - ReactMarkdown –ø—Ä–∞–≤–∏–ª—å–Ω–æ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –∫–æ–Ω—Ç–µ–Ω—Ç
   - –ö–æ–Ω—Ç–µ–Ω—Ç –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è —Å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–º —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ–º

3. **Excerpt –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è:**
   - –û—á–∏—â–∞–µ—Ç—Å—è –æ—Ç —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏—Ö —Å–∏–º–≤–æ–ª–æ–≤ –ø—Ä–∏ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–∏
   - –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ —á–∏—Å—Ç—ã–π —Ç–µ–∫—Å—Ç

## üéØ –ü—Ä–æ–≤–µ—Ä–∫–∞

–ü–æ—Å–ª–µ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–π –ø—Ä–æ–≤–µ—Ä—å—Ç–µ:

1. **Excerpt:**
   - ‚úÖ –ù–µ —Å–æ–¥–µ—Ä–∂–∏—Ç "```markdown"
   - ‚úÖ –ù–µ —Å–æ–¥–µ—Ä–∂–∏—Ç —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏—Ö —Å–∏–º–≤–æ–ª–æ–≤
   - ‚úÖ –ß–∏—Å—Ç—ã–π —Ç–µ–∫—Å—Ç, —á–∏—Ç–∞–µ–º—ã–π –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

2. **–ö–æ–Ω—Ç–µ–Ω—Ç:**
   - ‚úÖ –û—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –ø–æ–ª–Ω–æ—Å—Ç—å—é
   - ‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω–æ–µ —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
   - ‚úÖ –ù–µ—Ç —Ç–µ–º–Ω—ã—Ö –±–ª–æ–∫–æ–≤
   - ‚úÖ Markdown –ø—Ä–∞–≤–∏–ª—å–Ω–æ —Ä–µ–Ω–¥–µ—Ä–∏—Ç—Å—è

3. **–û–±—â–µ–µ:**
   - ‚úÖ –°—Ç–∞—Ç—å—è —á–∏—Ç–∞–µ–º–∞
   - ‚úÖ –í—Å–µ —ç–ª–µ–º–µ–Ω—Ç—ã –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
   - ‚úÖ –ù–µ—Ç —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏—Ö –∞—Ä—Ç–µ—Ñ–∞–∫—Ç–æ–≤

---

**–î–∞—Ç–∞ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è:** 2025-01-27  
**–°—Ç–∞—Ç—É—Å:** ‚úÖ –í—Å–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø—Ä–∏–º–µ–Ω–µ–Ω—ã

